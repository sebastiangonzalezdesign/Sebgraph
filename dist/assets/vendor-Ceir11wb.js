var Uo=Object.defineProperty;var Go=(i,e,s)=>e in i?Uo(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var Wn=(i,e,s)=>Go(i,typeof e!="symbol"?e+"":e,s);function _mergeNamespaces(i,e){for(var s=0;s<e.length;s++){const o=e[s];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$1(i,e,s){this.props=i,this.context=e,this.refs=D$2,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,e,s){this.props=i,this.context=e,this.refs=D$2,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$2(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,e,s){var o,a={},c=null,h=null;if(e!=null)for(o in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(c=""+e.key),e)J.call(e,o)&&!L$1.hasOwnProperty(o)&&(a[o]=e[o]);var d=arguments.length-2;if(d===1)a.children=s;else if(1<d){for(var g=Array(d),_=0;_<d;_++)g[_]=arguments[_+2];a.children=g}if(i&&i.defaultProps)for(o in d=i.defaultProps,d)a[o]===void 0&&(a[o]=d[o]);return{$$typeof:l$1,type:i,key:c,ref:h,props:a,_owner:K$1.current}}function N$1(i,e){return{$$typeof:l$1,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(i,e){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):e.toString(36)}function R$1(i,e,s,o,a){var c=typeof i;(c==="undefined"||c==="boolean")&&(i=null);var h=!1;if(i===null)h=!0;else switch(c){case"string":case"number":h=!0;break;case"object":switch(i.$$typeof){case l$1:case n$1:h=!0}}if(h)return h=i,a=a(h),i=o===""?"."+Q$1(h,0):o,I$1(a)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1(a,e,s,"",function(_){return _})):a!=null&&(O$1(a)&&(a=N$1(a,s+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+i)),e.push(a)),1;if(h=0,o=o===""?".":o+":",I$1(i))for(var d=0;d<i.length;d++){c=i[d];var g=o+Q$1(c,d);h+=R$1(c,e,s,g,a)}else if(g=A$1(i),typeof g=="function")for(i=g.call(i),d=0;!(c=i.next()).done;)c=c.value,g=o+Q$1(c,d++),h+=R$1(c,e,s,g,a);else if(c==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function S$2(i,e,s){if(i==null)return i;var o=[],a=0;return R$1(i,o,"","",function(c){return e.call(s,c,a++)}),o}function T$1(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(i,e,s){S$2(i,function(){e.apply(this,arguments)},s)},count:function(i){var e=0;return S$2(i,function(){e++}),e},toArray:function(i){return S$2(i,function(e){return e})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,e,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$2({},i.props),a=i.key,c=i.ref,h=i._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,h=K$1.current),e.key!==void 0&&(a=""+e.key),i.type&&i.type.defaultProps)var d=i.type.defaultProps;for(g in e)J.call(e,g)&&!L$1.hasOwnProperty(g)&&(o[g]=e[g]===void 0&&d!==void 0?d[g]:e[g])}var g=arguments.length-2;if(g===1)o.children=s;else if(1<g){d=Array(g);for(var _=0;_<g;_++)d[_]=arguments[_+2];o.children=d}return{$$typeof:l$1,type:i.type,key:a,ref:c,props:o,_owner:h}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var e=M$1.bind(null,i);return e.type=i,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,e){return{$$typeof:x,type:i,compare:e===void 0?null:e}};react_production_min.startTransition=function(i){var e=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=e}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,e){return U$1.current.useCallback(i,e)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,e){return U$1.current.useEffect(i,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,e,s){return U$1.current.useImperativeHandle(i,e,s)};react_production_min.useInsertionEffect=function(i,e){return U$1.current.useInsertionEffect(i,e)};react_production_min.useLayoutEffect=function(i,e){return U$1.current.useLayoutEffect(i,e)};react_production_min.useMemo=function(i,e){return U$1.current.useMemo(i,e)};react_production_min.useReducer=function(i,e,s){return U$1.current.useReducer(i,e,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,e,s){return U$1.current.useSyncExternalStore(i,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,e,s){var o,a={},c=null,h=null;s!==void 0&&(c=""+s),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(h=e.ref);for(o in e)m$1.call(e,o)&&!p$1.hasOwnProperty(o)&&(a[o]=e[o]);if(i&&i.defaultProps)for(o in e=i.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:k,type:i,key:c,ref:h,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(dt,vt){var Ft=dt.length;dt.push(vt);e:for(;0<Ft;){var Lt=Ft-1>>>1,Yt=dt[Lt];if(0<a(Yt,vt))dt[Lt]=vt,dt[Ft]=Yt,Ft=Lt;else break e}}function s(dt){return dt.length===0?null:dt[0]}function o(dt){if(dt.length===0)return null;var vt=dt[0],Ft=dt.pop();if(Ft!==vt){dt[0]=Ft;e:for(var Lt=0,Yt=dt.length,Qt=Yt>>>1;Lt<Qt;){var tr=2*(Lt+1)-1,Mt=dt[tr],mt=tr+1,Rt=dt[mt];if(0>a(Mt,Ft))mt<Yt&&0>a(Rt,Mt)?(dt[Lt]=Rt,dt[mt]=Ft,Lt=mt):(dt[Lt]=Mt,dt[tr]=Ft,Lt=tr);else if(mt<Yt&&0>a(Rt,Ft))dt[Lt]=Rt,dt[mt]=Ft,Lt=mt;else break e}}return vt}function a(dt,vt){var Ft=dt.sortIndex-vt.sortIndex;return Ft!==0?Ft:dt.id-vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var g=[],_=[],$=1,nt=null,et=3,rt=!1,lt=!1,ut=!1,gt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(dt){for(var vt=s(_);vt!==null;){if(vt.callback===null)o(_);else if(vt.startTime<=dt)o(_),vt.sortIndex=vt.expirationTime,e(g,vt);else break;vt=s(_)}}function ct(dt){if(ut=!1,ot(dt),!lt)if(s(g)!==null)lt=!0,Ct(Pt);else{var vt=s(_);vt!==null&&kt(ct,vt.startTime-dt)}}function Pt(dt,vt){lt=!1,ut&&(ut=!1,at(pt),pt=-1),rt=!0;var Ft=et;try{for(ot(vt),nt=s(g);nt!==null&&(!(nt.expirationTime>vt)||dt&&!xt());){var Lt=nt.callback;if(typeof Lt=="function"){nt.callback=null,et=nt.priorityLevel;var Yt=Lt(nt.expirationTime<=vt);vt=i.unstable_now(),typeof Yt=="function"?nt.callback=Yt:nt===s(g)&&o(g),ot(vt)}else o(g);nt=s(g)}if(nt!==null)var Qt=!0;else{var tr=s(_);tr!==null&&kt(ct,tr.startTime-vt),Qt=!1}return Qt}finally{nt=null,et=Ft,rt=!1}}var At=!1,yt=null,pt=-1,_t=5,St=-1;function xt(){return!(i.unstable_now()-St<_t)}function It(){if(yt!==null){var dt=i.unstable_now();St=dt;var vt=!0;try{vt=yt(!0,dt)}finally{vt?wt():(At=!1,yt=null)}}else At=!1}var wt;if(typeof st=="function")wt=function(){st(It)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,Ut=Wt.port2;Wt.port1.onmessage=It,wt=function(){Ut.postMessage(null)}}else wt=function(){gt(It,0)};function Ct(dt){yt=dt,At||(At=!0,wt())}function kt(dt,vt){pt=gt(function(){dt(i.unstable_now())},vt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(dt){dt.callback=null},i.unstable_continueExecution=function(){lt||rt||(lt=!0,Ct(Pt))},i.unstable_forceFrameRate=function(dt){0>dt||125<dt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_t=0<dt?Math.floor(1e3/dt):5},i.unstable_getCurrentPriorityLevel=function(){return et},i.unstable_getFirstCallbackNode=function(){return s(g)},i.unstable_next=function(dt){switch(et){case 1:case 2:case 3:var vt=3;break;default:vt=et}var Ft=et;et=vt;try{return dt()}finally{et=Ft}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(dt,vt){switch(dt){case 1:case 2:case 3:case 4:case 5:break;default:dt=3}var Ft=et;et=dt;try{return vt()}finally{et=Ft}},i.unstable_scheduleCallback=function(dt,vt,Ft){var Lt=i.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Lt+Ft:Lt):Ft=Lt,dt){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=Ft+Yt,dt={id:$++,callback:vt,priorityLevel:dt,startTime:Ft,expirationTime:Yt,sortIndex:-1},Ft>Lt?(dt.sortIndex=Ft,e(_,dt),s(g)===null&&dt===s(_)&&(ut?(at(pt),pt=-1):ut=!0,kt(ct,Ft-Lt))):(dt.sortIndex=Yt,e(g,dt),lt||rt||(lt=!0,Ct(Pt))),dt},i.unstable_shouldYield=xt,i.unstable_wrapCallback=function(dt){var vt=et;return function(){var Ft=et;et=vt;try{return dt.apply(this,arguments)}finally{et=Ft}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,e){ha(i,e),ha(i+"Capture",e)}function ha(i,e){for(ea[i]=e,i=0;i<e.length;i++)da.add(e[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,e,s,o){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,e,s,o){if(e===null||typeof e>"u"||pa(i,e,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(i,e,s,o,a,c,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=i,this.type=e,this.sanitizeURL=c,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];z[e]=new v$1(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v$1(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v$1(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ra,sa);z[e]=new v$1(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,e,s,o){var a=z.hasOwnProperty(e)?z[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,a,o)&&(s=null),o||a===null?oa(e)&&(s===null?i.removeAttribute(e):i.setAttribute(e,""+s)):a.mustUseProperty?i[a.propertyName]=s===null?a.type===3?!1:"":s:(e=a.attributeName,o=a.attributeNamespace,s===null?i.removeAttribute(e):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,o?i.setAttributeNS(o,e,s):i.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+i}var Na=!1;function Oa(i,e){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var o=_}Reflect.construct(i,[],e)}else{try{e.call()}catch(_){o=_}i.call(e.prototype)}else{try{throw Error()}catch(_){o=_}i()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),c=o.stack.split(`
`),h=a.length-1,d=c.length-1;1<=h&&0<=d&&a[h]!==c[d];)d--;for(;1<=h&&0<=d;h--,d--)if(a[h]!==c[d]){if(h!==1||d!==1)do if(h--,d--,0>d||a[h]!==c[d]){var g=`
`+a[h].replace(" at new "," at ");return i.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",i.displayName)),g}while(1<=h&&0<=d);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return e=i.displayName||null,e!==null?e:Qa(i.type)||"Memo";case Ha:e=i._payload,i=i._init;try{return Qa(i(e))}catch{}}return null}function Ra(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(i){var e=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),o=""+i[e];if(!i.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,c=s.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return a.call(this)},set:function(h){o=""+h,c.call(this,h)}}),Object.defineProperty(i,e,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var s=e.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==s?(e.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,e){var s=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),i._wrapperState={initialChecked:o,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(i,e){e=e.checked,e!=null&&ta(i,"checked",e,!1)}function bb(i,e){ab(i,e);var s=Sa(e.value),o=e.type;if(s!=null)o==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?cb(i,e.type,s):e.hasOwnProperty("defaultValue")&&cb(i,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function db(i,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,s||e===i.value||(i.value=e),i.defaultValue=e}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,e,s){(e!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,e,s,o){if(i=i.options,e){e={};for(var a=0;a<s.length;a++)e["$"+s[a]]=!0;for(s=0;s<i.length;s++)a=e.hasOwnProperty("$"+i[s].value),i[s].selected!==a&&(i[s].selected=a),a&&o&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,a=0;a<i.length;a++){if(i[a].value===s){i[a].selected=!0,o&&(i[a].defaultSelected=!0);return}e!==null||i[a].disabled||(e=i[a])}e!==null&&(e.selected=!0)}}function gb(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}e=s}e==null&&(e=""),s=e}i._wrapperState={initialValue:Sa(s)}}function ib(i,e){var s=Sa(e.value),o=Sa(e.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),e.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),o!=null&&(i.defaultValue=""+o)}function jb(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,o,a){MSApp.execUnsafeLocalFunction(function(){return i(e,s,o,a)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function ob(i,e){if(e){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=e;return}}i.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pb[e]=pb[i]})});function rb(i,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(i)&&pb[i]?(""+e).trim():e+"px"}function sb(i,e){i=i.style;for(var s in e)if(e.hasOwnProperty(s)){var o=s.indexOf("--")===0,a=rb(s,e[s],o);s==="float"&&(s="cssFloat"),o?i.setProperty(s,a):i[s]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,e){if(e){if(tb[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var e=i.stateNode;e&&(e=Db(e),yb(i.stateNode,i.type,e))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,e=Ab;if(Ab=zb=null,Bb(i),e)for(i=0;i<e.length;i++)Bb(e[i])}}function Gb(i,e){return i(e)}function Hb(){}var Ib=!1;function Jb(i,e,s){if(Ib)return i(e,s);Ib=!0;try{return Gb(i,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,e){var s=i.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,e,s,o,a,c,h,d,g){var _=Array.prototype.slice.call(arguments,3);try{e.apply(s,_)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,e,s,o,a,c,h,d,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,e,s,o,a,c,h,d,g){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(i){var e=i,s=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(s=e.return),i=e.return;while(i)}return e.tag===3?s:null}function Wb(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var e=i.alternate;if(!e){if(e=Vb(i),e===null)throw Error(p(188));return e!==i?null:i}for(var s=i,o=e;;){var a=s.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){s=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===s)return Xb(a),i;if(c===o)return Xb(a),e;c=c.sibling}throw Error(p(188))}if(s.return!==o.return)s=a,o=c;else{for(var h=!1,d=a.child;d;){if(d===s){h=!0,s=a,o=c;break}if(d===o){h=!0,o=a,s=c;break}d=d.sibling}if(!h){for(d=c.child;d;){if(d===s){h=!0,s=c,o=a;break}if(d===o){h=!0,o=c,s=a;break}d=d.sibling}if(!h)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?i:e}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=$b(i);if(e!==null)return e;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,e){var s=i.pendingLanes;if(s===0)return 0;var o=0,a=i.suspendedLanes,c=i.pingedLanes,h=s&268435455;if(h!==0){var d=h&~a;d!==0?o=tc(d):(c&=h,c!==0&&(o=tc(c)))}else h=s&~a,h!==0?o=tc(h):c!==0&&(o=tc(c));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,c=e&-e,a>=c||a===16&&(c&4194240)!==0))return e;if(o&4&&(o|=s&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=o;0<e;)s=31-oc(e),a=1<<s,o|=i[s],e&=~a;return o}function vc(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,e){for(var s=i.suspendedLanes,o=i.pingedLanes,a=i.expirationTimes,c=i.pendingLanes;0<c;){var h=31-oc(c),d=1<<h,g=a[h];g===-1?(!(d&s)||d&o)&&(a[h]=vc(d,e)):g<=e&&(i.expiredLanes|=d),c&=~d}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var e=[],s=0;31>s;s++)e.push(i);return e}function Ac(i,e,s){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-oc(e),i[e]=s}function Bc(i,e){var s=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<s;){var a=31-oc(s),c=1<<a;e[a]=0,o[a]=-1,i[a]=-1,s&=~c}}function Cc(i,e){var s=i.entangledLanes|=e;for(i=i.entanglements;s;){var o=31-oc(s),a=1<<o;a&e|i[o]&e&&(i[o]|=e),s&=~a}}var C$1=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,e){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(i,e,s,o,a,c){return i===null||i.nativeEvent!==c?(i={blockedOn:e,domEventName:s,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),i):(i.eventSystemFlags|=o,e=i.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),i)}function Uc(i,e,s,o,a){switch(e){case"focusin":return Lc=Tc(Lc,i,e,s,o,a),!0;case"dragenter":return Mc=Tc(Mc,i,e,s,o,a),!0;case"mouseover":return Nc=Tc(Nc,i,e,s,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,i,e,s,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,i,e,s,o,a)),!0}return!1}function Vc(i){var e=Wc(i.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){i.blockedOn=e,Ic(i.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var s=Yc(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return e=Cb(s),e!==null&&Fc(e),i.blockedOn=s,!1;e.shift()}return!0}function Zc(i,e,s){Xc(i)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,e){i.blockedOn===e&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function e(a){return ad(a,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,e,s,o){var a=C$1,c=cd.transition;cd.transition=null;try{C$1=1,fd(i,e,s,o)}finally{C$1=a,cd.transition=c}}function gd(i,e,s,o){var a=C$1,c=cd.transition;cd.transition=null;try{C$1=4,fd(i,e,s,o)}finally{C$1=a,cd.transition=c}}function fd(i,e,s,o){if(dd){var a=Yc(i,e,s,o);if(a===null)hd(i,e,o,id$2,s),Sc(i,o);else if(Uc(a,i,e,s,o))o.stopPropagation();else if(Sc(i,o),e&4&&-1<Rc.indexOf(i)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(i,e,s,o),c===null&&hd(i,e,o,id$2,s),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(i,e,o,null,s)}}var id$2=null;function Yc(i,e,s,o){if(id$2=null,i=xb(o),i=Wc(i),i!==null)if(e=Vb(i),e===null)i=null;else if(s=e.tag,s===13){if(i=Wb(e),i!==null)return i;i=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return id$2=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,e=ld,s=e.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(i=0;i<s&&e[i]===a[i];i++);var h=s-i;for(o=1;o<=h&&e[s-o]===a[c-o];o++);return md=a.slice(i,1<o?1-o:void 0)}function od(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function e(s,o,a,c,h){this._reactName=s,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var d in i)i.hasOwnProperty(d)&&(s=i[d],this[d]=s?s(c):c[d]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Od[i])?!!e[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var e=Md[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe$1=!1;function ge$1(i,e){switch(i){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,e){switch(i){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee);case"textInput":return i=e.data,i===ee&&fe$1?null:i;default:return null}}function ke(i,e){if(ie)return i==="compositionend"||!ae&&ge$1(i,e)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!le$1[i.type]:e==="textarea"}function ne$1(i,e,s,o){Eb(o),e=oe$1(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,o),i.push({event:s,listeners:e}))}var pe$1=null,qe=null;function re$1(i){se(i,0)}function te(i){var e=ue$1(i);if(Wa(e))return i}function ve(i,e){if(i==="change")return e}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var e=[];ne$1(e,qe,i,xb(i)),Jb(re$1,e)}}function Ce(i,e,s){i==="focusin"?(Ae(),pe$1=e,qe=s,pe$1.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De$1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee$1(i,e){if(i==="click")return te(e)}function Fe(i,e){if(i==="input"||i==="change")return te(e)}function Ge(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(i,e){if(He(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var a=s[o];if(!ja.call(e,a)||!He(i[a],e[a]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,e){var s=Je(i);i=0;for(var o;s;){if(s.nodeType===3){if(o=i+s.textContent.length,i<=e&&o>=e)return{node:s,offset:e-i};i=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Le(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var i=window,e=Xa();e instanceof i.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)i=e.contentWindow;else break;e=Xa(i.document)}return e}function Ne(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Oe(i){var e=Me(),s=i.focusedElem,o=i.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(e=o.start,i=o.end,i===void 0&&(i=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(i,s.value.length);else if(i=(e=s.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var a=s.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!i.extend&&c>o&&(a=o,o=c,c=a),a=Ke(s,c);var h=Ke(s,o);a&&h&&(i.rangeCount!==1||i.anchorNode!==a.node||i.anchorOffset!==a.offset||i.focusNode!==h.node||i.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),i.removeAllRanges(),c>o?(i.addRange(e),i.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),i.addRange(e)))}}for(e=[],i=s;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)i=e[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(i,e,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie$1(Se,o)||(Se=o,o=oe$1(Re,"onSelect"),0<o.length&&(e=new td("onSelect","select",null,e,s),i.push({event:e,listeners:o}),e.target=Qe)))}function Ve(i,e){var s={};return s[i.toLowerCase()]=e.toLowerCase(),s["Webkit"+i]="webkit"+e,s["Moz"+i]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var e=We[i],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[i]=e[s];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,e){df.set(i,e),fa(e,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,e,s){var o=i.type||"unknown-event";i.currentTarget=s,Ub(o,e,void 0,i),i.currentTarget=null}function se(i,e){e=(e&4)!==0;for(var s=0;s<i.length;s++){var o=i[s],a=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var h=o.length-1;0<=h;h--){var d=o[h],g=d.instance,_=d.currentTarget;if(d=d.listener,g!==c&&a.isPropagationStopped())break e;nf(a,d,_),c=g}else for(h=0;h<o.length;h++){if(d=o[h],g=d.instance,_=d.currentTarget,d=d.listener,g!==c&&a.isPropagationStopped())break e;nf(a,d,_),c=g}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D$1(i,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var o=i+"__bubble";s.has(o)||(pf(e,i,2,!1),s.add(o))}function qf(i,e,s){var o=0;e&&(o|=4),pf(s,i,o,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(i,e,s,o){switch(jd(e)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}s=a.bind(null,e,s,i),a=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?i.addEventListener(e,s,{capture:!0,passive:a}):i.addEventListener(e,s,!0):a!==void 0?i.addEventListener(e,s,{passive:a}):i.addEventListener(e,s,!1)}function hd(i,e,s,o,a){var c=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var d=o.stateNode.containerInfo;if(d===a||d.nodeType===8&&d.parentNode===a)break;if(h===4)for(h=o.return;h!==null;){var g=h.tag;if((g===3||g===4)&&(g=h.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;h=h.return}for(;d!==null;){if(h=Wc(d),h===null)return;if(g=h.tag,g===5||g===6){o=c=h;continue e}d=d.parentNode}}o=o.return}Jb(function(){var _=c,$=xb(s),nt=[];e:{var et=df.get(i);if(et!==void 0){var rt=td,lt=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":lt="focus",rt=Fd;break;case"focusout":lt="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var ut=(e&4)!==0,gt=!ut&&i==="scroll",at=ut?et!==null?et+"Capture":null:et;ut=[];for(var st=_,ot;st!==null;){ot=st;var ct=ot.stateNode;if(ot.tag===5&&ct!==null&&(ot=ct,at!==null&&(ct=Kb(st,at),ct!=null&&ut.push(tf(st,ct,ot)))),gt)break;st=st.return}0<ut.length&&(et=new rt(et,lt,null,s,$),nt.push({event:et,listeners:ut}))}}if(!(e&7)){e:{if(et=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",et&&s!==wb&&(lt=s.relatedTarget||s.fromElement)&&(Wc(lt)||lt[uf]))break e;if((rt||et)&&(et=$.window===$?$:(et=$.ownerDocument)?et.defaultView||et.parentWindow:window,rt?(lt=s.relatedTarget||s.toElement,rt=_,lt=lt?Wc(lt):null,lt!==null&&(gt=Vb(lt),lt!==gt||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(rt=null,lt=_),rt!==lt)){if(ut=Bd,ct="onMouseLeave",at="onMouseEnter",st="mouse",(i==="pointerout"||i==="pointerover")&&(ut=Td,ct="onPointerLeave",at="onPointerEnter",st="pointer"),gt=rt==null?et:ue$1(rt),ot=lt==null?et:ue$1(lt),et=new ut(ct,st+"leave",rt,s,$),et.target=gt,et.relatedTarget=ot,ct=null,Wc($)===_&&(ut=new ut(at,st+"enter",lt,s,$),ut.target=ot,ut.relatedTarget=gt,ct=ut),gt=ct,rt&&lt)t:{for(ut=rt,at=lt,st=0,ot=ut;ot;ot=vf(ot))st++;for(ot=0,ct=at;ct;ct=vf(ct))ot++;for(;0<st-ot;)ut=vf(ut),st--;for(;0<ot-st;)at=vf(at),ot--;for(;st--;){if(ut===at||at!==null&&ut===at.alternate)break t;ut=vf(ut),at=vf(at)}ut=null}else ut=null;rt!==null&&wf(nt,et,rt,ut,!1),lt!==null&&gt!==null&&wf(nt,gt,lt,ut,!0)}}e:{if(et=_?ue$1(_):window,rt=et.nodeName&&et.nodeName.toLowerCase(),rt==="select"||rt==="input"&&et.type==="file")var Pt=ve;else if(me$1(et))if(we$1)Pt=Fe;else{Pt=De$1;var At=Ce}else(rt=et.nodeName)&&rt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(Pt=Ee$1);if(Pt&&(Pt=Pt(i,_))){ne$1(nt,Pt,s,$);break e}At&&At(i,et,_),i==="focusout"&&(At=et._wrapperState)&&At.controlled&&et.type==="number"&&cb(et,"number",et.value)}switch(At=_?ue$1(_):window,i){case"focusin":(me$1(At)||At.contentEditable==="true")&&(Qe=At,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(nt,s,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(nt,s,$)}var yt;if(ae)e:{switch(i){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ie?ge$1(i,s)&&(pt="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(de$1&&s.locale!=="ko"&&(ie||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ie&&(yt=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),At=oe$1(_,pt),0<At.length&&(pt=new Ld(pt,i,null,s,$),nt.push({event:pt,listeners:At}),yt?pt.data=yt:(yt=he$1(s),yt!==null&&(pt.data=yt)))),(yt=ce$1?je(i,s):ke(i,s))&&(_=oe$1(_,"onBeforeInput"),0<_.length&&($=new Ld("onBeforeInput","beforeinput",null,s,$),nt.push({event:$,listeners:_}),$.data=yt))}se(nt,e)})}function tf(i,e,s){return{instance:i,listener:e,currentTarget:s}}function oe$1(i,e){for(var s=e+"Capture",o=[];i!==null;){var a=i,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(i,s),c!=null&&o.unshift(tf(i,c,a)),c=Kb(i,e),c!=null&&o.push(tf(i,c,a))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,e,s,o,a){for(var c=e._reactName,h=[];s!==null&&s!==o;){var d=s,g=d.alternate,_=d.stateNode;if(g!==null&&g===o)break;d.tag===5&&_!==null&&(d=_,a?(g=Kb(s,c),g!=null&&h.unshift(tf(s,g,d))):a||(g=Kb(s,c),g!=null&&h.push(tf(s,g,d)))),s=s.return}h.length!==0&&i.push({event:e,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,e,s){if(e=zf(e),zf(i)!==e&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,e){var s=e,o=0;do{var a=s.nextSibling;if(i.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(o===0){i.removeChild(a),bd(e);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=a}while(s);bd(e)}function Lf(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return i;e--}else s==="/$"&&e++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var e=i[Of];if(e)return e;for(var s=i.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return e}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue$1(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,e){Tf++,Sf[Tf]=i.current,i.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,e){var s=i.type.contextTypes;if(!s)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in s)a[c]=e[c];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,e,s){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,s)}function bg(i,e,s){var o=i.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(p(108,Ra(i)||"Unknown",a));return A({},s,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,e,s){var o=i.stateNode;if(!o)throw Error(p(169));s?(i=bg(i,e,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,e=C$1;try{var s=eg;for(C$1=1;i<s.length;i++){var o=s[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),a}finally{C$1=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,e){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=e}function ug(i,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var a=32-oc(o)-1;o&=~(1<<a),s+=1;var c=32-oc(e)+a;if(30<c){var h=a-a%5;c=(o&(1<<h)-1).toString(32),o>>=h,a-=h,rg=1<<32-oc(e)+a|s<<a|o,sg=c+i}else rg=1<<c|s<<a|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=i,e=i.deletions,e===null?(i.deletions=[s],i.flags|=16):e.push(s)}function Cg(i,e){switch(i.tag){case 5:var s=i.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,xg=i,yg=Lf(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,xg=i,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var e=yg;if(e){var s=e;if(!Cg(i,e)){if(Dg(i))throw Error(p(418));e=Lf(s.nextSibling);var o=xg;e&&Cg(i,e)?Ag(o,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ef(i.type,i.memoizedProps)),e&&(e=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;e;)Ag(i,e),e=Lf(e.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(e===0){yg=Lf(i.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,e,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,i));var a=o,c=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(h){var d=a.refs;h===null?delete d[c]:d[c]=h},e._stringRef=c,e)}if(typeof i!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,i))}return i}function Mg(i,e){throw i=Object.prototype.toString.call(e),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function Ng(i){var e=i._init;return e(i._payload)}function Og(i){function e(at,st){if(i){var ot=at.deletions;ot===null?(at.deletions=[st],at.flags|=16):ot.push(st)}}function s(at,st){if(!i)return null;for(;st!==null;)e(at,st),st=st.sibling;return null}function o(at,st){for(at=new Map;st!==null;)st.key!==null?at.set(st.key,st):at.set(st.index,st),st=st.sibling;return at}function a(at,st){return at=Pg(at,st),at.index=0,at.sibling=null,at}function c(at,st,ot){return at.index=ot,i?(ot=at.alternate,ot!==null?(ot=ot.index,ot<st?(at.flags|=2,st):ot):(at.flags|=2,st)):(at.flags|=1048576,st)}function h(at){return i&&at.alternate===null&&(at.flags|=2),at}function d(at,st,ot,ct){return st===null||st.tag!==6?(st=Qg(ot,at.mode,ct),st.return=at,st):(st=a(st,ot),st.return=at,st)}function g(at,st,ot,ct){var Pt=ot.type;return Pt===ya?$(at,st,ot.props.children,ct,ot.key):st!==null&&(st.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&Ng(Pt)===st.type)?(ct=a(st,ot.props),ct.ref=Lg(at,st,ot),ct.return=at,ct):(ct=Rg(ot.type,ot.key,ot.props,null,at.mode,ct),ct.ref=Lg(at,st,ot),ct.return=at,ct)}function _(at,st,ot,ct){return st===null||st.tag!==4||st.stateNode.containerInfo!==ot.containerInfo||st.stateNode.implementation!==ot.implementation?(st=Sg(ot,at.mode,ct),st.return=at,st):(st=a(st,ot.children||[]),st.return=at,st)}function $(at,st,ot,ct,Pt){return st===null||st.tag!==7?(st=Tg(ot,at.mode,ct,Pt),st.return=at,st):(st=a(st,ot),st.return=at,st)}function nt(at,st,ot){if(typeof st=="string"&&st!==""||typeof st=="number")return st=Qg(""+st,at.mode,ot),st.return=at,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case va:return ot=Rg(st.type,st.key,st.props,null,at.mode,ot),ot.ref=Lg(at,null,st),ot.return=at,ot;case wa:return st=Sg(st,at.mode,ot),st.return=at,st;case Ha:var ct=st._init;return nt(at,ct(st._payload),ot)}if(eb(st)||Ka(st))return st=Tg(st,at.mode,ot,null),st.return=at,st;Mg(at,st)}return null}function et(at,st,ot,ct){var Pt=st!==null?st.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Pt!==null?null:d(at,st,""+ot,ct);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===Pt?g(at,st,ot,ct):null;case wa:return ot.key===Pt?_(at,st,ot,ct):null;case Ha:return Pt=ot._init,et(at,st,Pt(ot._payload),ct)}if(eb(ot)||Ka(ot))return Pt!==null?null:$(at,st,ot,ct,null);Mg(at,ot)}return null}function rt(at,st,ot,ct,Pt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return at=at.get(ot)||null,d(st,at,""+ct,Pt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return at=at.get(ct.key===null?ot:ct.key)||null,g(st,at,ct,Pt);case wa:return at=at.get(ct.key===null?ot:ct.key)||null,_(st,at,ct,Pt);case Ha:var At=ct._init;return rt(at,st,ot,At(ct._payload),Pt)}if(eb(ct)||Ka(ct))return at=at.get(ot)||null,$(st,at,ct,Pt,null);Mg(st,ct)}return null}function lt(at,st,ot,ct){for(var Pt=null,At=null,yt=st,pt=st=0,_t=null;yt!==null&&pt<ot.length;pt++){yt.index>pt?(_t=yt,yt=null):_t=yt.sibling;var St=et(at,yt,ot[pt],ct);if(St===null){yt===null&&(yt=_t);break}i&&yt&&St.alternate===null&&e(at,yt),st=c(St,st,pt),At===null?Pt=St:At.sibling=St,At=St,yt=_t}if(pt===ot.length)return s(at,yt),I&&tg(at,pt),Pt;if(yt===null){for(;pt<ot.length;pt++)yt=nt(at,ot[pt],ct),yt!==null&&(st=c(yt,st,pt),At===null?Pt=yt:At.sibling=yt,At=yt);return I&&tg(at,pt),Pt}for(yt=o(at,yt);pt<ot.length;pt++)_t=rt(yt,at,pt,ot[pt],ct),_t!==null&&(i&&_t.alternate!==null&&yt.delete(_t.key===null?pt:_t.key),st=c(_t,st,pt),At===null?Pt=_t:At.sibling=_t,At=_t);return i&&yt.forEach(function(xt){return e(at,xt)}),I&&tg(at,pt),Pt}function ut(at,st,ot,ct){var Pt=Ka(ot);if(typeof Pt!="function")throw Error(p(150));if(ot=Pt.call(ot),ot==null)throw Error(p(151));for(var At=Pt=null,yt=st,pt=st=0,_t=null,St=ot.next();yt!==null&&!St.done;pt++,St=ot.next()){yt.index>pt?(_t=yt,yt=null):_t=yt.sibling;var xt=et(at,yt,St.value,ct);if(xt===null){yt===null&&(yt=_t);break}i&&yt&&xt.alternate===null&&e(at,yt),st=c(xt,st,pt),At===null?Pt=xt:At.sibling=xt,At=xt,yt=_t}if(St.done)return s(at,yt),I&&tg(at,pt),Pt;if(yt===null){for(;!St.done;pt++,St=ot.next())St=nt(at,St.value,ct),St!==null&&(st=c(St,st,pt),At===null?Pt=St:At.sibling=St,At=St);return I&&tg(at,pt),Pt}for(yt=o(at,yt);!St.done;pt++,St=ot.next())St=rt(yt,at,pt,St.value,ct),St!==null&&(i&&St.alternate!==null&&yt.delete(St.key===null?pt:St.key),st=c(St,st,pt),At===null?Pt=St:At.sibling=St,At=St);return i&&yt.forEach(function(It){return e(at,It)}),I&&tg(at,pt),Pt}function gt(at,st,ot,ct){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var Pt=ot.key,At=st;At!==null;){if(At.key===Pt){if(Pt=ot.type,Pt===ya){if(At.tag===7){s(at,At.sibling),st=a(At,ot.props.children),st.return=at,at=st;break e}}else if(At.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&Ng(Pt)===At.type){s(at,At.sibling),st=a(At,ot.props),st.ref=Lg(at,At,ot),st.return=at,at=st;break e}s(at,At);break}else e(at,At);At=At.sibling}ot.type===ya?(st=Tg(ot.props.children,at.mode,ct,ot.key),st.return=at,at=st):(ct=Rg(ot.type,ot.key,ot.props,null,at.mode,ct),ct.ref=Lg(at,st,ot),ct.return=at,at=ct)}return h(at);case wa:e:{for(At=ot.key;st!==null;){if(st.key===At)if(st.tag===4&&st.stateNode.containerInfo===ot.containerInfo&&st.stateNode.implementation===ot.implementation){s(at,st.sibling),st=a(st,ot.children||[]),st.return=at,at=st;break e}else{s(at,st);break}else e(at,st);st=st.sibling}st=Sg(ot,at.mode,ct),st.return=at,at=st}return h(at);case Ha:return At=ot._init,gt(at,st,At(ot._payload),ct)}if(eb(ot))return lt(at,st,ot,ct);if(Ka(ot))return ut(at,st,ot,ct);Mg(at,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,st!==null&&st.tag===6?(s(at,st.sibling),st=a(st,ot),st.return=at,at=st):(s(at,st),st=Qg(ot,at.mode,ct),st.return=at,at=st),h(at)):s(at,st)}return gt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var e=Wg.current;E(Wg),i._currentValue=e}function bh(i,e,s){for(;i!==null;){var o=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),i===s)break;i=i.return}}function ch(i,e){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(dh=!0),i.firstContext=null)}function eh(i){var e=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return e}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,e,s,o){var a=e.interleaved;return a===null?(s.next=s,gh(e)):(s.next=a.next,a.next=s),e.interleaved=s,ih(i,o)}function ih(i,e){i.lanes|=e;var s=i.alternate;for(s!==null&&(s.lanes|=e),s=i,i=i.return;i!==null;)i.childLanes|=e,s=i.alternate,s!==null&&(s.childLanes|=e),s=i,i=i.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(i,e,s){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,ih(i,s)}return a=o.interleaved,a===null?(e.next=e,gh(o)):(e.next=a.next,a.next=e),o.interleaved=e,ih(i,s)}function oh(i,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}function ph(i,e){var s=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var a=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};c===null?a=c=h:c=c.next=h,s=s.next}while(s!==null);c===null?a=c=e:c=c.next=e}else a=c=e;s={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=e:i.next=e,s.lastBaseUpdate=e}function qh(i,e,s,o){var a=i.updateQueue;jh=!1;var c=a.firstBaseUpdate,h=a.lastBaseUpdate,d=a.shared.pending;if(d!==null){a.shared.pending=null;var g=d,_=g.next;g.next=null,h===null?c=_:h.next=_,h=g;var $=i.alternate;$!==null&&($=$.updateQueue,d=$.lastBaseUpdate,d!==h&&(d===null?$.firstBaseUpdate=_:d.next=_,$.lastBaseUpdate=g))}if(c!==null){var nt=a.baseState;h=0,$=_=g=null,d=c;do{var et=d.lane,rt=d.eventTime;if((o&et)===et){$!==null&&($=$.next={eventTime:rt,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var lt=i,ut=d;switch(et=e,rt=s,ut.tag){case 1:if(lt=ut.payload,typeof lt=="function"){nt=lt.call(rt,nt,et);break e}nt=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ut.payload,et=typeof lt=="function"?lt.call(rt,nt,et):lt,et==null)break e;nt=A({},nt,et);break e;case 2:jh=!0}}d.callback!==null&&d.lane!==0&&(i.flags|=64,et=a.effects,et===null?a.effects=[d]:et.push(d))}else rt={eventTime:rt,lane:et,tag:d.tag,payload:d.payload,callback:d.callback,next:null},$===null?(_=$=rt,g=nt):$=$.next=rt,h|=et;if(d=d.next,d===null){if(d=a.shared.pending,d===null)break;et=d,d=et.next,et.next=null,a.lastBaseUpdate=et,a.shared.pending=null}}while(!0);if($===null&&(g=nt),a.baseState=g,a.firstBaseUpdate=_,a.lastBaseUpdate=$,e=a.shared.interleaved,e!==null){a=e;do h|=a.lane,a=a.next;while(a!==e)}else c===null&&(a.shared.lanes=0);rh|=h,i.lanes=h,i.memoizedState=nt}}function sh(i,e,s){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var o=i[e],a=o.callback;if(a!==null){if(o.callback=null,o=s,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p(174));return i}function yh(i,e){switch(G(wh,e),G(vh$1,i),G(uh,th),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=lb(e,i)}E(uh),G(uh,e)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(i){xh(wh.current);var e=xh(uh.current),s=lb(e,i.type);e!==s&&(G(vh$1,i),G(uh,s))}function Bh(i){vh$1.current===i&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(i){for(var e=i;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(i,e){if(e===null)return!1;for(var s=0;s<e.length&&s<i.length;s++)if(!He(i[s],e[s]))return!1;return!0}function Nh(i,e,s,o,a,c){if(Hh=c,M=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=s(o,a),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,i=s(o,a)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,e)throw Error(p(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var e=O===null?M.memoizedState:O.next;if(e!==null)O=e,N=i;else{if(i===null)throw Error(p(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,e){return typeof e=="function"?e(i):e}function Wh(i){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=N,a=o.baseQueue,c=s.pending;if(c!==null){if(a!==null){var h=a.next;a.next=c.next,c.next=h}o.baseQueue=a=c,s.pending=null}if(a!==null){c=a.next,o=o.baseState;var d=h=null,g=null,_=c;do{var $=_.lane;if((Hh&$)===$)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:i(o,_.action);else{var nt={lane:$,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(d=g=nt,h=o):g=g.next=nt,M.lanes|=$,rh|=$}_=_.next}while(_!==null&&_!==c);g===null?h=o:g.next=d,He(o,e.memoizedState)||(dh=!0),e.memoizedState=o,e.baseState=h,e.baseQueue=g,s.lastRenderedState=o}if(i=s.interleaved,i!==null){a=i;do c=a.lane,M.lanes|=c,rh|=c,a=a.next;while(a!==i)}else a===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Xh(i){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=s.dispatch,a=s.pending,c=e.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do c=i(c,h.action),h=h.next;while(h!==a);He(c,e.memoizedState)||(dh=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),s.lastRenderedState=c}return[c,o]}function Yh(){}function Zh(i,e){var s=M,o=Uh(),a=e(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,dh=!0),o=o.queue,$h(ai.bind(null,s,o,i),[i]),o.getSnapshot!==e||c||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,o,a,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,e,a)}return a}function di(i,e,s){i.flags|=16384,i={getSnapshot:e,value:s},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.stores=[i]):(s=e.stores,s===null?e.stores=[i]:s.push(i))}function ci(i,e,s,o){e.value=s,e.getSnapshot=o,ei(e)&&fi(i)}function ai(i,e,s){return s(function(){ei(e)&&fi(i)})}function ei(i){var e=i.getSnapshot;i=i.value;try{var s=e();return!He(i,s)}catch{return!0}}function fi(i){var e=ih(i,1);e!==null&&gi(e,i,1,-1)}function hi(i){var e=Th();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},e.queue=i,i=i.dispatch=ii.bind(null,M,i),[e.memoizedState,i]}function bi(i,e,s,o){return i={tag:i,create:e,destroy:s,deps:o,next:null},e=M.updateQueue,e===null?(e={lastEffect:null,stores:null},M.updateQueue=e,e.lastEffect=i.next=i):(s=e.lastEffect,s===null?e.lastEffect=i.next=i:(o=s.next,s.next=i,i.next=o,e.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,e,s,o){var a=Th();M.flags|=i,a.memoizedState=bi(1|e,s,void 0,o===void 0?null:o)}function li(i,e,s,o){var a=Uh();o=o===void 0?null:o;var c=void 0;if(N!==null){var h=N.memoizedState;if(c=h.destroy,o!==null&&Mh(o,h.deps)){a.memoizedState=bi(e,s,c,o);return}}M.flags|=i,a.memoizedState=bi(1|e,s,c,o)}function mi(i,e){return ki(8390656,8,i,e)}function $h(i,e){return li(2048,8,i,e)}function ni(i,e){return li(4,2,i,e)}function oi(i,e){return li(4,4,i,e)}function pi(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function qi(i,e,s){return s=s!=null?s.concat([i]):null,li(4,4,pi.bind(null,e,i),s)}function ri(){}function si(i,e){var s=Uh();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Mh(e,o[1])?o[0]:(s.memoizedState=[i,e],i)}function ti(i,e){var s=Uh();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Mh(e,o[1])?o[0]:(i=i(),s.memoizedState=[i,e],i)}function ui(i,e,s){return Hh&21?(He(s,e)||(s=yc(),M.lanes|=s,rh|=s,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=s)}function vi(i,e){var s=C$1;C$1=s!==0&&4>s?s:4,i(!0);var o=Gh.transition;Gh.transition={};try{i(!1),e()}finally{C$1=s,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(i,e,s){var o=yi(i);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(e,s);else if(s=hh(i,e,s,o),s!==null){var a=R();gi(s,i,o,a),Bi(s,e,o)}}function ii(i,e,s){var o=yi(i),a={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(e,a);else{var c=i.alternate;if(i.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var h=e.lastRenderedState,d=c(h,s);if(a.hasEagerState=!0,a.eagerState=d,He(d,h)){var g=e.interleaved;g===null?(a.next=a,gh(e)):(a.next=g.next,g.next=a),e.interleaved=a;return}}catch{}finally{}s=hh(i,e,a,o),s!==null&&(a=R(),gi(s,i,o,a),Bi(s,e,o))}}function zi(i){var e=i.alternate;return i===M||e!==null&&e===M}function Ai(i,e){Jh=Ih=!0;var s=i.pending;s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e}function Bi(i,e,s){if(s&4194240){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,e){return Th().memoizedState=[i,e===void 0?null:e],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,e,s){return s=s!=null?s.concat([i]):null,ki(4194308,4,pi.bind(null,e,i),s)},useLayoutEffect:function(i,e){return ki(4194308,4,i,e)},useInsertionEffect:function(i,e){return ki(4,2,i,e)},useMemo:function(i,e){var s=Th();return e=e===void 0?null:e,i=i(),s.memoizedState=[i,e],i},useReducer:function(i,e,s){var o=Th();return e=s!==void 0?s(e):e,o.memoizedState=o.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},o.queue=i,i=i.dispatch=xi.bind(null,M,i),[o.memoizedState,i]},useRef:function(i){var e=Th();return i={current:i},e.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),e=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,s){var o=M,a=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=e(),Q===null)throw Error(p(349));Hh&30||di(o,e,s)}a.memoizedState=s;var c={value:s,getSnapshot:e};return a.queue=c,mi(ai.bind(null,o,c,i),[i]),o.flags|=2048,bi(9,ci.bind(null,o,c,s,e),void 0,null),s},useId:function(){var i=Th(),e=Q.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,e=":"+e+"R"+s,s=Kh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Lh++,e=":"+e+"r"+s.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var e=Uh();return ui(e,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],e=Uh().memoizedState;return[i,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var e=Uh();return N===null?e.memoizedState=i:ui(e,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],e=Uh().memoizedState;return[i,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,e){if(i&&i.defaultProps){e=A({},e),i=i.defaultProps;for(var s in i)e[s]===void 0&&(e[s]=i[s]);return e}return e}function Di(i,e,s,o){e=i.memoizedState,s=s(o,e),s=s==null?e:A({},e,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,e,s){i=i._reactInternals;var o=R(),a=yi(i),c=mh(o,a);c.payload=e,s!=null&&(c.callback=s),e=nh(i,c,a),e!==null&&(gi(e,i,a,o),oh(e,i,a))},enqueueReplaceState:function(i,e,s){i=i._reactInternals;var o=R(),a=yi(i),c=mh(o,a);c.tag=1,c.payload=e,s!=null&&(c.callback=s),e=nh(i,c,a),e!==null&&(gi(e,i,a,o),oh(e,i,a))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var s=R(),o=yi(i),a=mh(s,o);a.tag=2,e!=null&&(a.callback=e),e=nh(i,a,o),e!==null&&(gi(e,i,o,s),oh(e,i,o))}};function Fi(i,e,s,o,a,c,h){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,c,h):e.prototype&&e.prototype.isPureReactComponent?!Ie$1(s,o)||!Ie$1(a,c):!0}function Gi(i,e,s){var o=!1,a=Vf,c=e.contextType;return typeof c=="object"&&c!==null?c=eh(c):(a=Zf(e)?Xf:H.current,o=e.contextTypes,c=(o=o!=null)?Yf(i,a):Vf),e=new e(s,c),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,i.stateNode=e,e._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=c),e}function Hi(i,e,s,o){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,o),e.state!==i&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(i,e,s,o){var a=i.stateNode;a.props=s,a.state=i.memoizedState,a.refs={},kh(i);var c=e.contextType;typeof c=="object"&&c!==null?a.context=eh(c):(c=Zf(e)?Xf:H.current,a.context=Yf(i,c)),a.state=i.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(Di(i,e,c,s),a.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(i,s,a,o),a.state=i.memoizedState),typeof a.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,e){try{var s="",o=e;do s+=Pa(o),o=o.return;while(o);var a=s}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:i,source:e,stack:a,digest:null}}function Ki(i,e,s){return{value:i,source:null,stack:s??null,digest:e??null}}function Li(i,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,e,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var o=e.value;return s.callback=function(){Oi||(Oi=!0,Pi=o),Li(i,e)},s}function Qi(i,e,s){s=mh(-1,s),s.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;s.payload=function(){return o(a)},s.callback=function(){Li(i,e)}}var c=i.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(s.callback=function(){Li(i,e),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),s}function Si(i,e,s){var o=i.pingCache;if(o===null){o=i.pingCache=new Mi;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(s)||(a.add(s),i=Ti.bind(null,i,e,s),e.then(i,i))}function Ui(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Vi(i,e,s,o,a){return i.mode&1?(i.flags|=65536,i.lanes=a,i):(i===e?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=mh(-1,1),e.tag=2,nh(s,e,1))),s.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,e,s,o){e.child=i===null?Vg(e,null,s,o):Ug(e,i.child,s,o)}function Yi(i,e,s,o,a){s=s.render;var c=e.ref;return ch(e,a),o=Nh(i,e,s,o,c,a),s=Sh(),i!==null&&!dh?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,Zi(i,e,a)):(I&&s&&vg(e),e.flags|=1,Xi(i,e,o,a),e.child)}function $i(i,e,s,o,a){if(i===null){var c=s.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=c,bj(i,e,c,o,a)):(i=Rg(s.type,null,o,e,e.mode,a),i.ref=e.ref,i.return=e,e.child=i)}if(c=i.child,!(i.lanes&a)){var h=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ie$1,s(h,o)&&i.ref===e.ref)return Zi(i,e,a)}return e.flags|=1,i=Pg(c,o),i.ref=e.ref,i.return=e,e.child=i}function bj(i,e,s,o,a){if(i!==null){var c=i.memoizedProps;if(Ie$1(c,o)&&i.ref===e.ref)if(dh=!1,e.pendingProps=o=c,(i.lanes&a)!==0)i.flags&131072&&(dh=!0);else return e.lanes=i.lanes,Zi(i,e,a)}return cj(i,e,s,o,a)}function dj(i,e,s){var o=e.pendingProps,a=o.children,c=i!==null?i.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return i=c!==null?c.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:s,G(ej,fj),fj|=o}else c!==null?(o=c.baseLanes|s,e.memoizedState=null):o=s,G(ej,fj),fj|=o;return Xi(i,e,a,s),e.child}function gj(i,e){var s=e.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function cj(i,e,s,o,a){var c=Zf(s)?Xf:H.current;return c=Yf(e,c),ch(e,a),s=Nh(i,e,s,o,c,a),o=Sh(),i!==null&&!dh?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~a,Zi(i,e,a)):(I&&o&&vg(e),e.flags|=1,Xi(i,e,s,a),e.child)}function hj(i,e,s,o,a){if(Zf(s)){var c=!0;cg(e)}else c=!1;if(ch(e,a),e.stateNode===null)ij(i,e),Gi(e,s,o),Ii(e,s,o,a),o=!0;else if(i===null){var h=e.stateNode,d=e.memoizedProps;h.props=d;var g=h.context,_=s.contextType;typeof _=="object"&&_!==null?_=eh(_):(_=Zf(s)?Xf:H.current,_=Yf(e,_));var $=s.getDerivedStateFromProps,nt=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function";nt||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(d!==o||g!==_)&&Hi(e,h,o,_),jh=!1;var et=e.memoizedState;h.state=et,qh(e,o,h,a),g=e.memoizedState,d!==o||et!==g||Wf.current||jh?(typeof $=="function"&&(Di(e,s,$,o),g=e.memoizedState),(d=jh||Fi(e,s,d,o,et,g,_))?(nt||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=g),h.props=o,h.state=g,h.context=_,o=d):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,lh(i,e),d=e.memoizedProps,_=e.type===e.elementType?d:Ci(e.type,d),h.props=_,nt=e.pendingProps,et=h.context,g=s.contextType,typeof g=="object"&&g!==null?g=eh(g):(g=Zf(s)?Xf:H.current,g=Yf(e,g));var rt=s.getDerivedStateFromProps;($=typeof rt=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(d!==nt||et!==g)&&Hi(e,h,o,g),jh=!1,et=e.memoizedState,h.state=et,qh(e,o,h,a);var lt=e.memoizedState;d!==nt||et!==lt||Wf.current||jh?(typeof rt=="function"&&(Di(e,s,rt,o),lt=e.memoizedState),(_=jh||Fi(e,s,_,o,et,lt,g)||!1)?($||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,lt,g),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,lt,g)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||d===i.memoizedProps&&et===i.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===i.memoizedProps&&et===i.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=lt),h.props=o,h.state=lt,h.context=g,o=_):(typeof h.componentDidUpdate!="function"||d===i.memoizedProps&&et===i.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||d===i.memoizedProps&&et===i.memoizedState||(e.flags|=1024),o=!1)}return jj(i,e,s,o,c,a)}function jj(i,e,s,o,a,c){gj(i,e);var h=(e.flags&128)!==0;if(!o&&!h)return a&&dg(e,s,!1),Zi(i,e,c);o=e.stateNode,Wi.current=e;var d=h&&typeof s.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,i!==null&&h?(e.child=Ug(e,i.child,null,c),e.child=Ug(e,null,d,c)):Xi(i,e,d,c),e.memoizedState=o.state,a&&dg(e,s,!0),e.child}function kj(i){var e=i.stateNode;e.pendingContext?ag(i,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(i,e.context,!1),yh(i,e.containerInfo)}function lj(i,e,s,o,a){return Ig(),Jg(a),e.flags|=256,Xi(i,e,s,o),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,e,s){var o=e.pendingProps,a=L.current,c=!1,h=(e.flags&128)!==0,d;if((d=h)||(d=i!==null&&i.memoizedState===null?!1:(a&2)!==0),d?(c=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(a|=1),G(L,a&1),i===null)return Eg(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=o.children,i=o.fallback,c?(o=e.mode,c=e.child,h={mode:"hidden",children:h},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=h):c=pj(h,o,0,null),i=Tg(i,o,s,null),c.return=e,i.return=e,c.sibling=i,e.child=c,e.child.memoizedState=nj(s),e.memoizedState=mj,i):qj(e,h));if(a=i.memoizedState,a!==null&&(d=a.dehydrated,d!==null))return rj(i,e,h,o,d,a,s);if(c){c=o.fallback,h=e.mode,a=i.child,d=a.sibling;var g={mode:"hidden",children:o.children};return!(h&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=g,e.deletions=null):(o=Pg(a,g),o.subtreeFlags=a.subtreeFlags&14680064),d!==null?c=Pg(d,c):(c=Tg(c,h,s,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,h=i.child.memoizedState,h=h===null?nj(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=i.childLanes&~s,e.memoizedState=mj,o}return c=i.child,i=c.sibling,o=Pg(c,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=s),o.return=e,o.sibling=null,i!==null&&(s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)),e.child=o,e.memoizedState=null,o}function qj(i,e){return e=pj({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function sj(i,e,s,o){return o!==null&&Jg(o),Ug(e,i.child,null,s),i=qj(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function rj(i,e,s,o,a,c,h){if(s)return e.flags&256?(e.flags&=-257,o=Ki(Error(p(422))),sj(i,e,h,o)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(c=o.fallback,a=e.mode,o=pj({mode:"visible",children:o.children},a,0,null),c=Tg(c,a,h,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,e.mode&1&&Ug(e,i.child,null,h),e.child.memoizedState=nj(h),e.memoizedState=mj,c);if(!(e.mode&1))return sj(i,e,h,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var d=o.dgst;return o=d,c=Error(p(419)),o=Ki(c,o,void 0),sj(i,e,h,o)}if(d=(h&i.childLanes)!==0,dh||d){if(o=Q,o!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|h)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ih(i,a),gi(o,i,a,-1))}return tj(),o=Ki(Error(p(421))),sj(i,e,h,o)}return a.data==="$?"?(e.flags|=128,e.child=i.child,e=uj.bind(null,i),a._reactRetry=e,null):(i=c.treeContext,yg=Lf(a.nextSibling),xg=e,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=e),e=qj(e,o.children),e.flags|=4096,e)}function vj(i,e,s){i.lanes|=e;var o=i.alternate;o!==null&&(o.lanes|=e),bh(i.return,e,s)}function wj(i,e,s,o,a){var c=i.memoizedState;c===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:a}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=s,c.tailMode=a)}function xj(i,e,s){var o=e.pendingProps,a=o.revealOrder,c=o.tail;if(Xi(i,e,o.children,s),o=L.current,o&2)o=o&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,s,e);else if(i.tag===19)vj(i,s,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(L,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(s=e.child,a=null;s!==null;)i=s.alternate,i!==null&&Ch(i)===null&&(a=s),s=s.sibling;s=a,s===null?(a=e.child,e.child=null):(a=s.sibling,s.sibling=null),wj(e,!1,a,s,c);break;case"backwards":for(s=null,a=e.child,e.child=null;a!==null;){if(i=a.alternate,i!==null&&Ch(i)===null){e.child=a;break}i=a.sibling,a.sibling=s,s=a,a=i}wj(e,!0,s,null,c);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Zi(i,e,s){if(i!==null&&(e.dependencies=i.dependencies),rh|=e.lanes,!(s&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(p(153));if(e.child!==null){for(i=e.child,s=Pg(i,i.pendingProps),e.child=s,s.return=e;i.sibling!==null;)i=i.sibling,s=s.sibling=Pg(i,i.pendingProps),s.return=e;s.sibling=null}return e.child}function yj(i,e,s){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):s&e.child.childLanes?oj(i,e,s):(G(L,L.current&1),i=Zi(i,e,s),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(o=(s&e.childLanes)!==0,i.flags&128){if(o)return xj(i,e,s);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return e.lanes=0,dj(i,e,s)}return Zi(i,e,s)}var zj,Aj,Bj,Cj;zj=function(i,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(i,e,s,o){var a=i.memoizedProps;if(a!==o){i=e.stateNode,xh(uh.current);var c=null;switch(s){case"input":a=Ya(i,a),o=Ya(i,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(i,a),o=gb(i,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(s,o);var h;s=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var d=a[_];for(h in d)d.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in o){var g=o[_];if(d=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&g!==d&&(g!=null||d!=null))if(_==="style")if(d){for(h in d)!d.hasOwnProperty(h)||g&&g.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in g)g.hasOwnProperty(h)&&d[h]!==g[h]&&(s||(s={}),s[h]=g[h])}else s||(c||(c=[]),c.push(_,s)),s=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(c=c||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&D$1("scroll",i),c||d===g||(c=[])):(c=c||[]).push(_,g))}s&&(c=c||[]).push("style",s);var _=c;(e.updateQueue=_)&&(e.flags|=4)}};Cj=function(i,e,s,o){s!==o&&(e.flags|=4)};function Dj(i,e){if(!I)switch(i.tailMode){case"hidden":e=i.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S$1(i){var e=i.alternate!==null&&i.alternate.child===i.child,s=0,o=0;if(e)for(var a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=i,a=a.sibling;else for(a=i.child;a!==null;)s|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=i,a=a.sibling;return i.subtreeFlags|=o,i.childLanes=s,e}function Ej(i,e,s){var o=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return o=e.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,e),S$1(e),null;case 5:Bh(e);var a=xh(wh.current);if(s=e.type,i!==null&&e.stateNode!=null)Bj(i,e,s,o,a),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(p(166));return S$1(e),null}if(i=xh(uh.current),Gg(e)){o=e.stateNode,s=e.type;var c=e.memoizedProps;switch(o[Of]=e,o[Pf]=c,i=(e.mode&1)!==0,s){case"dialog":D$1("cancel",o),D$1("close",o);break;case"iframe":case"object":case"embed":D$1("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D$1(lf[a],o);break;case"source":D$1("error",o);break;case"img":case"image":case"link":D$1("error",o),D$1("load",o);break;case"details":D$1("toggle",o);break;case"input":Za(o,c),D$1("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D$1("invalid",o);break;case"textarea":hb(o,c),D$1("invalid",o)}ub(s,c),a=null;for(var h in c)if(c.hasOwnProperty(h)){var d=c[h];h==="children"?typeof d=="string"?o.textContent!==d&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,d,i),a=["children",d]):typeof d=="number"&&o.textContent!==""+d&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,d,i),a=["children",""+d]):ea.hasOwnProperty(h)&&d!=null&&h==="onScroll"&&D$1("scroll",o)}switch(s){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=h.createElement(s,{is:o.is}):(i=h.createElement(s),s==="select"&&(h=i,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):i=h.createElementNS(i,s),i[Of]=e,i[Pf]=o,zj(i,e,!1,!1),e.stateNode=i;e:{switch(h=vb(s,o),s){case"dialog":D$1("cancel",i),D$1("close",i),a=o;break;case"iframe":case"object":case"embed":D$1("load",i),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D$1(lf[a],i);a=o;break;case"source":D$1("error",i),a=o;break;case"img":case"image":case"link":D$1("error",i),D$1("load",i),a=o;break;case"details":D$1("toggle",i),a=o;break;case"input":Za(i,o),a=Ya(i,o),D$1("invalid",i);break;case"option":a=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D$1("invalid",i);break;case"textarea":hb(i,o),a=gb(i,o),D$1("invalid",i);break;default:a=o}ub(s,a),d=a;for(c in d)if(d.hasOwnProperty(c)){var g=d[c];c==="style"?sb(i,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(i,g)):c==="children"?typeof g=="string"?(s!=="textarea"||g!=="")&&ob(i,g):typeof g=="number"&&ob(i,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D$1("scroll",i):g!=null&&ta(i,c,g,h))}switch(s){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,c=o.value,c!=null?fb(i,!!o.multiple,c,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(i&&e.stateNode!=null)Cj(i,e,i.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(e)){if(o=e.stateNode,s=e.memoizedProps,o[Of]=e,(c=o.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(i.mode&1)!==0)}c&&(e.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=e,e.stateNode=o}return S$1(e),null;case 13:if(E(L),o=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,c=!1;else if(c=Gg(e),o!==null&&o.dehydrated!==null){if(i===null){if(!c)throw Error(p(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$1(e),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return zh(),Aj(i,e),i===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return ah(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E(L),c=e.memoizedState,c===null)return S$1(e),null;if(o=(e.flags&128)!==0,h=c.rendering,h===null)if(o)Dj(c,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(h=Ch(i),h!==null){for(e.flags|=128,Dj(c,!1),o=h.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=s,s=e.child;s!==null;)c=s,i=o,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=i,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,i=h.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(L,L.current&1|2),e.child}i=i.sibling}c.tail!==null&&B()>Gj&&(e.flags|=128,o=!0,Dj(c,!1),e.lanes=4194304)}else{if(!o)if(i=Ch(h),i!==null){if(e.flags|=128,o=!0,s=i.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!I)return S$1(e),null}else 2*B()-c.renderingStartTime>Gj&&s!==1073741824&&(e.flags|=128,o=!0,Dj(c,!1),e.lanes=4194304);c.isBackwards?(h.sibling=e.child,e.child=h):(s=c.last,s!==null?s.sibling=h:e.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=B(),e.sibling=null,s=L.current,G(L,o?s&1|2:s&1),e):(S$1(e),null);case 22:case 23:return Hj(),o=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?fj&1073741824&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(i,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,e){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(i,e,o)}else s.current=null}function Mj(i,e,s){try{s()}catch(o){W(i,e,o)}}var Nj=!1;function Oj(i,e){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var h=0,d=-1,g=-1,_=0,$=0,nt=i,et=null;t:for(;;){for(var rt;nt!==s||a!==0&&nt.nodeType!==3||(d=h+a),nt!==c||o!==0&&nt.nodeType!==3||(g=h+o),nt.nodeType===3&&(h+=nt.nodeValue.length),(rt=nt.firstChild)!==null;)et=nt,nt=rt;for(;;){if(nt===i)break t;if(et===s&&++_===a&&(d=h),et===c&&++$===o&&(g=h),(rt=nt.nextSibling)!==null)break;nt=et,et=nt.parentNode}nt=rt}s=d===-1||g===-1?null:{start:d,end:g}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,V=i;else for(;V!==null;){e=V;try{var lt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ut=lt.memoizedProps,gt=lt.memoizedState,at=e.stateNode,st=at.getSnapshotBeforeUpdate(e.elementType===e.type?ut:Ci(e.type,ut),gt);at.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var ot=e.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ct){W(e,e.return,ct)}if(i=e.sibling,i!==null){i.return=e.return,V=i;break}V=e.return}return lt=Nj,Nj=!1,lt}function Pj(i,e,s){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&i)===i){var c=a.destroy;a.destroy=void 0,c!==void 0&&Mj(e,s,c)}a=a.next}while(a!==o)}}function Qj(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&i)===i){var o=s.create;s.destroy=o()}s=s.next}while(s!==e)}}function Rj(i){var e=i.ref;if(e!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof e=="function"?e(i):e.current=i}}function Sj(i){var e=i.alternate;e!==null&&(i.alternate=null,Sj(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(i,e):s.insertBefore(i,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(i,s)):(e=s,e.appendChild(i)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Vj(i,e,s),i=i.sibling;i!==null;)Vj(i,e,s),i=i.sibling}function Wj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.insertBefore(i,e):s.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Wj(i,e,s),i=i.sibling;i!==null;)Wj(i,e,s),i=i.sibling}var X=null,Xj=!1;function Yj(i,e,s){for(s=s.child;s!==null;)Zj(i,e,s),s=s.sibling}function Zj(i,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,e);case 6:var o=X,a=Xj;X=null,Yj(i,e,s),X=o,Xj=a,X!==null&&(Xj?(i=X,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Xj?(i=X,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X,s.stateNode));break;case 4:o=X,a=Xj,X=s.stateNode.containerInfo,Xj=!0,Yj(i,e,s),X=o,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,h=c.destroy;c=c.tag,h!==void 0&&(c&2||c&4)&&Mj(s,e,h),a=a.next}while(a!==o)}Yj(i,e,s);break;case 1:if(!U&&(Lj(s,e),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(d){W(s,e,d)}Yj(i,e,s);break;case 21:Yj(i,e,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Yj(i,e,s),U=o):Yj(i,e,s);break;default:Yj(i,e,s)}}function ak(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Kj),e.forEach(function(o){var a=bk.bind(null,i,o);s.has(o)||(s.add(o),o.then(a,a))})}}function ck(i,e){var s=e.deletions;if(s!==null)for(var o=0;o<s.length;o++){var a=s[o];try{var c=i,h=e,d=h;e:for(;d!==null;){switch(d.tag){case 5:X=d.stateNode,Xj=!1;break e;case 3:X=d.stateNode.containerInfo,Xj=!0;break e;case 4:X=d.stateNode.containerInfo,Xj=!0;break e}d=d.return}if(X===null)throw Error(p(160));Zj(c,h,a),X=null,Xj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(_){W(a,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,i),e=e.sibling}function dk(i,e){var s=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(e,i),ek(i),o&4){try{Pj(3,i,i.return),Qj(3,i)}catch(ut){W(i,i.return,ut)}try{Pj(5,i,i.return)}catch(ut){W(i,i.return,ut)}}break;case 1:ck(e,i),ek(i),o&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(e,i),ek(i),o&512&&s!==null&&Lj(s,s.return),i.flags&32){var a=i.stateNode;try{ob(a,"")}catch(ut){W(i,i.return,ut)}}if(o&4&&(a=i.stateNode,a!=null)){var c=i.memoizedProps,h=s!==null?s.memoizedProps:c,d=i.type,g=i.updateQueue;if(i.updateQueue=null,g!==null)try{d==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(d,h);var _=vb(d,c);for(h=0;h<g.length;h+=2){var $=g[h],nt=g[h+1];$==="style"?sb(a,nt):$==="dangerouslySetInnerHTML"?nb(a,nt):$==="children"?ob(a,nt):ta(a,$,nt,_)}switch(d){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var et=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var rt=c.value;rt!=null?fb(a,!!c.multiple,rt,!1):et!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(ut){W(i,i.return,ut)}}break;case 6:if(ck(e,i),ek(i),o&4){if(i.stateNode===null)throw Error(p(162));a=i.stateNode,c=i.memoizedProps;try{a.nodeValue=c}catch(ut){W(i,i.return,ut)}}break;case 3:if(ck(e,i),ek(i),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(ut){W(i,i.return,ut)}break;case 4:ck(e,i),ek(i);break;case 13:ck(e,i),ek(i),a=i.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),o&4&&ak(i);break;case 22:if($=s!==null&&s.memoizedState!==null,i.mode&1?(U=(_=U)||$,ck(e,i),U=_):ck(e,i),ek(i),o&8192){if(_=i.memoizedState!==null,(i.stateNode.isHidden=_)&&!$&&i.mode&1)for(V=i,$=i.child;$!==null;){for(nt=V=$;V!==null;){switch(et=V,rt=et.child,et.tag){case 0:case 11:case 14:case 15:Pj(4,et,et.return);break;case 1:Lj(et,et.return);var lt=et.stateNode;if(typeof lt.componentWillUnmount=="function"){o=et,s=et.return;try{e=o,lt.props=e.memoizedProps,lt.state=e.memoizedState,lt.componentWillUnmount()}catch(ut){W(o,s,ut)}}break;case 5:Lj(et,et.return);break;case 22:if(et.memoizedState!==null){gk(nt);continue}}rt!==null?(rt.return=et,V=rt):gk(nt)}$=$.sibling}e:for($=null,nt=i;;){if(nt.tag===5){if($===null){$=nt;try{a=nt.stateNode,_?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(d=nt.stateNode,g=nt.memoizedProps.style,h=g!=null&&g.hasOwnProperty("display")?g.display:null,d.style.display=rb("display",h))}catch(ut){W(i,i.return,ut)}}}else if(nt.tag===6){if($===null)try{nt.stateNode.nodeValue=_?"":nt.memoizedProps}catch(ut){W(i,i.return,ut)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;$===nt&&($=null),nt=nt.return}$===nt&&($=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:ck(e,i),ek(i),o&4&&ak(i);break;case 21:break;default:ck(e,i),ek(i)}}function ek(i){var e=i.flags;if(e&2){try{e:{for(var s=i.return;s!==null;){if(Tj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Uj(i);Wj(i,c,a);break;case 3:case 4:var h=o.stateNode.containerInfo,d=Uj(i);Vj(i,d,h);break;default:throw Error(p(161))}}catch(g){W(i,i.return,g)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function hk(i,e,s){V=i,ik(i)}function ik(i,e,s){for(var o=(i.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var h=a.memoizedState!==null||Jj;if(!h){var d=a.alternate,g=d!==null&&d.memoizedState!==null||U;d=Jj;var _=U;if(Jj=h,(U=g)&&!_)for(V=a;V!==null;)h=V,g=h.child,h.tag===22&&h.memoizedState!==null?jk(a):g!==null?(g.return=h,V=g):jk(a);for(;c!==null;)V=c,ik(c),c=c.sibling;V=a,Jj=d,U=_}kk(i)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):kk(i)}}function kk(i){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!U)if(s===null)o.componentDidMount();else{var a=e.elementType===e.type?s.memoizedProps:Ci(e.type,s.memoizedProps);o.componentDidUpdate(a,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&sh(e,c,o);break;case 3:var h=e.updateQueue;if(h!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}sh(e,h,s)}break;case 5:var d=e.stateNode;if(s===null&&e.flags&4){s=d;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&s.focus();break;case"img":g.src&&(s.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var $=_.memoizedState;if($!==null){var nt=$.dehydrated;nt!==null&&bd(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch(et){W(e,e.return,et)}}if(e===i){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function gk(i){for(;V!==null;){var e=V;if(e===i){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function jk(i){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Qj(4,e)}catch(g){W(e,s,g)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(g){W(e,a,g)}}var c=e.return;try{Rj(e)}catch(g){W(e,c,g)}break;case 5:var h=e.return;try{Rj(e)}catch(g){W(e,h,g)}}}catch(g){W(e,e.return,g)}if(e===i){V=null;break}var d=e.sibling;if(d!==null){d.return=e.return,V=d;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C$1,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,e,s,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(i,s,o),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(i,Z)),Dk(i,o),s===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,e){var s=i.callbackNode;wc(i,e);var o=uc(i,i===Q?Z:0);if(o===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(e=o&-o,i.callbackPriority!==e){if(s!=null&&bc(s),e===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,i))}i.callbackPriority=e,i.callbackNode=s}}function Gk(i,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=i.callbackNode;if(Hk()&&i.callbackNode!==s)return null;var o=uc(i,i===Q?Z:0);if(o===0)return null;if(o&30||o&i.expiredLanes||e)e=Ik(i,o);else{e=o;var a=K;K|=2;var c=Jk();(Q!==i||Z!==e)&&(uk=null,Gj=B()+500,Kk(i,e));do try{Lk();break}catch(d){Mk(i,d)}while(!0);$g(),mk.current=c,K=a,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(a=xc(i),a!==0&&(o=a,e=Nk(i,a))),e===1)throw s=pk,Kk(i,0),Ck(i,o),Dk(i,B()),s;if(e===6)Ck(i,o);else{if(a=i.current.alternate,!(o&30)&&!Ok(a)&&(e=Ik(i,o),e===2&&(c=xc(i),c!==0&&(o=c,e=Nk(i,c))),e===1))throw s=pk,Kk(i,0),Ck(i,o),Dk(i,B()),s;switch(i.finishedWork=a,i.finishedLanes=o,e){case 0:case 1:throw Error(p(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,o),(o&130023424)===o&&(e=fk+500-B(),10<e)){if(uc(i,0)!==0)break;if(a=i.suspendedLanes,(a&o)!==o){R(),i.pingedLanes|=i.suspendedLanes&a;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),e);break}Pk(i,tk,uk);break;case 4:if(Ck(i,o),(o&4194240)===o)break;for(e=i.eventTimes,a=-1;0<o;){var h=31-oc(o);c=1<<h,h=e[h],h>a&&(a=h),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),o);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p(329))}}}return Dk(i,B()),i.callbackNode===s?Gk.bind(null,i):null}function Nk(i,e){var s=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,e).flags|=256),i=Ik(i,e),i!==2&&(e=tk,tk=s,e!==null&&Fj(e)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var e=i;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var a=s[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(i,e){for(e&=~rk,e&=~qk,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var s=31-oc(e),o=1<<s;i[s]=-1,e&=~o}}function Ek(i){if(K&6)throw Error(p(327));Hk();var e=uc(i,0);if(!(e&1))return Dk(i,B()),null;var s=Ik(i,e);if(i.tag!==0&&s===2){var o=xc(i);o!==0&&(e=o,s=Nk(i,o))}if(s===1)throw s=pk,Kk(i,0),Ck(i,e),Dk(i,B()),s;if(s===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,e){var s=K;K|=1;try{return i(e)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var s=ok.transition,o=C$1;try{if(ok.transition=null,C$1=1,i)return i()}finally{C$1=o,ok.transition=s,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,e){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(s=fh[e],o=s.interleaved,o!==null){s.interleaved=null;var a=o.next,c=s.pending;if(c!==null){var h=c.next;c.next=a,o.next=h}s.pending=o}fh=null}return i}function Mk(i,e){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=e,Y=null;break}e:{var c=i,h=s.return,d=s,g=e;if(e=Z,d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,$=d,nt=$.tag;if(!($.mode&1)&&(nt===0||nt===11||nt===15)){var et=$.alternate;et?($.updateQueue=et.updateQueue,$.memoizedState=et.memoizedState,$.lanes=et.lanes):($.updateQueue=null,$.memoizedState=null)}var rt=Ui(h);if(rt!==null){rt.flags&=-257,Vi(rt,h,d,c,e),rt.mode&1&&Si(c,_,e),e=rt,g=_;var lt=e.updateQueue;if(lt===null){var ut=new Set;ut.add(g),e.updateQueue=ut}else lt.add(g);break e}else{if(!(e&1)){Si(c,_,e),tj();break e}g=Error(p(426))}}else if(I&&d.mode&1){var gt=Ui(h);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Vi(gt,h,d,c,e),Jg(Ji(g,d));break e}}c=g=Ji(g,d),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var at=Ni(c,g,e);ph(c,at);break e;case 1:d=g;var st=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof st.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){c.flags|=65536,e&=-e,c.lanes|=e;var ct=Qi(c,d,e);ph(c,ct);break e}}c=c.return}while(c!==null)}Sk(s)}catch(Pt){e=Pt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,e){var s=K;K|=2;var o=Jk();(Q!==i||Z!==e)&&(uk=null,Kk(i,e));do try{Tk();break}catch(a){Mk(i,a)}while(!0);if($g(),K=s,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var e=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,e===null?Sk(i):Y=e,nk.current=null}function Sk(i){var e=i;do{var s=e.alternate;if(i=e.return,e.flags&32768){if(s=Ij(s,e),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,e,fj),s!==null){Y=s;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=i}while(e!==null);T===0&&(T=5)}function Pk(i,e,s){var o=C$1,a=ok.transition;try{ok.transition=null,C$1=1,Wk(i,e,s,o)}finally{ok.transition=a,C$1=o}return null}function Wk(i,e,s,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=i.finishedWork;var a=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var c=s.lanes|s.childLanes;if(Bc(i,c),i===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(s.flags&15990)!==0,s.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var h=C$1;C$1=1;var d=K;K|=4,nk.current=null,Oj(i,s),dk(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,hk(s),dc(),K=d,C$1=h,ok.transition=c}else i.current=s;if(vk&&(vk=!1,wk=i,xk=a),c=i.pendingLanes,c===0&&(Ri=null),mc(s.stateNode),Dk(i,B()),e!==null)for(o=i.onRecoverableError,s=0;s<e.length;s++)a=e[s],o(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),c=i.pendingLanes,c&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),e=ok.transition,s=C$1;try{if(ok.transition=null,C$1=16>i?16:i,wk===null)var o=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=i.current;V!==null;){var c=V,h=c.child;if(V.flags&16){var d=c.deletions;if(d!==null){for(var g=0;g<d.length;g++){var _=d[g];for(V=_;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,c)}var nt=$.child;if(nt!==null)nt.return=$,V=nt;else for(;V!==null;){$=V;var et=$.sibling,rt=$.return;if(Sj($),$===_){V=null;break}if(et!==null){et.return=rt,V=et;break}V=rt}}}var lt=c.alternate;if(lt!==null){var ut=lt.child;if(ut!==null){lt.child=null;do{var gt=ut.sibling;ut.sibling=null,ut=gt}while(ut!==null)}}V=c}}if(c.subtreeFlags&2064&&h!==null)h.return=c,V=h;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var at=c.sibling;if(at!==null){at.return=c.return,V=at;break e}V=c.return}}var st=i.current;for(V=st;V!==null;){h=V;var ot=h.child;if(h.subtreeFlags&2064&&ot!==null)ot.return=h,V=ot;else e:for(h=st;V!==null;){if(d=V,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Qj(9,d)}}catch(Pt){W(d,d.return,Pt)}if(d===h){V=null;break e}var ct=d.sibling;if(ct!==null){ct.return=d.return,V=ct;break e}V=d.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C$1=s,ok.transition=e}}return!1}function Xk(i,e,s){e=Ji(s,e),e=Ni(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e))}function W(i,e,s){if(i.tag===3)Xk(i,i,s);else for(;e!==null;){if(e.tag===3){Xk(e,i,s);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){i=Ji(s,i),i=Qi(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i));break}}e=e.return}}function Ti(i,e,s){var o=i.pingCache;o!==null&&o.delete(e),e=R(),i.pingedLanes|=i.suspendedLanes&s,Q===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=s),Dk(i,e)}function Yk(i,e){e===0&&(i.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=R();i=ih(i,e),i!==null&&(Ac(i,e,s),Dk(i,s))}function uj(i){var e=i.memoizedState,s=0;e!==null&&(s=e.retryLane),Yk(i,s)}function bk(i,e){var s=0;switch(i.tag){case 13:var o=i.stateNode,a=i.memoizedState;a!==null&&(s=a.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(e),Yk(i,s)}var Vk;Vk=function(i,e,s){if(i!==null)if(i.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&s)&&!(e.flags&128))return dh=!1,yj(i,e,s);dh=!!(i.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;ij(i,e),i=e.pendingProps;var a=Yf(e,H.current);ch(e,s),a=Nh(null,e,o,i,a,s);var c=Sh();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(o)?(c=!0,cg(e)):c=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(e),a.updater=Ei,e.stateNode=a,a._reactInternals=e,Ii(e,o,i,s),e=jj(null,e,o,!0,c,s)):(e.tag=0,I&&c&&vg(e),Xi(null,e,a,s),e=e.child),e;case 16:o=e.elementType;e:{switch(ij(i,e),i=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=Zk(o),i=Ci(o,i),a){case 0:e=cj(null,e,o,i,s);break e;case 1:e=hj(null,e,o,i,s);break e;case 11:e=Yi(null,e,o,i,s);break e;case 14:e=$i(null,e,o,Ci(o.type,i),s);break e}throw Error(p(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Ci(o,a),cj(i,e,o,a,s);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Ci(o,a),hj(i,e,o,a,s);case 3:e:{if(kj(e),i===null)throw Error(p(387));o=e.pendingProps,c=e.memoizedState,a=c.element,lh(i,e),qh(e,o,null,s);var h=e.memoizedState;if(o=h.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){a=Ji(Error(p(423)),e),e=lj(i,e,o,s,a);break e}else if(o!==a){a=Ji(Error(p(424)),e),e=lj(i,e,o,s,a);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Vg(e,null,o,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===a){e=Zi(i,e,s);break e}Xi(i,e,o,s)}e=e.child}return e;case 5:return Ah(e),i===null&&Eg(e),o=e.type,a=e.pendingProps,c=i!==null?i.memoizedProps:null,h=a.children,Ef(o,a)?h=null:c!==null&&Ef(o,c)&&(e.flags|=32),gj(i,e),Xi(i,e,h,s),e.child;case 6:return i===null&&Eg(e),null;case 13:return oj(i,e,s);case 4:return yh(e,e.stateNode.containerInfo),o=e.pendingProps,i===null?e.child=Ug(e,null,o,s):Xi(i,e,o,s),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Ci(o,a),Yi(i,e,o,a,s);case 7:return Xi(i,e,e.pendingProps,s),e.child;case 8:return Xi(i,e,e.pendingProps.children,s),e.child;case 12:return Xi(i,e,e.pendingProps.children,s),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,c=e.memoizedProps,h=a.value,G(Wg,o._currentValue),o._currentValue=h,c!==null)if(He(c.value,h)){if(c.children===a.children&&!Wf.current){e=Zi(i,e,s);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){h=c.child;for(var g=d.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=mh(-1,s&-s),g.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var $=_.pending;$===null?g.next=g:(g.next=$.next,$.next=g),_.pending=g}}c.lanes|=s,g=c.alternate,g!==null&&(g.lanes|=s),bh(c.return,s,e),d.lanes|=s;break}g=g.next}}else if(c.tag===10)h=c.type===e.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(p(341));h.lanes|=s,d=h.alternate,d!==null&&(d.lanes|=s),bh(h,s,e),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===e){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}Xi(i,e,a.children,s),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,ch(e,s),a=eh(a),o=o(a),e.flags|=1,Xi(i,e,o,s),e.child;case 14:return o=e.type,a=Ci(o,e.pendingProps),a=Ci(o.type,a),$i(i,e,o,a,s);case 15:return bj(i,e,e.type,e.pendingProps,s);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:Ci(o,a),ij(i,e),e.tag=1,Zf(o)?(i=!0,cg(e)):i=!1,ch(e,s),Gi(e,o,a),Ii(e,o,a,s),jj(null,e,o,!0,i,s);case 19:return xj(i,e,s);case 22:return dj(i,e,s)}throw Error(p(156,e.tag))};function Fk(i,e){return ac(i,e)}function $k(i,e,s,o){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,e,s,o){return new $k(i,e,s,o)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,e){var s=i.alternate;return s===null?(s=Bg(i.tag,e,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=e,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function Rg(i,e,s,o,a,c){var h=2;if(o=i,typeof i=="function")aj(i)&&(h=1);else if(typeof i=="string")h=5;else e:switch(i){case ya:return Tg(s.children,a,c,e);case za:h=8,a|=8;break;case Aa:return i=Bg(12,s,e,a|2),i.elementType=Aa,i.lanes=c,i;case Ea:return i=Bg(13,s,e,a),i.elementType=Ea,i.lanes=c,i;case Fa:return i=Bg(19,s,e,a),i.elementType=Fa,i.lanes=c,i;case Ia:return pj(s,a,c,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,o=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return e=Bg(h,s,e,a),e.elementType=i,e.type=o,e.lanes=c,e}function Tg(i,e,s,o){return i=Bg(7,i,o,e),i.lanes=s,i}function pj(i,e,s,o){return i=Bg(22,i,o,e),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function Qg(i,e,s){return i=Bg(6,i,null,e),i.lanes=s,i}function Sg(i,e,s){return e=Bg(4,i.children!==null?i.children:[],i.key,e),e.lanes=s,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function al(i,e,s,o,a){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(i,e,s,o,a,c,h,d,g){return i=new al(i,e,s,d,g),e===1?(e=1,c===!0&&(e|=8)):e=0,c=Bg(3,null,null,e),i.current=c,c.stateNode=i,c.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),i}function cl(i,e,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:e,implementation:s}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,e)}return e}function el(i,e,s,o,a,c,h,d,g){return i=bl(s,o,!0,i,a,c,h,d,g),i.context=dl(null),s=i.current,o=R(),a=yi(s),c=mh(o,a),c.callback=e??null,nh(s,c,a),i.current.lanes=a,Ac(i,a,o),Dk(i,o),i}function fl(i,e,s,o){var a=e.current,c=R(),h=yi(a);return s=dl(s),e.context===null?e.context=s:e.pendingContext=s,e=mh(c,h),e.payload={element:i},o=o===void 0?null:o,o!==null&&(e.callback=o),i=nh(a,e,h),i!==null&&(gi(i,a,h,c),oh(i,a,h)),h}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<e?s:e}}function il(i,e){hl(i,e),(i=i.alternate)&&hl(i,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(i,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Rk(function(){fl(null,i,null,null)}),e[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var e=Hc();i={blockedOn:null,target:i,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,e,s,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var _=gl(h);c.call(_)}}var h=el(e,o,i,0,null,!1,!1,"",pl);return i._reactRootContainer=h,i[uf]=h.current,sf(i.nodeType===8?i.parentNode:i),Rk(),h}for(;a=i.lastChild;)i.removeChild(a);if(typeof o=="function"){var d=o;o=function(){var _=gl(g);d.call(_)}}var g=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=g,i[uf]=g.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(e,g,s,o)}),g}function rl(i,e,s,o,a){var c=s._reactRootContainer;if(c){var h=c;if(typeof a=="function"){var d=a;a=function(){var g=gl(h);d.call(g)}}fl(e,h,i,a)}else h=ql(s,e,i,a,o);return gl(h)}Ec=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(i,1);if(o!==null){var a=R();gi(o,i,1,a)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var e=ih(i,134217728);if(e!==null){var s=R();gi(e,i,134217728,s)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var e=yi(i),s=ih(i,e);if(s!==null){var o=R();gi(s,i,e,o)}il(i,e)}};Hc=function(){return C$1};Ic=function(i,e){var s=C$1;try{return C$1=i,e()}finally{C$1=s}};yb=function(i,e,s){switch(e){case"input":if(bb(i,s),e=s.name,s.type==="radio"&&e!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var o=s[e];if(o!==i&&o.form===i.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(i,s);break;case"select":e=s.value,e!=null&&fb(i,!!s.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(i,e,null,s)};reactDom_production_min.createRoot=function(i,e){if(!nl(i))throw Error(p(299));var s=!1,o="",a=kl;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=bl(i,1,!1,null,null,s,!1,o,a),i[uf]=e.current,sf(i.nodeType===8?i.parentNode:i),new ll(e)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(e),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,e,s){if(!ol(e))throw Error(p(200));return rl(null,i,e,!0,s)};reactDom_production_min.hydrateRoot=function(i,e,s){if(!nl(i))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,a=!1,c="",h=kl;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),e=el(e,null,i,1,s??null,a,!1,c,h),i[uf]=e.current,sf(i),o)for(i=0;i<o.length;i++)s=o[i],a=s._getVersion,a=a(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,a]:e.mutableSourceEagerHydrationData.push(s,a);return new ml(e)};reactDom_production_min.render=function(i,e,s){if(!ol(e))throw Error(p(200));return rl(null,i,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,e,s,o){if(!ol(s))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return rl(i,e,s,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$2.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function e(o,a){let{pathname:c,search:h,hash:d}=o.location;return createLocation("",{pathname:c,search:h,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(o,a){return typeof a=="string"?a:createPath(a)}return getUrlBasedHistory(e,s,null,i)}function invariant$3(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function warning(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,e){return{usr:i.state,key:i.key,idx:e}}function createLocation(i,e,s,o){return s===void 0&&(s=null),_extends$2({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||o||createKey()})}function createPath(i){let{pathname:e="/",search:s="",hash:o=""}=i;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substr(s),i=i.substr(0,s));let o=i.indexOf("?");o>=0&&(e.search=i.substr(o),i=i.substr(0,o)),i&&(e.pathname=i)}return e}function getUrlBasedHistory(i,e,s,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,h=a.history,d=Action.Pop,g=null,_=$();_==null&&(_=0,h.replaceState(_extends$2({},h.state,{idx:_}),""));function $(){return(h.state||{idx:null}).idx}function nt(){d=Action.Pop;let gt=$(),at=gt==null?null:gt-_;_=gt,g&&g({action:d,location:ut.location,delta:at})}function et(gt,at){d=Action.Push;let st=createLocation(ut.location,gt,at);_=$()+1;let ot=getHistoryState(st,_),ct=ut.createHref(st);try{h.pushState(ot,"",ct)}catch(Pt){if(Pt instanceof DOMException&&Pt.name==="DataCloneError")throw Pt;a.location.assign(ct)}c&&g&&g({action:d,location:ut.location,delta:1})}function rt(gt,at){d=Action.Replace;let st=createLocation(ut.location,gt,at);_=$();let ot=getHistoryState(st,_),ct=ut.createHref(st);h.replaceState(ot,"",ct),c&&g&&g({action:d,location:ut.location,delta:0})}function lt(gt){let at=a.location.origin!=="null"?a.location.origin:a.location.href,st=typeof gt=="string"?gt:createPath(gt);return st=st.replace(/ $/,"%20"),invariant$3(at,"No window.location.(origin|href) available to create URL for href: "+st),new URL(st,at)}let ut={get action(){return d},get location(){return i(a,h)},listen(gt){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(PopStateEventType,nt),g=gt,()=>{a.removeEventListener(PopStateEventType,nt),g=null}},createHref(gt){return e(a,gt)},createURL:lt,encodeLocation(gt){let at=lt(gt);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:et,replace:rt,go(gt){return h.go(gt)}};return ut}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,e,s){return s===void 0&&(s="/"),matchRoutesImpl(i,e,s,!1)}function matchRoutesImpl(i,e,s,o){let a=typeof e=="string"?parsePath(e):e,c=stripBasename(a.pathname||"/",s);if(c==null)return null;let h=flattenRoutes(i);rankRouteBranches(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let _=decodePath(c);d=matchRouteBranch(h[g],_,o)}return d}function flattenRoutes(i,e,s,o){e===void 0&&(e=[]),s===void 0&&(s=[]),o===void 0&&(o="");let a=(c,h,d)=>{let g={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(invariant$3(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let _=joinPaths([o,g.relativePath]),$=s.concat(g);c.children&&c.children.length>0&&(invariant$3(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(c.children,e,$,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:computeScore(_,c.index),routesMeta:$})};return i.forEach((c,h)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))a(c,h);else for(let g of explodeOptionalSegments(c.path))a(c,h,g)}),e}function explodeOptionalSegments(i){let e=i.split("/");if(e.length===0)return[];let[s,...o]=e,a=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let h=explodeOptionalSegments(o.join("/")),d=[];return d.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&d.push(...h),d.map(g=>i.startsWith("/")&&g===""?"/":g)}function rankRouteBranches(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,e){let s=i.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),s.filter(a=>!isSplat(a)).reduce((a,c)=>a+(paramRe.test(c)?dynamicSegmentValue:c===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(i,e){return i.length===e.length&&i.slice(0,-1).every((o,a)=>o===e[a])?i[i.length-1]-e[e.length-1]:0}function matchRouteBranch(i,e,s){let{routesMeta:o}=i,a={},c="/",h=[];for(let d=0;d<o.length;++d){let g=o[d],_=d===o.length-1,$=c==="/"?e:e.slice(c.length)||"/",nt=matchPath({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},$),et=g.route;if(!nt&&_&&s&&!o[o.length-1].route.index&&(nt=matchPath({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},$)),!nt)return null;Object.assign(a,nt.params),h.push({params:a,pathname:joinPaths([c,nt.pathname]),pathnameBase:normalizePathname(joinPaths([c,nt.pathnameBase])),route:et}),nt.pathnameBase!=="/"&&(c=joinPaths([c,nt.pathnameBase]))}return h}function matchPath(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,o]=compilePath(i.path,i.caseSensitive,i.end),a=e.match(s);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:o.reduce((_,$,nt)=>{let{paramName:et,isOptional:rt}=$;if(et==="*"){let ut=d[nt]||"";h=c.slice(0,c.length-ut.length).replace(/(.)\/+$/,"$1")}const lt=d[nt];return rt&&!lt?_[et]=void 0:_[et]=(lt||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:h,pattern:i}}function compilePath(i,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(o.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function decodePath(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function stripBasename(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,o=i.charAt(s);return o&&o!=="/"?null:i.slice(s)||"/"}function resolvePath(i,e){e===void 0&&(e="/");let{pathname:s,search:o="",hash:a=""}=typeof i=="string"?parsePath(i):i;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(o),hash:normalizeHash(a)}}function resolvePathname(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(i,e,s,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(i,e){let s=getPathContributingMatches(i);return e?s.map((o,a)=>a===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function resolveTo(i,e,s,o){o===void 0&&(o=!1);let a;typeof i=="string"?a=parsePath(i):(a=_extends$2({},i),invariant$3(!a.pathname||!a.pathname.includes("?"),getInvalidPathError("?","pathname","search",a)),invariant$3(!a.pathname||!a.pathname.includes("#"),getInvalidPathError("#","pathname","hash",a)),invariant$3(!a.search||!a.search.includes("#"),getInvalidPathError("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,d;if(h==null)d=s;else{let nt=e.length-1;if(!o&&h.startsWith("..")){let et=h.split("/");for(;et[0]==="..";)et.shift(),nt-=1;a.pathname=et.join("/")}d=nt>=0?e[nt]:"/"}let g=resolvePath(a,d),_=h&&h!=="/"&&h.endsWith("/"),$=(c||h===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(_||$)&&(g.pathname+="/"),g}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(i,e){let{relative:s}=e===void 0?{}:e;useInRouterContext()||invariant$3(!1);let{basename:o,navigator:a}=reactExports.useContext(NavigationContext),{hash:c,pathname:h,search:d}=useResolvedPath(i,{relative:s}),g=h;return o!=="/"&&(g=h==="/"?o:joinPaths([o,h])),a.createHref({pathname:g,search:d,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$3(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(i){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(i)}function useNavigate(){let{isDataRoute:i}=reactExports.useContext(RouteContext);return i?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$3(!1);let i=reactExports.useContext(DataRouterContext),{basename:e,future:s,navigator:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),h=JSON.stringify(getResolveToMatches(a,s.v7_relativeSplatPath)),d=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{d.current=!0}),reactExports.useCallback(function(_,$){if($===void 0&&($={}),!d.current)return;if(typeof _=="number"){o.go(_);return}let nt=resolveTo(_,JSON.parse(h),c,$.relative==="path");i==null&&e!=="/"&&(nt.pathname=nt.pathname==="/"?e:joinPaths([e,nt.pathname])),($.replace?o.replace:o.push)(nt,$.state,$)},[e,o,h,c,i])}function useResolvedPath(i,e){let{relative:s}=e===void 0?{}:e,{future:o}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),h=JSON.stringify(getResolveToMatches(a,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(i,JSON.parse(h),c,s==="path"),[i,h,c,s])}function useRoutes(i,e){return useRoutesImpl(i,e)}function useRoutesImpl(i,e,s,o){useInRouterContext()||invariant$3(!1);let{navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),h=c[c.length-1],d=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let _=useLocation(),$;if(e){var nt;let gt=typeof e=="string"?parsePath(e):e;g==="/"||(nt=gt.pathname)!=null&&nt.startsWith(g)||invariant$3(!1),$=gt}else $=_;let et=$.pathname||"/",rt=et;if(g!=="/"){let gt=g.replace(/^\//,"").split("/");rt="/"+et.replace(/^\//,"").split("/").slice(gt.length).join("/")}let lt=matchRoutes(i,{pathname:rt}),ut=_renderMatches(lt&&lt.map(gt=>Object.assign({},gt,{params:Object.assign({},d,gt.params),pathname:joinPaths([g,a.encodeLocation?a.encodeLocation(gt.pathname).pathname:gt.pathname]),pathnameBase:gt.pathnameBase==="/"?g:joinPaths([g,a.encodeLocation?a.encodeLocation(gt.pathnameBase).pathname:gt.pathnameBase])})),c,s,o);return e&&ut?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},$),navigationType:Action.Pop}},ut):ut}function DefaultErrorComponent(){let i=useRouteError(),e=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),s?reactExports.createElement("pre",{style:a},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:e,match:s,children:o}=i,a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(i,e,s,o){var a;if(e===void 0&&(e=[]),s===void 0&&(s=null),o===void 0&&(o=null),i==null){var c;if(!s)return null;if(s.errors)i=s.matches;else if((c=o)!=null&&c.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let h=i,d=(a=s)==null?void 0:a.errors;if(d!=null){let $=h.findIndex(nt=>nt.route.id&&(d==null?void 0:d[nt.route.id])!==void 0);$>=0||invariant$3(!1),h=h.slice(0,Math.min(h.length,$+1))}let g=!1,_=-1;if(s&&o&&o.v7_partialHydration)for(let $=0;$<h.length;$++){let nt=h[$];if((nt.route.HydrateFallback||nt.route.hydrateFallbackElement)&&(_=$),nt.route.id){let{loaderData:et,errors:rt}=s,lt=nt.route.loader&&et[nt.route.id]===void 0&&(!rt||rt[nt.route.id]===void 0);if(nt.route.lazy||lt){g=!0,_>=0?h=h.slice(0,_+1):h=[h[0]];break}}}return h.reduceRight(($,nt,et)=>{let rt,lt=!1,ut=null,gt=null;s&&(rt=d&&nt.route.id?d[nt.route.id]:void 0,ut=nt.route.errorElement||defaultErrorElement,g&&(_<0&&et===0?(lt=!0,gt=null):_===et&&(lt=!0,gt=nt.route.hydrateFallbackElement||null)));let at=e.concat(h.slice(0,et+1)),st=()=>{let ot;return rt?ot=ut:lt?ot=gt:nt.route.Component?ot=reactExports.createElement(nt.route.Component,null):nt.route.element?ot=nt.route.element:ot=$,reactExports.createElement(RenderedRoute,{match:nt,routeContext:{outlet:$,matches:at,isDataRoute:s!=null},children:ot})};return s&&(nt.route.ErrorBoundary||nt.route.errorElement||et===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:ut,error:rt,children:st(),routeContext:{outlet:null,matches:at,isDataRoute:!0}}):st()},null)}var DataRouterHook$1=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(DataRouterHook$1||{}),DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterContext$1(i){let e=reactExports.useContext(DataRouterContext);return e||invariant$3(!1),e}function useDataRouterState(i){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$3(!1),e}function useRouteContext(i){let e=reactExports.useContext(RouteContext);return e||invariant$3(!1),e}function useCurrentRouteId(i){let e=useRouteContext(),s=e.matches[e.matches.length-1];return s.route.id||invariant$3(!1),s.route.id}function useRouteError(){var i;let e=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),o=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(i=s.errors)==null?void 0:i[o]}function useNavigateStable(){let{router:i}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{s.current=!0}),reactExports.useCallback(function(a,c){c===void 0&&(c={}),s.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,_extends$1({fromRouteId:e},c)))},[i,e])}function Navigate(i){let{to:e,replace:s,state:o,relative:a}=i;useInRouterContext()||invariant$3(!1);let{future:c,static:h}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),_=useNavigate(),$=resolveTo(e,getResolveToMatches(d,c.v7_relativeSplatPath),g,a==="path"),nt=JSON.stringify($);return reactExports.useEffect(()=>_(JSON.parse(nt),{replace:s,state:o,relative:a}),[_,nt,a,s,o]),null}function Route(i){invariant$3(!1)}function Router(i){let{basename:e="/",children:s=null,location:o,navigationType:a=Action.Pop,navigator:c,static:h=!1,future:d}=i;useInRouterContext()&&invariant$3(!1);let g=e.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:g,navigator:c,static:h,future:_extends$1({v7_relativeSplatPath:!1},d)}),[g,d,c,h]);typeof o=="string"&&(o=parsePath(o));let{pathname:$="/",search:nt="",hash:et="",state:rt=null,key:lt="default"}=o,ut=reactExports.useMemo(()=>{let gt=stripBasename($,g);return gt==null?null:{location:{pathname:gt,search:nt,hash:et,state:rt,key:lt},navigationType:a}},[g,$,nt,et,rt,lt,a]);return ut==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:s,value:ut}))}function Routes(i){let{children:e,location:s}=i;return useRoutes(createRoutesFromChildren(e),s)}new Promise(()=>{});function createRoutesFromChildren(i,e){e===void 0&&(e=[]);let s=[];return reactExports.Children.forEach(i,(o,a)=>{if(!reactExports.isValidElement(o))return;let c=[...e,a];if(o.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,c));return}o.type!==Route&&invariant$3(!1),!o.props.index||!o.props.children||invariant$3(!1);let h={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=createRoutesFromChildren(o.props.children,c)),s.push(h)}),s}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(i,e){if(i==null)return{};var s={},o=Object.keys(i),a,c;for(c=0;c<o.length;c++)a=o[c],!(e.indexOf(a)>=0)&&(s[a]=i[a]);return s}function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function shouldProcessLinkClick(i,e){return i.button===0&&(!e||e==="_self")&&!isModifiedEvent(i)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_excluded2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(i){let{basename:e,children:s,future:o,window:a}=i,c=reactExports.useRef();c.current==null&&(c.current=createBrowserHistory({window:a,v5Compat:!0}));let h=c.current,[d,g]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:_}=o||{},$=reactExports.useCallback(nt=>{_&&startTransitionImpl?startTransitionImpl(()=>g(nt)):g(nt)},[g,_]);return reactExports.useLayoutEffect(()=>h.listen($),[h,$]),reactExports.createElement(Router,{basename:e,children:s,location:d.location,navigationType:d.action,navigator:h,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,s){let{onClick:o,relative:a,reloadDocument:c,replace:h,state:d,target:g,to:_,preventScrollReset:$,unstable_viewTransition:nt}=e,et=_objectWithoutPropertiesLoose$1(e,_excluded$1),{basename:rt}=reactExports.useContext(NavigationContext),lt,ut=!1;if(typeof _=="string"&&ABSOLUTE_URL_REGEX.test(_)&&(lt=_,isBrowser$1))try{let ot=new URL(window.location.href),ct=_.startsWith("//")?new URL(ot.protocol+_):new URL(_),Pt=stripBasename(ct.pathname,rt);ct.origin===ot.origin&&Pt!=null?_=Pt+ct.search+ct.hash:ut=!0}catch{}let gt=useHref(_,{relative:a}),at=useLinkClickHandler(_,{replace:h,state:d,target:g,preventScrollReset:$,relative:a,unstable_viewTransition:nt});function st(ot){o&&o(ot),ot.defaultPrevented||at(ot)}return reactExports.createElement("a",_extends({},et,{href:lt||gt,onClick:ut||c?o:st,ref:s,target:g}))}),NavLink=reactExports.forwardRef(function(e,s){let{"aria-current":o="page",caseSensitive:a=!1,className:c="",end:h=!1,style:d,to:g,unstable_viewTransition:_,children:$}=e,nt=_objectWithoutPropertiesLoose$1(e,_excluded2),et=useResolvedPath(g,{relative:nt.relative}),rt=useLocation(),lt=reactExports.useContext(DataRouterStateContext),{navigator:ut,basename:gt}=reactExports.useContext(NavigationContext),at=lt!=null&&useViewTransitionState(et)&&_===!0,st=ut.encodeLocation?ut.encodeLocation(et).pathname:et.pathname,ot=rt.pathname,ct=lt&&lt.navigation&&lt.navigation.location?lt.navigation.location.pathname:null;a||(ot=ot.toLowerCase(),ct=ct?ct.toLowerCase():null,st=st.toLowerCase()),ct&&gt&&(ct=stripBasename(ct,gt)||ct);const Pt=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let At=ot===st||!h&&ot.startsWith(st)&&ot.charAt(Pt)==="/",yt=ct!=null&&(ct===st||!h&&ct.startsWith(st)&&ct.charAt(st.length)==="/"),pt={isActive:At,isPending:yt,isTransitioning:at},_t=At?o:void 0,St;typeof c=="function"?St=c(pt):St=[c,At?"active":null,yt?"pending":null,at?"transitioning":null].filter(Boolean).join(" ");let xt=typeof d=="function"?d(pt):d;return reactExports.createElement(Link,_extends({},nt,{"aria-current":_t,className:St,ref:s,style:xt,to:g,unstable_viewTransition:_}),typeof $=="function"?$(pt):$)});var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(i){let e=reactExports.useContext(DataRouterContext);return e||invariant$3(!1),e}function useLinkClickHandler(i,e){let{target:s,replace:o,state:a,preventScrollReset:c,relative:h,unstable_viewTransition:d}=e===void 0?{}:e,g=useNavigate(),_=useLocation(),$=useResolvedPath(i,{relative:h});return reactExports.useCallback(nt=>{if(shouldProcessLinkClick(nt,s)){nt.preventDefault();let et=o!==void 0?o:createPath(_)===createPath($);g(i,{replace:et,state:a,preventScrollReset:c,relative:h,unstable_viewTransition:d})}},[_,g,$,o,a,s,i,c,h,d])}function useViewTransitionState(i,e){e===void 0&&(e={});let s=reactExports.useContext(ViewTransitionContext);s==null&&invariant$3(!1);let{basename:o}=useDataRouterContext(DataRouterHook.useViewTransitionState),a=useResolvedPath(i,{relative:e.relative});if(!s.isTransitioning)return!1;let c=stripBasename(s.currentLocation.pathname,o)||s.currentLocation.pathname,h=stripBasename(s.nextLocation.pathname,o)||s.nextLocation.pathname;return matchPath(a.pathname,h)!=null||matchPath(a.pathname,c)!=null}function ArrowLeftIcon({title:i,titleId:e,...s},o){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},s),i?reactExports.createElement("title",{id:e},i):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const ForwardRef$6=reactExports.forwardRef(ArrowLeftIcon);function ArrowUpIcon({title:i,titleId:e,...s},o){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},s),i?reactExports.createElement("title",{id:e},i):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const ForwardRef$5=reactExports.forwardRef(ArrowUpIcon);function Bars3BottomRightIcon({title:i,titleId:e,...s},o){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},s),i?reactExports.createElement("title",{id:e},i):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"}))}const ForwardRef$4=reactExports.forwardRef(Bars3BottomRightIcon);function LockClosedIcon({title:i,titleId:e,...s},o){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},s),i?reactExports.createElement("title",{id:e},i):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const ForwardRef$3=reactExports.forwardRef(LockClosedIcon);function MoonIcon({title:i,titleId:e,...s},o){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},s),i?reactExports.createElement("title",{id:e},i):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const ForwardRef$2=reactExports.forwardRef(MoonIcon);function SunIcon({title:i,titleId:e,...s},o){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},s),i?reactExports.createElement("title",{id:e},i):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const ForwardRef$1=reactExports.forwardRef(SunIcon);function XMarkIcon({title:i,titleId:e,...s},o){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":e},s),i?reactExports.createElement("title",{id:e},i):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ForwardRef=reactExports.forwardRef(XMarkIcon);function createDOMMotionComponentProxy(i){if(typeof Proxy>"u")return i;const e=new Map,s=(...o)=>i(...o);return new Proxy(s,{get:(o,a)=>a==="create"?i:(e.has(a)||e.set(a,i(a)),e.get(a))})}function isAnimationControls(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const isKeyframesTarget=i=>Array.isArray(i);function shallowCompare(i,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==i.length)return!1;for(let o=0;o<s;o++)if(e[o]!==i[o])return!1;return!0}function isVariantLabel(i){return typeof i=="string"||Array.isArray(i)}function getValueState(i){const e=[{},{}];return i==null||i.values.forEach((s,o)=>{e[0][o]=s.get(),e[1][o]=s.getVelocity()}),e}function resolveVariantFromProps(i,e,s,o){if(typeof e=="function"){const[a,c]=getValueState(o);e=e(s!==void 0?s:i.custom,a,c)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[a,c]=getValueState(o);e=e(s!==void 0?s:i.custom,a,c)}return e}function resolveVariant(i,e,s){const o=i.getProps();return resolveVariantFromProps(o,e,s!==void 0?s:o.custom,i)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=i=>i*1e3,millisecondsToSeconds=i=>i/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(i,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(i)?i.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function getValueTransition(i,e){return i[e]||i.default||i}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=i=>i!==null;function getFinalKeyframe(i,{repeat:e,repeatType:s="loop"},o){const a=i.filter(isNotNull),c=e&&s!=="loop"&&e%2===1?0:a.length-1;return!c||o===void 0?a[c]:o}const noop=i=>i;function createRenderStep(i){let e=new Set,s=new Set,o=!1,a=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(_){c.has(_)&&(g.schedule(_),i()),_(h)}const g={schedule:(_,$=!1,nt=!1)=>{const rt=nt&&o?e:s;return $&&c.add(_),rt.has(_)||rt.add(_),_},cancel:_=>{s.delete(_),c.delete(_)},process:_=>{if(h=_,o){a=!0;return}o=!0,[e,s]=[s,e],s.clear(),e.forEach(d),o=!1,a&&(a=!1,g.process(_))}};return g}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(i,e){let s=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,h=stepsOrder.reduce((at,st)=>(at[st]=createRenderStep(c),at),{}),{read:d,resolveKeyframes:g,update:_,preRender:$,render:nt,postRender:et}=h,rt=()=>{const at=performance.now();s=!1,a.delta=o?1e3/60:Math.max(Math.min(at-a.timestamp,maxElapsed),1),a.timestamp=at,a.isProcessing=!0,d.process(a),g.process(a),_.process(a),$.process(a),nt.process(a),et.process(a),a.isProcessing=!1,s&&e&&(o=!1,i(rt))},lt=()=>{s=!0,o=!0,a.isProcessing||i(rt)};return{schedule:stepsOrder.reduce((at,st)=>{const ot=h[st];return at[st]=(ct,Pt=!1,At=!1)=>(s||lt(),ot.schedule(ct,Pt,At)),at},{}),cancel:at=>{for(let st=0;st<stepsOrder.length;st++)h[stepsOrder[st]].cancel(at)},state:a,steps:h}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),calcBezier=(i,e,s)=>(((1-3*s+3*e)*i+(3*s-6*e))*i+3*e)*i,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(i,e,s,o,a){let c,h,d=0;do h=e+(s-e)/2,c=calcBezier(h,o,a)-i,c>0?s=h:e=h;while(Math.abs(c)>subdivisionPrecision&&++d<subdivisionMaxIterations);return h}function cubicBezier(i,e,s,o){if(i===e&&s===o)return noop;const a=c=>binarySubdivide(c,0,1,i,s);return c=>c===0||c===1?c:calcBezier(a(c),e,o)}const mirrorEasing=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,reverseEasing=i=>e=>1-i(1-e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=i=>(i*=2)<1?.5*backIn(i):.5*(2-Math.pow(2,-10*(i-1))),circIn=i=>1-Math.sin(Math.acos(i)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=i=>/^0[^.\s]+$/u.test(i);function isNone(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||isZeroValueString(i):!0}let invariant$2=noop;const isNumericalString=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),checkStringStartsWith=i=>e=>typeof e=="string"&&e.startsWith(i),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=i=>startsAsVariableToken(i)?singleCssVariableRegex.test(i.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(i){const e=splitCSSVariableRegex.exec(i);if(!e)return[,];const[,s,o,a]=e;return[`--${s??o}`,a]}function getVariableValue(i,e,s=1){const[o,a]=parseCSSVariable(i);if(!o)return;const c=window.getComputedStyle(e).getPropertyValue(o);if(c){const h=c.trim();return isNumericalString(h)?parseFloat(h):h}return isCSSVariableToken(a)?getVariableValue(a,e,s+1):a}const clamp=(i,e,s)=>s>e?e:s<i?i:s,number={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},alpha={...number,transform:i=>clamp(0,1,i)},scale={...number,default:1},createUnitType=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:i=>percent.parse(i)/100,transform:i=>percent.transform(i*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=i=>i===number||i===px,getPosFromMatrix=(i,e)=>parseFloat(i.split(", ")[e]),getTranslateFromMatrix=(i,e)=>(s,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/u);if(a)return getPosFromMatrix(a[1],e);{const c=o.match(/^matrix\((.+)\)$/u);return c?getPosFromMatrix(c[1],i):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(i=>!transformKeys.has(i));function removeNonTranslationalTransform(i){const e=[];return nonTranslationalTransformKeys.forEach(s=>{const o=i.getValue(s);o!==void 0&&(e.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:i},{paddingLeft:e="0",paddingRight:s="0"})=>i.max-i.min-parseFloat(e)-parseFloat(s),height:({y:i},{paddingTop:e="0",paddingBottom:s="0"})=>i.max-i.min-parseFloat(e)-parseFloat(s),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=i=>e=>e.test(i),auto={test:i=>i==="auto",parse:i=>i},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=i=>dimensionValueTypes.find(testValueType(i)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const i=Array.from(toResolve).filter(o=>o.needsMeasurement),e=new Set(i.map(o=>o.element)),s=new Map;e.forEach(o=>{const a=removeNonTranslationalTransform(o);a.length&&(s.set(o,a),o.render())}),i.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const a=s.get(o);a&&a.forEach(([c,h])=>{var d;(d=o.getValue(c))===null||d===void 0||d.set(h)})}),i.forEach(o=>o.measureEndState()),i.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(i=>i.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(e,s,o,a,c,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=o,this.motionValue=a,this.element=c,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:o,motionValue:a}=this;for(let c=0;c<e.length;c++)if(e[c]===null)if(c===0){const h=a==null?void 0:a.get(),d=e[e.length-1];if(h!==void 0)e[0]=h;else if(o&&s){const g=o.readValue(s,d);g!=null&&(e[0]=g)}e[0]===void 0&&(e[0]=d),a&&h===void 0&&a.set(e[0])}else e[c]=e[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sanitize=i=>Math.round(i*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(i){return i==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(i,e)=>s=>!!(typeof s=="string"&&singleColorRegex.test(s)&&s.startsWith(i)||e&&!isNullish(s)&&Object.prototype.hasOwnProperty.call(s,e)),splitColor=(i,e,s)=>o=>{if(typeof o!="string")return o;const[a,c,h,d]=o.match(floatRegex);return{[i]:parseFloat(a),[e]:parseFloat(c),[s]:parseFloat(h),alpha:d!==void 0?parseFloat(d):1}},clampRgbUnit=i=>clamp(0,255,i),rgbUnit={...number,transform:i=>Math.round(clampRgbUnit(i))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:i,green:e,blue:s,alpha:o=1})=>"rgba("+rgbUnit.transform(i)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(s)+", "+sanitize(alpha.transform(o))+")"};function parseHex(i){let e="",s="",o="",a="";return i.length>5?(e=i.substring(1,3),s=i.substring(3,5),o=i.substring(5,7),a=i.substring(7,9)):(e=i.substring(1,2),s=i.substring(2,3),o=i.substring(3,4),a=i.substring(4,5),e+=e,s+=s,o+=o,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:s,alpha:o=1})=>"hsla("+Math.round(i)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(s))+", "+sanitize(alpha.transform(o))+")"},color={test:i=>rgba.test(i)||hex.test(i)||hsla.test(i),parse:i=>rgba.test(i)?rgba.parse(i):hsla.test(i)?hsla.parse(i):hex.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?rgba.transform(i):hsla.transform(i)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(i){var e,s;return isNaN(i)&&typeof i=="string"&&(((e=i.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((s=i.match(colorRegex))===null||s===void 0?void 0:s.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(i){const e=i.toString(),s=[],o={color:[],number:[],var:[]},a=[];let c=0;const d=e.replace(complexRegex,g=>(color.test(g)?(o.color.push(c),a.push(COLOR_TOKEN),s.push(color.parse(g))):g.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(c),a.push(VAR_TOKEN),s.push(g)):(o.number.push(c),a.push(NUMBER_TOKEN),s.push(parseFloat(g))),++c,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:s,split:d,indexes:o,types:a}}function parseComplexValue(i){return analyseComplexValue(i).values}function createTransformer(i){const{split:e,types:s}=analyseComplexValue(i),o=e.length;return a=>{let c="";for(let h=0;h<o;h++)if(c+=e[h],a[h]!==void 0){const d=s[h];d===NUMBER_TOKEN?c+=sanitize(a[h]):d===COLOR_TOKEN?c+=color.transform(a[h]):c+=a[h]}return c}}const convertNumbersToZero=i=>typeof i=="number"?0:i;function getAnimatableNone$1(i){const e=parseComplexValue(i);return createTransformer(i)(e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(i){const[e,s]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[o]=s.match(floatRegex)||[];if(!o)return i;const a=s.replace(o,"");let c=maxDefaults.has(e)?1:0;return o!==s&&(c*=100),e+"("+c+a+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:i=>{const e=i.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):i}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=i=>defaultValueTypes[i];function getAnimatableNone(i,e){let s=getDefaultValueType(i);return s!==filter&&(s=complex),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(i,e,s){let o=0,a;for(;o<i.length&&!a;){const c=i[o];typeof c=="string"&&!invalidTemplates.has(c)&&analyseComplexValue(c).values.length&&(a=i[o]),o++}if(a&&s)for(const c of e)i[c]=getAnimatableNone(s,a)}class DOMKeyframesResolver extends KeyframeResolver{constructor(e,s,o,a,c){super(e,s,o,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let _=e[g];if(typeof _=="string"&&(_=_.trim(),isCSSVariableToken(_))){const $=getVariableValue(_,s.current);$!==void 0&&(e[g]=$),g===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||e.length!==2)return;const[a,c]=e,h=findDimensionValueType(a),d=findDimensionValueType(c);if(h!==d)if(isNumOrPxType(h)&&isNumOrPxType(d))for(let g=0;g<e.length;g++){const _=e[g];typeof _=="string"&&(e[g]=parseFloat(_))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,o=[];for(let a=0;a<e.length;a++)isNone(e[a])&&o.push(a);o.length&&makeNoneKeyframesAnimatable(e,o,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(o,a).jump(a,!1)}measureEndState(){var e;const{element:s,name:o,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const c=s.getValue(o);c&&c.jump(this.measuredOrigin,!1);const h=a.length-1,d=a[h];a[h]=positionalValues[o](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([g,_])=>{s.getValue(g).set(_)}),this.resolveNoneKeyframes()}}function isGenerator(i){return typeof i=="function"}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:i=>{now=i,queueMicrotask(clearTime)}},isAnimatable=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(complex.test(i)||i==="0")&&!i.startsWith("url("));function hasKeyframesChanged(i){const e=i[0];if(i.length===1)return!0;for(let s=0;s<i.length;s++)if(i[s]!==e)return!0}function canAnimate(i,e,s,o){const a=i[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=i[i.length-1],h=isAnimatable(a,e),d=isAnimatable(c,e);return!h||!d?!1:hasKeyframesChanged(i)||(s==="spring"||isGenerator(s))&&o}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:e=!0,delay:s=0,type:o="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:h="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:e,delay:s,type:o,repeat:a,repeatDelay:c,repeatType:h,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:o,type:a,velocity:c,delay:h,onComplete:d,onUpdate:g,isGenerator:_}=this.options;if(!_&&!canAnimate(e,o,a,c))if(h)this.options.duration=0;else{g==null||g(getFinalKeyframe(e,this.options,s)),d==null||d(),this.resolveFinishedPromise();return}const $=this.initPlayback(e,s);$!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...$},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function velocityPerSecond(i,e){return e?i*(1e3/e):0}const velocitySampleDuration=5;function calcGeneratorVelocity(i,e,s){const o=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(s-i(o),e-o)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:i=800,bounce:e=.25,velocity:s=0,mass:o=1}){let a,c,h=1-e;h=clamp(minDamping,maxDamping,h),i=clamp(minDuration,maxDuration$1,millisecondsToSeconds(i)),h<1?(a=_=>{const $=_*h,nt=$*i,et=$-s,rt=calcAngularFreq(_,h),lt=Math.exp(-nt);return safeMin-et/rt*lt},c=_=>{const nt=_*h*i,et=nt*s+s,rt=Math.pow(h,2)*Math.pow(_,2)*i,lt=Math.exp(-nt),ut=calcAngularFreq(Math.pow(_,2),h);return(-a(_)+safeMin>0?-1:1)*((et-rt)*lt)/ut}):(a=_=>{const $=Math.exp(-_*i),nt=(_-s)*i+1;return-safeMin+$*nt},c=_=>{const $=Math.exp(-_*i),nt=(s-_)*(i*i);return $*nt});const d=5/i,g=approximateRoot(a,c,d);if(i=secondsToMilliseconds(i),isNaN(g))return{stiffness:100,damping:10,duration:i};{const _=Math.pow(g,2)*o;return{stiffness:_,damping:h*2*Math.sqrt(o*_),duration:i}}}const rootIterations=12;function approximateRoot(i,e,s){let o=s;for(let a=1;a<rootIterations;a++)o=o-i(o)/e(o);return o}function calcAngularFreq(i,e){return i*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(i,e){return e.some(s=>i[s]!==void 0)}function getSpringOptions(i){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...i};if(!isSpringType(i,physicsKeys)&&isSpringType(i,durationKeys)){const s=findSpring(i);e={...e,...s,mass:1},e.isResolvedFromDuration=!0}return e}function spring({keyframes:i,restDelta:e,restSpeed:s,...o}){const a=i[0],c=i[i.length-1],h={done:!1,value:a},{stiffness:d,damping:g,mass:_,duration:$,velocity:nt,isResolvedFromDuration:et}=getSpringOptions({...o,velocity:-millisecondsToSeconds(o.velocity||0)}),rt=nt||0,lt=g/(2*Math.sqrt(d*_)),ut=c-a,gt=millisecondsToSeconds(Math.sqrt(d/_)),at=Math.abs(ut)<5;s||(s=at?.01:2),e||(e=at?.005:.5);let st;if(lt<1){const ot=calcAngularFreq(gt,lt);st=ct=>{const Pt=Math.exp(-lt*gt*ct);return c-Pt*((rt+lt*gt*ut)/ot*Math.sin(ot*ct)+ut*Math.cos(ot*ct))}}else if(lt===1)st=ot=>c-Math.exp(-gt*ot)*(ut+(rt+gt*ut)*ot);else{const ot=gt*Math.sqrt(lt*lt-1);st=ct=>{const Pt=Math.exp(-lt*gt*ct),At=Math.min(ot*ct,300);return c-Pt*((rt+lt*gt*ut)*Math.sinh(At)+ot*ut*Math.cosh(At))/ot}}return{calculatedDuration:et&&$||null,next:ot=>{const ct=st(ot);if(et)h.done=ot>=$;else{let Pt=0;lt<1&&(Pt=ot===0?secondsToMilliseconds(rt):calcGeneratorVelocity(st,ot,ct));const At=Math.abs(Pt)<=s,yt=Math.abs(c-ct)<=e;h.done=At&&yt}return h.value=h.done?c:ct,h}}}function inertia({keyframes:i,velocity:e=0,power:s=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:h,min:d,max:g,restDelta:_=.5,restSpeed:$}){const nt=i[0],et={done:!1,value:nt},rt=pt=>d!==void 0&&pt<d||g!==void 0&&pt>g,lt=pt=>d===void 0?g:g===void 0||Math.abs(d-pt)<Math.abs(g-pt)?d:g;let ut=s*e;const gt=nt+ut,at=h===void 0?gt:h(gt);at!==gt&&(ut=at-nt);const st=pt=>-ut*Math.exp(-pt/o),ot=pt=>at+st(pt),ct=pt=>{const _t=st(pt),St=ot(pt);et.done=Math.abs(_t)<=_,et.value=et.done?at:St};let Pt,At;const yt=pt=>{rt(et.value)&&(Pt=pt,At=spring({keyframes:[et.value,lt(et.value)],velocity:calcGeneratorVelocity(ot,pt,et.value),damping:a,stiffness:c,restDelta:_,restSpeed:$}))};return yt(0),{calculatedDuration:null,next:pt=>{let _t=!1;return!At&&Pt===void 0&&(_t=!0,ct(pt),yt(pt)),Pt!==void 0&&pt>=Pt?At.next(pt-Pt):(!_t&&ct(pt),et)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=i=>Array.isArray(i)&&typeof i[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=i=>{if(Array.isArray(i)){invariant$2(i.length===4);const[e,s,o,a]=i;return cubicBezier(e,s,o,a)}else if(typeof i=="string")return invariant$2(easingLookup[i]!==void 0),easingLookup[i];return i},combineFunctions=(i,e)=>s=>e(i(s)),pipe=(...i)=>i.reduce(combineFunctions),progress=(i,e,s)=>{const o=e-i;return o===0?1:(s-i)/o},mixNumber$1=(i,e,s)=>i+(e-i)*s;function hueToRgb(i,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(e-i)*6*s:s<1/2?e:s<2/3?i+(e-i)*(2/3-s)*6:i}function hslaToRgba({hue:i,saturation:e,lightness:s,alpha:o}){i/=360,e/=100,s/=100;let a=0,c=0,h=0;if(!e)a=c=h=s;else{const d=s<.5?s*(1+e):s+e-s*e,g=2*s-d;a=hueToRgb(g,d,i+1/3),c=hueToRgb(g,d,i),h=hueToRgb(g,d,i-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(h*255),alpha:o}}function mixImmediate(i,e){return s=>s>0?e:i}const mixLinearColor=(i,e,s)=>{const o=i*i,a=s*(e*e-o)+o;return a<0?0:Math.sqrt(a)},colorTypes=[hex,rgba,hsla],getColorType=i=>colorTypes.find(e=>e.test(i));function asRGBA(i){const e=getColorType(i);if(!e)return!1;let s=e.parse(i);return e===hsla&&(s=hslaToRgba(s)),s}const mixColor=(i,e)=>{const s=asRGBA(i),o=asRGBA(e);if(!s||!o)return mixImmediate(i,e);const a={...s};return c=>(a.red=mixLinearColor(s.red,o.red,c),a.green=mixLinearColor(s.green,o.green,c),a.blue=mixLinearColor(s.blue,o.blue,c),a.alpha=mixNumber$1(s.alpha,o.alpha,c),rgba.transform(a))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(i,e){return invisibleValues.has(i)?s=>s<=0?i:e:s=>s>=1?e:i}function mixNumber(i,e){return s=>mixNumber$1(i,e,s)}function getMixer(i){return typeof i=="number"?mixNumber:typeof i=="string"?isCSSVariableToken(i)?mixImmediate:color.test(i)?mixColor:mixComplex:Array.isArray(i)?mixArray:typeof i=="object"?color.test(i)?mixColor:mixObject:mixImmediate}function mixArray(i,e){const s=[...i],o=s.length,a=i.map((c,h)=>getMixer(c)(c,e[h]));return c=>{for(let h=0;h<o;h++)s[h]=a[h](c);return s}}function mixObject(i,e){const s={...i,...e},o={};for(const a in s)i[a]!==void 0&&e[a]!==void 0&&(o[a]=getMixer(i[a])(i[a],e[a]));return a=>{for(const c in o)s[c]=o[c](a);return s}}function matchOrder(i,e){var s;const o=[],a={color:0,var:0,number:0};for(let c=0;c<e.values.length;c++){const h=e.types[c],d=i.indexes[h][a[h]],g=(s=i.values[d])!==null&&s!==void 0?s:0;o[c]=g,a[h]++}return o}const mixComplex=(i,e)=>{const s=complex.createTransformer(e),o=analyseComplexValue(i),a=analyseComplexValue(e);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?invisibleValues.has(i)&&!a.values.length||invisibleValues.has(e)&&!o.values.length?mixVisibility(i,e):pipe(mixArray(matchOrder(o,a),a.values),s):mixImmediate(i,e)};function mix(i,e,s){return typeof i=="number"&&typeof e=="number"&&typeof s=="number"?mixNumber$1(i,e,s):getMixer(i)(i,e)}function createMixers(i,e,s){const o=[],a=s||mix,c=i.length-1;for(let h=0;h<c;h++){let d=a(i[h],i[h+1]);if(e){const g=Array.isArray(e)?e[h]||noop:e;d=pipe(g,d)}o.push(d)}return o}function interpolate(i,e,{clamp:s=!0,ease:o,mixer:a}={}){const c=i.length;if(invariant$2(c===e.length),c===1)return()=>e[0];if(c===2&&i[0]===i[1])return()=>e[1];i[0]>i[c-1]&&(i=[...i].reverse(),e=[...e].reverse());const h=createMixers(e,o,a),d=h.length,g=_=>{let $=0;if(d>1)for(;$<i.length-2&&!(_<i[$+1]);$++);const nt=progress(i[$],i[$+1],_);return h[$](nt)};return s?_=>g(clamp(i[0],i[c-1],_)):g}function fillOffset(i,e){const s=i[i.length-1];for(let o=1;o<=e;o++){const a=progress(0,e,o);i.push(mixNumber$1(s,1,a))}}function defaultOffset(i){const e=[0];return fillOffset(e,i.length-1),e}function convertOffsetToTimes(i,e){return i.map(s=>s*e)}function defaultEasing(i,e){return i.map(()=>e||easeInOut).splice(0,i.length-1)}function keyframes({duration:i=300,keyframes:e,times:s,ease:o="easeInOut"}){const a=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),c={done:!1,value:e[0]},h=convertOffsetToTimes(s&&s.length===e.length?s:defaultOffset(e),i),d=interpolate(h,e,{ease:Array.isArray(a)?a:defaultEasing(e,a)});return{calculatedDuration:i,next:g=>(c.value=d(g),c.done=g>=i,c)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(i){let e=0;const s=50;let o=i.next(e);for(;!o.done&&e<maxGeneratorDuration;)e+=s,o=i.next(e);return e>=maxGeneratorDuration?1/0:e}const frameloopDriver=i=>{const e=({timestamp:s})=>i(s);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=i=>i/100;class MainThreadAnimation extends BaseAnimation{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:s,motionValue:o,element:a,keyframes:c}=this.options,h=(a==null?void 0:a.KeyframeResolver)||KeyframeResolver,d=(g,_)=>this.onKeyframesResolved(g,_);this.resolver=new h(c,d,s,o,a),this.resolver.scheduleResolve()}initPlayback(e){const{type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c,velocity:h=0}=this.options,d=isGenerator(s)?s:generators[s]||keyframes;let g,_;d!==keyframes&&typeof e[0]!="number"&&(g=pipe(percentToProgress,mix(e[0],e[1])),e=[0,100]);const $=d({...this.options,keyframes:e});c==="mirror"&&(_=d({...this.options,keyframes:[...e].reverse(),velocity:-h})),$.calculatedDuration===null&&($.calculatedDuration=calcGeneratorDuration($));const{calculatedDuration:nt}=$,et=nt+a,rt=et*(o+1)-a;return{generator:$,mirroredGenerator:_,mapPercentToKeyframes:g,calculatedDuration:nt,resolvedDuration:et,totalDuration:rt}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:o}=this;if(!o){const{keyframes:pt}=this.options;return{done:!0,value:pt[pt.length-1]}}const{finalKeyframe:a,generator:c,mirroredGenerator:h,mapPercentToKeyframes:d,keyframes:g,calculatedDuration:_,totalDuration:$,resolvedDuration:nt}=o;if(this.startTime===null)return c.next(0);const{delay:et,repeat:rt,repeatType:lt,repeatDelay:ut,onUpdate:gt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-$/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const at=this.currentTime-et*(this.speed>=0?1:-1),st=this.speed>=0?at<0:at>$;this.currentTime=Math.max(at,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=$);let ot=this.currentTime,ct=c;if(rt){const pt=Math.min(this.currentTime,$)/nt;let _t=Math.floor(pt),St=pt%1;!St&&pt>=1&&(St=1),St===1&&_t--,_t=Math.min(_t,rt+1),!!(_t%2)&&(lt==="reverse"?(St=1-St,ut&&(St-=ut/nt)):lt==="mirror"&&(ct=h)),ot=clamp(0,1,St)*nt}const Pt=st?{done:!1,value:g[0]}:ct.next(ot);d&&(Pt.value=d(Pt.value));let{done:At}=Pt;!st&&_!==null&&(At=this.speed>=0?this.currentTime>=$:this.currentTime<=0);const yt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&At);return yt&&a!==void 0&&(Pt.value=getFinalKeyframe(g,this.options,a)),gt&&gt(Pt.value),yt&&this.finish(),Pt}get duration(){const{resolved:e}=this;return e?millisecondsToSeconds(e.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=frameloopDriver,onPlay:s,startTime:o}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),s&&s();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),isBezierDefinition=i=>Array.isArray(i)&&typeof i[0]=="number",resolution=10,generateLinearEasing=(i,e)=>{let s="";const o=Math.max(Math.round(e/resolution),2);for(let a=0;a<o;a++)s+=i(progress(0,o-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function memo(i){let e;return()=>(e===void 0&&(e=i()),e)}const supportsFlags={linearEasing:void 0};function memoSupports(i,e){const s=memo(i);return()=>{var o;return(o=supportsFlags[e])!==null&&o!==void 0?o:s()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(i){return!!(typeof i=="function"&&supportsLinearEasing()||!i||typeof i=="string"&&(i in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(i)||Array.isArray(i)&&i.every(isWaapiSupportedEasing))}const cubicBezierAsString=([i,e,s,o])=>`cubic-bezier(${i}, ${e}, ${s}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(i,e){if(i)return typeof i=="function"&&supportsLinearEasing()?generateLinearEasing(i,e):isBezierDefinition(i)?cubicBezierAsString(i):Array.isArray(i)?i.map(s=>mapEasingToNativeEasing(s,e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[i]}function startWaapiAnimation(i,e,s,{delay:o=0,duration:a=300,repeat:c=0,repeatType:h="loop",ease:d,times:g}={}){const _={[e]:s};g&&(_.offset=g);const $=mapEasingToNativeEasing(d,a);return Array.isArray($)&&(_.easing=$),i.animate(_,{delay:o,duration:a,easing:Array.isArray($)?"linear":$,fill:"both",iterations:c+1,direction:h==="reverse"?"alternate":"normal"})}function attachTimeline(i,e){i.timeline=e,i.onfinish=null}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(i){return isGenerator(i.type)||i.type==="spring"||!isWaapiSupportedEasing(i.ease)}function pregenerateKeyframes(i,e){const s=new MainThreadAnimation({...e,keyframes:i,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:i[0]};const a=[];let c=0;for(;!o.done&&c<maxDuration;)o=s.sample(c),a.push(o.value),c+=sampleDelta;return{times:void 0,keyframes:a,duration:c-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(i){return i in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(e){super(e);const{name:s,motionValue:o,element:a,keyframes:c}=this.options;this.resolver=new DOMKeyframesResolver(c,(h,d)=>this.onKeyframesResolved(h,d),s,o,a),this.resolver.scheduleResolve()}initPlayback(e,s){var o;let{duration:a=300,times:c,ease:h,type:d,motionValue:g,name:_,startTime:$}=this.options;if(!(!((o=g.owner)===null||o===void 0)&&o.current))return!1;if(typeof h=="string"&&supportsLinearEasing()&&isUnsupportedEase(h)&&(h=unsupportedEasingFunctions[h]),requiresPregeneratedKeyframes(this.options)){const{onComplete:et,onUpdate:rt,motionValue:lt,element:ut,...gt}=this.options,at=pregenerateKeyframes(e,gt);e=at.keyframes,e.length===1&&(e[1]=e[0]),a=at.duration,c=at.times,h=at.ease,d="keyframes"}const nt=startWaapiAnimation(g.owner.current,_,e,{...this.options,duration:a,times:c,ease:h});return nt.startTime=$??this.calcStartTime(),this.pendingTimeline?(attachTimeline(nt,this.pendingTimeline),this.pendingTimeline=void 0):nt.onfinish=()=>{const{onComplete:et}=this.options;g.set(getFinalKeyframe(e,this.options,s)),et&&et(),this.cancel(),this.resolveFinishedPromise()},{animation:nt,duration:a,times:c,type:d,ease:h,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return millisecondsToSeconds(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return millisecondsToSeconds(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.currentTime=secondsToMilliseconds(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:o}=s;o.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return noop;const{animation:o}=s;attachTimeline(o,e)}return noop}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:o,duration:a,type:c,ease:h,times:d}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:_,onUpdate:$,onComplete:nt,element:et,...rt}=this.options,lt=new MainThreadAnimation({...rt,keyframes:o,duration:a,type:c,ease:h,times:d,isGenerator:!0}),ut=secondsToMilliseconds(this.time);_.setWithVelocity(lt.sample(ut-sampleDelta).value,lt.sample(ut).value,sampleDelta)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:o,repeatDelay:a,repeatType:c,damping:h,type:d}=e;return supportsWaapi()&&o&&acceleratedValues.has(o)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!a&&c!=="mirror"&&h!==0&&d!=="inertia"}}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,s){return Promise.all(this.animations).then(e).catch(s)}getAll(e){return this.animations[0][e]}setAll(e,s){for(let o=0;o<this.animations.length;o++)this.animations[o][e]=s}attachTimeline(e,s){const o=this.animations.map(a=>supportsScrollTimeline()&&a.attachTimeline?a.attachTimeline(e):s(a));return()=>{o.forEach((a,c)=>{a&&a(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function isTransitionDefined({when:i,delay:e,delayChildren:s,staggerChildren:o,staggerDirection:a,repeat:c,repeatType:h,repeatDelay:d,from:g,elapsed:_,...$}){return!!Object.keys($).length}const animateMotionValue=(i,e,s,o={},a,c)=>h=>{const d=getValueTransition(o,i)||{},g=d.delay||o.delay||0;let{elapsed:_=0}=o;_=_-secondsToMilliseconds(g);let $={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-_,onUpdate:et=>{e.set(et),d.onUpdate&&d.onUpdate(et)},onComplete:()=>{h(),d.onComplete&&d.onComplete()},name:i,motionValue:e,element:c?void 0:a};isTransitionDefined(d)||($={...$,...getDefaultTransition(i,$)}),$.duration&&($.duration=secondsToMilliseconds($.duration)),$.repeatDelay&&($.repeatDelay=secondsToMilliseconds($.repeatDelay)),$.from!==void 0&&($.keyframes[0]=$.from);let nt=!1;if(($.type===!1||$.duration===0&&!$.repeatDelay)&&($.duration=0,$.delay===0&&(nt=!0)),nt&&!c&&e.get()!==void 0){const et=getFinalKeyframe($.keyframes,d);if(et!==void 0)return frame.update(()=>{$.onUpdate(et),$.onComplete()}),new GroupPlaybackControls([])}return!c&&AcceleratedAnimation.supports($)?new AcceleratedAnimation($):new MainThreadAnimation($)},isCustomValue=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),resolveFinalValueInKeyframes=i=>isKeyframesTarget(i)?i[i.length-1]||0:i;function addUniqueItem(i,e){i.indexOf(e)===-1&&i.push(e)}function removeItem(i,e){const s=i.indexOf(e);s>-1&&i.splice(s,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,s,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,o);else for(let c=0;c<a;c++){const h=this.subscriptions[c];h&&h(e,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=i=>!isNaN(parseFloat(i));class MotionValue{constructor(e,s={}){this.version="11.11.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{const c=time.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=time.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new SubscriptionManager);const o=this.events[e].add(s);return e==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(i,e){return new MotionValue(i,e)}function setMotionValue(i,e,s){i.hasValue(e)?i.getValue(e).set(s):i.addValue(e,motionValue(s))}function setTarget(i,e){const s=resolveVariant(i,e);let{transitionEnd:o={},transition:a={},...c}=s||{};c={...c,...o};for(const h in c){const d=resolveFinalValueInKeyframes(c[h]);setMotionValue(i,h,d)}}const camelToDash=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(i){return i.props[optimizedAppearDataAttribute]}const isMotionValue=i=>!!(i&&i.getVelocity);function isWillChangeMotionValue(i){return!!(isMotionValue(i)&&i.add)}function getWillChangeName(i){if(transformProps.has(i))return"transform";if(acceleratedValues.has(i))return camelToDash(i)}function addValueToWillChange(i,e){var s;if(!i.applyWillChange)return;const o=i.getValue("willChange");if(isWillChangeMotionValue(o))return o.add(e);!(!((s=i.props.style)===null||s===void 0)&&s.willChange)&&getWillChangeName(e)&&i.setStaticValue("willChange","transform")}function shouldBlockAnimation({protectedKeys:i,needsAnimating:e},s){const o=i.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,o}function animateTarget(i,e,{delay:s=0,transitionOverride:o,type:a}={}){var c;let{transition:h=i.getDefaultTransition(),transitionEnd:d,...g}=e;o&&(h=o);const _=[],$=a&&i.animationState&&i.animationState.getState()[a];for(const nt in g){const et=i.getValue(nt,(c=i.latestValues[nt])!==null&&c!==void 0?c:null),rt=g[nt];if(rt===void 0||$&&shouldBlockAnimation($,nt))continue;const lt={delay:s,...getValueTransition(h||{},nt)};let ut=!1;if(window.MotionHandoffAnimation){const at=getOptimisedAppearId(i);if(at){const st=window.MotionHandoffAnimation(at,nt,frame);st!==null&&(lt.startTime=st,ut=!0)}}addValueToWillChange(i,nt),et.start(animateMotionValue(nt,et,rt,i.shouldReduceMotion&&transformProps.has(nt)?{type:!1}:lt,i,ut));const gt=et.animation;gt&&_.push(gt)}return d&&Promise.all(_).then(()=>{frame.update(()=>{d&&setTarget(i,d)})}),_}function animateVariant(i,e,s={}){var o;const a=resolveVariant(i,e,s.type==="exit"?(o=i.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:c=i.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(c=s.transitionOverride);const h=a?()=>Promise.all(animateTarget(i,a,s)):()=>Promise.resolve(),d=i.variantChildren&&i.variantChildren.size?(_=0)=>{const{delayChildren:$=0,staggerChildren:nt,staggerDirection:et}=c;return animateChildren(i,e,$+_,nt,et,s)}:()=>Promise.resolve(),{when:g}=c;if(g){const[_,$]=g==="beforeChildren"?[h,d]:[d,h];return _().then(()=>$())}else return Promise.all([h(),d(s.delay)])}function animateChildren(i,e,s=0,o=0,a=1,c){const h=[],d=(i.variantChildren.size-1)*o,g=a===1?(_=0)=>_*o:(_=0)=>d-_*o;return Array.from(i.variantChildren).sort(sortByTreeOrder).forEach((_,$)=>{_.notify("AnimationStart",e),h.push(animateVariant(_,e,{...c,delay:s+g($)}).then(()=>_.notify("AnimationComplete",e)))}),Promise.all(h)}function sortByTreeOrder(i,e){return i.sortNodePosition(e)}function animateVisualElement(i,e,s={}){i.notify("AnimationStart",e);let o;if(Array.isArray(e)){const a=e.map(c=>animateVariant(i,c,s));o=Promise.all(a)}else if(typeof e=="string")o=animateVariant(i,e,s);else{const a=typeof e=="function"?resolveVariant(i,e,s.custom):e;o=Promise.all(animateTarget(i,a,s))}return o.then(()=>{i.notify("AnimationComplete",e)})}const numVariantProps=variantProps.length;function getVariantContext(i){if(!i)return;if(!i.isControllingVariants){const s=i.parent?getVariantContext(i.parent)||{}:{};return i.props.initial!==void 0&&(s.initial=i.props.initial),s}const e={};for(let s=0;s<numVariantProps;s++){const o=variantProps[s],a=i.props[o];(isVariantLabel(a)||a===!1)&&(e[o]=a)}return e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(i){return e=>Promise.all(e.map(({animation:s,options:o})=>animateVisualElement(i,s,o)))}function createAnimationState(i){let e=animateList(i),s=createState(),o=!0;const a=g=>(_,$)=>{var nt;const et=resolveVariant(i,$,g==="exit"?(nt=i.presenceContext)===null||nt===void 0?void 0:nt.custom:void 0);if(et){const{transition:rt,transitionEnd:lt,...ut}=et;_={..._,...ut,...lt}}return _};function c(g){e=g(i)}function h(g){const{props:_}=i,$=getVariantContext(i.parent)||{},nt=[],et=new Set;let rt={},lt=1/0;for(let gt=0;gt<numAnimationTypes;gt++){const at=reversePriorityOrder[gt],st=s[at],ot=_[at]!==void 0?_[at]:$[at],ct=isVariantLabel(ot),Pt=at===g?st.isActive:null;Pt===!1&&(lt=gt);let At=ot===$[at]&&ot!==_[at]&&ct;if(At&&o&&i.manuallyAnimateOnMount&&(At=!1),st.protectedKeys={...rt},!st.isActive&&Pt===null||!ot&&!st.prevProp||isAnimationControls(ot)||typeof ot=="boolean")continue;const yt=checkVariantsDidChange(st.prevProp,ot);let pt=yt||at===g&&st.isActive&&!At&&ct||gt>lt&&ct,_t=!1;const St=Array.isArray(ot)?ot:[ot];let xt=St.reduce(a(at),{});Pt===!1&&(xt={});const{prevResolvedValues:It={}}=st,wt={...It,...xt},Wt=kt=>{pt=!0,et.has(kt)&&(_t=!0,et.delete(kt)),st.needsAnimating[kt]=!0;const dt=i.getValue(kt);dt&&(dt.liveStyle=!1)};for(const kt in wt){const dt=xt[kt],vt=It[kt];if(rt.hasOwnProperty(kt))continue;let Ft=!1;isKeyframesTarget(dt)&&isKeyframesTarget(vt)?Ft=!shallowCompare(dt,vt):Ft=dt!==vt,Ft?dt!=null?Wt(kt):et.add(kt):dt!==void 0&&et.has(kt)?Wt(kt):st.protectedKeys[kt]=!0}st.prevProp=ot,st.prevResolvedValues=xt,st.isActive&&(rt={...rt,...xt}),o&&i.blockInitialAnimation&&(pt=!1),pt&&(!(At&&yt)||_t)&&nt.push(...St.map(kt=>({animation:kt,options:{type:at}})))}if(et.size){const gt={};et.forEach(at=>{const st=i.getBaseTarget(at),ot=i.getValue(at);ot&&(ot.liveStyle=!0),gt[at]=st??null}),nt.push({animation:gt})}let ut=!!nt.length;return o&&(_.initial===!1||_.initial===_.animate)&&!i.manuallyAnimateOnMount&&(ut=!1),o=!1,ut?e(nt):Promise.resolve()}function d(g,_){var $;if(s[g].isActive===_)return Promise.resolve();($=i.variantChildren)===null||$===void 0||$.forEach(et=>{var rt;return(rt=et.animationState)===null||rt===void 0?void 0:rt.setActive(g,_)}),s[g].isActive=_;const nt=h(g);for(const et in s)s[et].protectedKeys={};return nt}return{animateChanges:h,setActive:d,setAnimateFunction:c,getState:()=>s,reset:()=>{s=createState(),o=!0}}}function checkVariantsDidChange(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!shallowCompare(e,i):!1}function createTypeState(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isPrimaryPointer=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function extractEventInfo(i,e="page"){return{point:{x:i[`${e}X`],y:i[`${e}Y`]}}}const addPointerInfo=i=>e=>isPrimaryPointer(e)&&i(e,extractEventInfo(e));function addDomEvent(i,e,s,o={passive:!0}){return i.addEventListener(e,s,o),()=>i.removeEventListener(e,s)}function addPointerEvent(i,e,s,o){return addDomEvent(i,e,addPointerInfo(s),o)}const distance=(i,e)=>Math.abs(i-e);function distance2D(i,e){const s=distance(i.x,e.x),o=distance(i.y,e.y);return Math.sqrt(s**2+o**2)}class PanSession{constructor(e,s,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const nt=getPanInfo(this.lastMoveEventInfo,this.history),et=this.startEvent!==null,rt=distance2D(nt.offset,{x:0,y:0})>=3;if(!et&&!rt)return;const{point:lt}=nt,{timestamp:ut}=frameData;this.history.push({...lt,timestamp:ut});const{onStart:gt,onMove:at}=this.handlers;et||(gt&&gt(this.lastMoveEvent,nt),this.startEvent=this.lastMoveEvent),at&&at(this.lastMoveEvent,nt)},this.handlePointerMove=(nt,et)=>{this.lastMoveEvent=nt,this.lastMoveEventInfo=transformPoint(et,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(nt,et)=>{this.end();const{onEnd:rt,onSessionEnd:lt,resumeAnimation:ut}=this.handlers;if(this.dragSnapToOrigin&&ut&&ut(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const gt=getPanInfo(nt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(et,this.transformPagePoint),this.history);this.startEvent&&rt&&rt(nt,gt),lt&&lt(nt,gt)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=o,this.contextWindow=a||window;const h=extractEventInfo(e),d=transformPoint(h,this.transformPagePoint),{point:g}=d,{timestamp:_}=frameData;this.history=[{...g,timestamp:_}];const{onSessionStart:$}=s;$&&$(e,getPanInfo(d,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(i,e){return e?{point:e(i.point)}:i}function subtractPoint(i,e){return{x:i.x-e.x,y:i.y-e.y}}function getPanInfo({point:i},e){return{point:i,delta:subtractPoint(i,lastDevicePoint(e)),offset:subtractPoint(i,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(i){return i[0]}function lastDevicePoint(i){return i[i.length-1]}function getVelocity(i,e){if(i.length<2)return{x:0,y:0};let s=i.length-1,o=null;const a=lastDevicePoint(i);for(;s>=0&&(o=i[s],!(a.timestamp-o.timestamp>secondsToMilliseconds(e)));)s--;if(!o)return{x:0,y:0};const c=millisecondsToSeconds(a.timestamp-o.timestamp);if(c===0)return{x:0,y:0};const h={x:(a.x-o.x)/c,y:(a.y-o.y)/c};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function createLock(i){let e=null;return()=>{const s=()=>{e=null};return e===null?(e=i,s):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(i){let e=!1;if(i==="y")e=globalVerticalLock();else if(i==="x")e=globalHorizontalLock();else{const s=globalHorizontalLock(),o=globalVerticalLock();s&&o?e=()=>{s(),o()}:(s&&s(),o&&o())}return e}function isDragActive(){const i=getGlobalLock(!0);return i?(i(),!1):!0}function isRefObject(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(i){return i.max-i.min}function isNear(i,e,s){return Math.abs(i-e)<=s}function calcAxisDelta(i,e,s,o=.5){i.origin=o,i.originPoint=mixNumber$1(e.min,e.max,i.origin),i.scale=calcLength(s)/calcLength(e),i.translate=mixNumber$1(s.min,s.max,i.origin)-i.originPoint,(i.scale>=SCALE_MIN&&i.scale<=SCALE_MAX||isNaN(i.scale))&&(i.scale=1),(i.translate>=TRANSLATE_MIN&&i.translate<=TRANSLATE_MAX||isNaN(i.translate))&&(i.translate=0)}function calcBoxDelta(i,e,s,o){calcAxisDelta(i.x,e.x,s.x,o?o.originX:void 0),calcAxisDelta(i.y,e.y,s.y,o?o.originY:void 0)}function calcRelativeAxis(i,e,s){i.min=s.min+e.min,i.max=i.min+calcLength(e)}function calcRelativeBox(i,e,s){calcRelativeAxis(i.x,e.x,s.x),calcRelativeAxis(i.y,e.y,s.y)}function calcRelativeAxisPosition(i,e,s){i.min=e.min-s.min,i.max=i.min+calcLength(e)}function calcRelativePosition(i,e,s){calcRelativeAxisPosition(i.x,e.x,s.x),calcRelativeAxisPosition(i.y,e.y,s.y)}function applyConstraints(i,{min:e,max:s},o){return e!==void 0&&i<e?i=o?mixNumber$1(e,i,o.min):Math.max(i,e):s!==void 0&&i>s&&(i=o?mixNumber$1(s,i,o.max):Math.min(i,s)),i}function calcRelativeAxisConstraints(i,e,s){return{min:e!==void 0?i.min+e:void 0,max:s!==void 0?i.max+s-(i.max-i.min):void 0}}function calcRelativeConstraints(i,{top:e,left:s,bottom:o,right:a}){return{x:calcRelativeAxisConstraints(i.x,s,a),y:calcRelativeAxisConstraints(i.y,e,o)}}function calcViewportAxisConstraints(i,e){let s=e.min-i.min,o=e.max-i.max;return e.max-e.min<i.max-i.min&&([s,o]=[o,s]),{min:s,max:o}}function calcViewportConstraints(i,e){return{x:calcViewportAxisConstraints(i.x,e.x),y:calcViewportAxisConstraints(i.y,e.y)}}function calcOrigin$1(i,e){let s=.5;const o=calcLength(i),a=calcLength(e);return a>o?s=progress(e.min,e.max-o,i.min):o>a&&(s=progress(i.min,i.max-a,e.min)),clamp(0,1,s)}function rebaseAxisConstraints(i,e){const s={};return e.min!==void 0&&(s.min=e.min-i.min),e.max!==void 0&&(s.max=e.max-i.min),s}const defaultElastic=.35;function resolveDragElastic(i=defaultElastic){return i===!1?i=0:i===!0&&(i=defaultElastic),{x:resolveAxisElastic(i,"left","right"),y:resolveAxisElastic(i,"top","bottom")}}function resolveAxisElastic(i,e,s){return{min:resolvePointElastic(i,e),max:resolvePointElastic(i,s)}}function resolvePointElastic(i,e){return typeof i=="number"?i:i[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(i){return[i("x"),i("y")]}function convertBoundingBoxToBox({top:i,left:e,right:s,bottom:o}){return{x:{min:e,max:s},y:{min:i,max:o}}}function convertBoxToBoundingBox({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function transformBoxPoints(i,e){if(!e)return i;const s=e({x:i.left,y:i.top}),o=e({x:i.right,y:i.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function isIdentityScale(i){return i===void 0||i===1}function hasScale({scale:i,scaleX:e,scaleY:s}){return!isIdentityScale(i)||!isIdentityScale(e)||!isIdentityScale(s)}function hasTransform(i){return hasScale(i)||has2DTranslate(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function has2DTranslate(i){return is2DTranslate(i.x)||is2DTranslate(i.y)}function is2DTranslate(i){return i&&i!=="0%"}function scalePoint(i,e,s){const o=i-s,a=e*o;return s+a}function applyPointDelta(i,e,s,o,a){return a!==void 0&&(i=scalePoint(i,a,o)),scalePoint(i,s,o)+e}function applyAxisDelta(i,e=0,s=1,o,a){i.min=applyPointDelta(i.min,e,s,o,a),i.max=applyPointDelta(i.max,e,s,o,a)}function applyBoxDelta(i,{x:e,y:s}){applyAxisDelta(i.x,e.translate,e.scale,e.originPoint),applyAxisDelta(i.y,s.translate,s.scale,s.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(i,e,s,o=!1){const a=s.length;if(!a)return;e.x=e.y=1;let c,h;for(let d=0;d<a;d++){c=s[d],h=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(i,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,applyBoxDelta(i,h)),o&&hasTransform(c.latestValues)&&transformBox(i,c.latestValues))}e.x<TREE_SCALE_SNAP_MAX&&e.x>TREE_SCALE_SNAP_MIN&&(e.x=1),e.y<TREE_SCALE_SNAP_MAX&&e.y>TREE_SCALE_SNAP_MIN&&(e.y=1)}function translateAxis(i,e){i.min=i.min+e,i.max=i.max+e}function transformAxis(i,e,s,o,a=.5){const c=mixNumber$1(i.min,i.max,a);applyAxisDelta(i,e,s,c,o)}function transformBox(i,e){transformAxis(i.x,e.x,e.scaleX,e.scale,e.originX),transformAxis(i.y,e.y,e.scaleY,e.scale,e.originY)}function measureViewportBox(i,e){return convertBoundingBoxToBox(transformBoxPoints(i.getBoundingClientRect(),e))}function measurePageBox(i,e,s){const o=measureViewportBox(i,s),{scroll:a}=e;return a&&(translateAxis(o.x,a.offset.x),translateAxis(o.y,a.offset.y)),o}const getContextWindow=({current:i})=>i?i.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=$=>{const{dragSnapToOrigin:nt}=this.getProps();nt?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(extractEventInfo($,"page").point)},c=($,nt)=>{const{drag:et,dragPropagation:rt,onDragStart:lt}=this.getProps();if(et&&!rt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(et),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(gt=>{let at=this.getAxisMotionValue(gt).get()||0;if(percent.test(at)){const{projection:st}=this.visualElement;if(st&&st.layout){const ot=st.layout.layoutBox[gt];ot&&(at=calcLength(ot)*(parseFloat(at)/100))}}this.originPoint[gt]=at}),lt&&frame.postRender(()=>lt($,nt)),addValueToWillChange(this.visualElement,"transform");const{animationState:ut}=this.visualElement;ut&&ut.setActive("whileDrag",!0)},h=($,nt)=>{const{dragPropagation:et,dragDirectionLock:rt,onDirectionLock:lt,onDrag:ut}=this.getProps();if(!et&&!this.openGlobalLock)return;const{offset:gt}=nt;if(rt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(gt),this.currentDirection!==null&&lt&&lt(this.currentDirection);return}this.updateAxis("x",nt.point,gt),this.updateAxis("y",nt.point,gt),this.visualElement.render(),ut&&ut($,nt)},d=($,nt)=>this.stop($,nt),g=()=>eachAxis($=>{var nt;return this.getAnimationState($)==="paused"&&((nt=this.getAxisMotionValue($).animation)===null||nt===void 0?void 0:nt.play())}),{dragSnapToOrigin:_}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:a,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,contextWindow:getContextWindow(this.visualElement)})}stop(e,s){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,o){const{drag:a}=this.getProps();if(!o||!shouldDrag(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=applyConstraints(h,this.constraints[e],this.elastic[e])),c.set(h)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,c=this.constraints;s&&isRefObject(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=calcRelativeConstraints(a.layoutBox,s):this.constraints=!1,this.elastic=resolveDragElastic(o),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=rebaseAxisConstraints(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!isRefObject(e))return!1;const o=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=measurePageBox(o,a.root,this.visualElement.getTransformPagePoint());let h=calcViewportConstraints(a.layout.layoutBox,c);if(s){const d=s(convertBoxToBoundingBox(h));this.hasMutatedConstraints=!!d,d&&(h=convertBoundingBoxToBox(d))}return h}startAnimation(e){const{drag:s,dragMomentum:o,dragElastic:a,dragTransition:c,dragSnapToOrigin:h,onDragTransitionEnd:d}=this.getProps(),g=this.constraints||{},_=eachAxis($=>{if(!shouldDrag($,s,this.currentDirection))return;let nt=g&&g[$]||{};h&&(nt={min:0,max:0});const et=a?200:1e6,rt=a?40:1e7,lt={type:"inertia",velocity:o?e[$]:0,bounceStiffness:et,bounceDamping:rt,timeConstant:750,restDelta:1,restSpeed:10,...c,...nt};return this.startAxisValueAnimation($,lt)});return Promise.all(_).then(d)}startAxisValueAnimation(e,s){const o=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),o.start(animateMotionValue(e,o,0,s,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),a=o[s];return a||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(s=>{const{drag:o}=this.getProps();if(!shouldDrag(s,o,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(s);if(a&&a.layout){const{min:h,max:d}=a.layout.layoutBox[s];c.set(e[s]-mixNumber$1(h,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(s)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};eachAxis(h=>{const d=this.getAxisMotionValue(h);if(d&&this.constraints!==!1){const g=d.get();a[h]=calcOrigin$1({min:g,max:g},this.constraints[h])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(h=>{if(!shouldDrag(h,e,null))return;const d=this.getAxisMotionValue(h),{min:g,max:_}=this.constraints[h];d.set(mixNumber$1(g,_,a[h]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,s=addPointerEvent(e,"pointerdown",g=>{const{drag:_,dragListener:$=!0}=this.getProps();_&&$&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();isRefObject(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),frame.read(o);const h=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_})=>{this.isDragging&&_&&(eachAxis($=>{const nt=this.getAxisMotionValue($);nt&&(this.originPoint[$]+=g[$].translate,nt.set(nt.get()+g[$].translate))}),this.visualElement.render())});return()=>{h(),s(),c(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:h=defaultElastic,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:o,dragPropagation:a,dragConstraints:c,dragElastic:h,dragMomentum:d}}}function shouldDrag(i,e,s){return(e===!0||e===i)&&(s===null||s===i)}function getCurrentDirection(i,e=10){let s=null;return Math.abs(i.y)>e?s="y":Math.abs(i.x)>e&&(s="x"),s}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=i=>(e,s)=>{i&&frame.postRender(()=>i(e,s))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(s),onMove:o,onEnd:(c,h)=>{delete this.session,a&&frame.postRender(()=>a(c,h))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const i=reactExports.useContext(PresenceContext);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:o}=i,a=reactExports.useId();reactExports.useEffect(()=>o(a),[]);const c=reactExports.useCallback(()=>s&&s(a),[a,s]);return!e&&s?[!1,c]:[!0]}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const correctBorderRadius={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(px.test(i))i=parseFloat(i);else return i;const s=pixelsToPercent(i,e.target.x),o=pixelsToPercent(i,e.target.y);return`${s}% ${o}%`}},correctBoxShadow={correct:(i,{treeScale:e,projectionDelta:s})=>{const o=i,a=complex.parse(i);if(a.length>5)return o;const c=complex.createTransformer(i),h=typeof a[0]!="number"?1:0,d=s.x.scale*e.x,g=s.y.scale*e.y;a[0+h]/=d,a[1+h]/=g;const _=mixNumber$1(d,g,.5);return typeof a[2+h]=="number"&&(a[2+h]/=_),typeof a[3+h]=="number"&&(a[3+h]/=_),c(a)}},scaleCorrectors={};function addScaleCorrector(i){Object.assign(scaleCorrectors,i)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:o,layoutId:a}=this.props,{projection:c}=e;addScaleCorrector(defaultScaleCorrectors),c&&(s.group&&s.group.add(c),o&&o.register&&a&&o.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:o,drag:a,isPresent:c}=this.props,h=o.projection;return h&&(h.isPresent=c,a||e.layoutDependency!==s||s===void 0?h.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?h.promote():h.relegate()||frame.postRender(()=>{const d=h.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(i){const[e,s]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...i,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:s})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber$1=i=>typeof i=="string"?parseFloat(i):i,isPx=i=>typeof i=="number"||px.test(i);function mixValues(i,e,s,o,a,c){a?(i.opacity=mixNumber$1(0,s.opacity!==void 0?s.opacity:1,easeCrossfadeIn(o)),i.opacityExit=mixNumber$1(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(o))):c&&(i.opacity=mixNumber$1(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,o));for(let h=0;h<numBorders;h++){const d=`border${borders[h]}Radius`;let g=getRadius(e,d),_=getRadius(s,d);if(g===void 0&&_===void 0)continue;g||(g=0),_||(_=0),g===0||_===0||isPx(g)===isPx(_)?(i[d]=Math.max(mixNumber$1(asNumber$1(g),asNumber$1(_),o),0),(percent.test(_)||percent.test(g))&&(i[d]+="%")):i[d]=_}(e.rotate||s.rotate)&&(i.rotate=mixNumber$1(e.rotate||0,s.rotate||0,o))}function getRadius(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(i,e,s){return o=>o<i?0:o>e?1:s(progress(i,e,o))}function copyAxisInto(i,e){i.min=e.min,i.max=e.max}function copyBoxInto(i,e){copyAxisInto(i.x,e.x),copyAxisInto(i.y,e.y)}function copyAxisDeltaInto(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function removePointDelta(i,e,s,o,a){return i-=e,i=scalePoint(i,1/s,o),a!==void 0&&(i=scalePoint(i,1/a,o)),i}function removeAxisDelta(i,e=0,s=1,o=.5,a,c=i,h=i){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(h.min,h.max,e/100)-h.min),typeof e!="number")return;let d=mixNumber$1(c.min,c.max,o);i===c&&(d-=e),i.min=removePointDelta(i.min,e,s,d,a),i.max=removePointDelta(i.max,e,s,d,a)}function removeAxisTransforms(i,e,[s,o,a],c,h){removeAxisDelta(i,e[s],e[o],e[a],e.scale,c,h)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(i,e,s,o){removeAxisTransforms(i.x,e,xKeys,s?s.x:void 0,o?o.x:void 0),removeAxisTransforms(i.y,e,yKeys,s?s.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(i){return i.translate===0&&i.scale===1}function isDeltaZero(i){return isAxisDeltaZero(i.x)&&isAxisDeltaZero(i.y)}function axisEquals(i,e){return i.min===e.min&&i.max===e.max}function boxEquals(i,e){return axisEquals(i.x,e.x)&&axisEquals(i.y,e.y)}function axisEqualsRounded(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function boxEqualsRounded(i,e){return axisEqualsRounded(i.x,e.x)&&axisEqualsRounded(i.y,e.y)}function aspectRatio(i){return calcLength(i.x)/calcLength(i.y)}function axisDeltaEquals(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let o;for(let a=s;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){o=c;break}}return o?(this.promote(o),!0):!1}promote(e,s){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,s&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:o}=e;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(i,e,s){let o="";const a=i.x.translate/e.x,c=i.y.translate/e.y,h=(s==null?void 0:s.z)||0;if((a||c||h)&&(o=`translate3d(${a}px, ${c}px, ${h}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:_,rotate:$,rotateX:nt,rotateY:et,skewX:rt,skewY:lt}=s;_&&(o=`perspective(${_}px) ${o}`),$&&(o+=`rotate(${$}deg) `),nt&&(o+=`rotateX(${nt}deg) `),et&&(o+=`rotateY(${et}deg) `),rt&&(o+=`skewX(${rt}deg) `),lt&&(o+=`skewY(${lt}deg) `)}const d=i.x.scale*e.x,g=i.y.scale*e.y;return(d!==1||g!==1)&&(o+=`scale(${d}, ${g})`),o||"none"}const compareByDepth=(i,e)=>i.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function resolveMotionValue(i){const e=isMotionValue(i)?i.get():i;return isCustomValue(e)?e.toValue():e}function delay(i,e){const s=time.now(),o=({timestamp:a})=>{const c=a-s;c>=e&&(cancelFrame(o),i(c-e))};return frame.read(o,!0),()=>cancelFrame(o)}function isSVGElement(i){return i instanceof SVGElement&&i.tagName!=="svg"}function animateSingleValue(i,e,s){const o=isMotionValue(i)?i:motionValue(i);return o.start(animateMotionValue("",o,e,s)),o.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(i,e,s,o){const{latestValues:a}=e;a[i]&&(s[i]=a[i],e.setStaticValue(i,0),o&&(o[i]=0))}function cancelTreeOptimisedTransformAnimations(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const s=getOptimisedAppearId(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:c}=i.options;window.MotionCancelOptimisedAnimation(s,"transform",frame,!(a||c))}const{parent:o}=i;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode$1({attachResizeListener:i,defaultParent:e,measureScroll:s,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(h={},d=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(h,d){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new SubscriptionManager),this.eventHandlers.get(h).add(d)}notifyListeners(h,...d){const g=this.eventHandlers.get(h);g&&g.notify(...d)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(h),this.instance=h;const{layoutId:g,layout:_,visualElement:$}=this.options;if($&&!$.current&&$.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(_||g)&&(this.isLayoutDirty=!0),i){let nt;const et=()=>this.root.updateBlockedByResize=!1;i(h,()=>{this.root.updateBlockedByResize=!0,nt&&nt(),nt=delay(et,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&$&&(g||_)&&this.addEventListener("didUpdate",({delta:nt,hasLayoutChanged:et,hasRelativeTargetChanged:rt,layout:lt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const ut=this.options.transition||$.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:gt,onLayoutAnimationComplete:at}=$.getProps(),st=!this.targetLayout||!boxEqualsRounded(this.targetLayout,lt)||rt,ot=!et&&rt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ot||et&&(st||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(nt,ot);const ct={...getValueTransition(ut,"layout"),onPlay:gt,onComplete:at};($.shouldReduceMotion||this.options.layoutRoot)&&(ct.delay=0,ct.type=!1),this.startAnimation(ct)}else et||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=lt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let $=0;$<this.path.length;$++){const nt=this.path[$];nt.shouldResetTransform=!0,nt.updateScroll("snapshot"),nt.options.layoutRoot&&nt.willUpdate(!1)}const{layoutId:d,layout:g}=this.options;if(d===void 0&&!g)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const d=time.now();frameData.delta=clamp(0,1e3/60,d-frameData.timestamp),frameData.timestamp=d,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(d=!1),d){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:g,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!isDeltaZero(this.projectionDelta),g=this.getTransformTemplate(),_=g?g(this.latestValues,""):void 0,$=_!==this.prevTransformTemplateValue;h&&(d||hasTransform(this.latestValues)||$)&&(a(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const d=this.measurePageBox();let g=this.removeElementScroll(d);return h&&(g=this.removeTransform(g)),roundBox(g),{animationId:this.root.animationId,measuredBox:d,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:d}=this.options;if(!d)return createBox();const g=d.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:$}=this.root;$&&(translateAxis(g.x,$.offset.x),translateAxis(g.y,$.offset.y))}return g}removeElementScroll(h){var d;const g=createBox();if(copyBoxInto(g,h),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return g;for(let _=0;_<this.path.length;_++){const $=this.path[_],{scroll:nt,options:et}=$;$!==this.root&&nt&&et.layoutScroll&&(nt.wasRoot&&copyBoxInto(g,h),translateAxis(g.x,nt.offset.x),translateAxis(g.y,nt.offset.y))}return g}applyTransform(h,d=!1){const g=createBox();copyBoxInto(g,h);for(let _=0;_<this.path.length;_++){const $=this.path[_];!d&&$.options.layoutScroll&&$.scroll&&$!==$.root&&transformBox(g,{x:-$.scroll.offset.x,y:-$.scroll.offset.y}),hasTransform($.latestValues)&&transformBox(g,$.latestValues)}return hasTransform(this.latestValues)&&transformBox(g,this.latestValues),g}removeTransform(h){const d=createBox();copyBoxInto(d,h);for(let g=0;g<this.path.length;g++){const _=this.path[g];if(!_.instance||!hasTransform(_.latestValues))continue;hasScale(_.latestValues)&&_.updateSnapshot();const $=createBox(),nt=_.measurePageBox();copyBoxInto($,nt),removeBoxTransforms(d,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,$)}return hasTransform(this.latestValues)&&removeBoxTransforms(d,this.latestValues),d}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var d;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const _=!!this.resumingFrom||this!==g;if(!(h||_&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:nt,layoutId:et}=this.options;if(!(!this.layout||!(nt||et))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const rt=this.getClosestProjectingParent();rt&&rt.layout&&this.animationProgress!==1?(this.relativeParent=rt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,rt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const rt=this.getClosestProjectingParent();rt&&!!rt.resumingFrom==!!this.resumingFrom&&!rt.options.layoutScroll&&rt.target&&this.animationProgress!==1?(this.relativeParent=rt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,rt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const d=this.getLead(),g=!!this.resumingFrom||this!==d;let _=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(_=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(_=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(_=!1),_)return;const{layout:$,layoutId:nt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!($||nt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const et=this.treeScale.x,rt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,g),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=createBox());const{target:lt}=d;if(!lt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,lt,this.latestValues),(this.treeScale.x!==et||this.treeScale.y!==rt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",lt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),h){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(h,d=!1){const g=this.snapshot,_=g?g.latestValues:{},$={...this.latestValues},nt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const et=createBox(),rt=g?g.source:void 0,lt=this.layout?this.layout.source:void 0,ut=rt!==lt,gt=this.getStack(),at=!gt||gt.members.length<=1,st=!!(ut&&!at&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ot;this.mixTargetDelta=ct=>{const Pt=ct/1e3;mixAxisDelta(nt.x,h.x,Pt),mixAxisDelta(nt.y,h.y,Pt),this.setTargetDelta(nt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(et,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,et,Pt),ot&&boxEquals(this.relativeTarget,ot)&&(this.isProjectionDirty=!1),ot||(ot=createBox()),copyBoxInto(ot,this.relativeTarget)),ut&&(this.animationValues=$,mixValues($,_,this.latestValues,Pt,st,at)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Pt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...h,onUpdate:d=>{this.mixTargetDelta(d),h.onUpdate&&h.onUpdate(d)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:d,target:g,layout:_,latestValues:$}=h;if(!(!d||!g||!_)){if(this!==h&&this.layout&&_&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,_.layoutBox)){g=this.target||createBox();const nt=calcLength(this.layout.layoutBox.x);g.x.min=h.target.x.min,g.x.max=g.x.min+nt;const et=calcLength(this.layout.layoutBox.y);g.y.min=h.target.y.min,g.y.max=g.y.min+et}copyBoxInto(d,g),transformBox(d,$),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,d,$)}}registerSharedNode(h,d){this.sharedNodes.has(h)||this.sharedNodes.set(h,new NodeStack),this.sharedNodes.get(h).add(d);const _=d.options.initialPromotionConfig;d.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(d):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:d}=this.options;return d?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:d}=this.options;return d?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:d,preserveFollowOpacity:g}={}){const _=this.getStack();_&&_.promote(this,g),h&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let d=!1;const{latestValues:g}=h;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(d=!0),!d)return;const _={};g.z&&resetDistortingTransform("z",h,_,this.animationValues);for(let $=0;$<transformAxes.length;$++)resetDistortingTransform(`rotate${transformAxes[$]}`,h,_,this.animationValues),resetDistortingTransform(`skew${transformAxes[$]}`,h,_,this.animationValues);h.render();for(const $ in _)h.setStaticValue($,_[$]),this.animationValues&&(this.animationValues[$]=_[$]);h.scheduleRender()}getProjectionStyles(h){var d,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const _={visibility:""},$=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,_.opacity="",_.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||"",_.transform=$?$(this.latestValues,""):"none",_;const nt=this.getLead();if(!this.projectionDelta||!this.layout||!nt.target){const ut={};return this.options.layoutId&&(ut.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ut.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ut.transform=$?$({},""):"none",this.hasProjected=!1),ut}const et=nt.animationValues||nt.latestValues;this.applyTransformsToTarget(),_.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,et),$&&(_.transform=$(et,_.transform));const{x:rt,y:lt}=this.projectionDelta;_.transformOrigin=`${rt.origin*100}% ${lt.origin*100}% 0`,nt.animationValues?_.opacity=nt===this?(g=(d=et.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:et.opacityExit:_.opacity=nt===this?et.opacity!==void 0?et.opacity:"":et.opacityExit!==void 0?et.opacityExit:0;for(const ut in scaleCorrectors){if(et[ut]===void 0)continue;const{correct:gt,applyTo:at}=scaleCorrectors[ut],st=_.transform==="none"?et[ut]:gt(et[ut],nt);if(at){const ot=at.length;for(let ct=0;ct<ot;ct++)_[at[ct]]=st}else _[ut]=st}return this.options.layoutId&&(_.pointerEvents=nt===this?resolveMotionValue(h==null?void 0:h.pointerEvents)||"":"none"),_}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var d;return(d=h.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(i){i.updateLayout()}function notifyLayoutUpdate(i){var e;const s=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&s&&i.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=i.layout,{animationType:c}=i.options,h=s.source!==i.layout.source;c==="size"?eachAxis(nt=>{const et=h?s.measuredBox[nt]:s.layoutBox[nt],rt=calcLength(et);et.min=o[nt].min,et.max=et.min+rt}):shouldAnimatePositionOnly(c,s.layoutBox,o)&&eachAxis(nt=>{const et=h?s.measuredBox[nt]:s.layoutBox[nt],rt=calcLength(o[nt]);et.max=et.min+rt,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[nt].max=i.relativeTarget[nt].min+rt)});const d=createDelta();calcBoxDelta(d,o,s.layoutBox);const g=createDelta();h?calcBoxDelta(g,i.applyTransform(a,!0),s.measuredBox):calcBoxDelta(g,o,s.layoutBox);const _=!isDeltaZero(d);let $=!1;if(!i.resumeFrom){const nt=i.getClosestProjectingParent();if(nt&&!nt.resumeFrom){const{snapshot:et,layout:rt}=nt;if(et&&rt){const lt=createBox();calcRelativePosition(lt,s.layoutBox,et.layoutBox);const ut=createBox();calcRelativePosition(ut,o,rt.layoutBox),boxEqualsRounded(lt,ut)||($=!0),nt.options.layoutRoot&&(i.relativeTarget=ut,i.relativeTargetOrigin=lt,i.relativeParent=nt)}}}i.notifyListeners("didUpdate",{layout:o,snapshot:s,delta:g,layoutDelta:d,hasLayoutChanged:_,hasRelativeTargetChanged:$})}else if(i.isLead()){const{onExitComplete:o}=i.options;o&&o()}i.options.transition=void 0}function propagateDirtyNodes(i){isDebug&&metrics.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function cleanDirtyNodes(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function clearSnapshot(i){i.clearSnapshot()}function clearMeasurements(i){i.clearMeasurements()}function clearIsLayoutDirty(i){i.isLayoutDirty=!1}function resetTransformStyle(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function finishAnimation(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function resolveTargetDelta(i){i.resolveTargetDelta()}function calcProjection(i){i.calcProjection()}function resetSkewAndRotation(i){i.resetSkewAndRotation()}function removeLeadSnapshots(i){i.removeLeadSnapshot()}function mixAxisDelta(i,e,s){i.translate=mixNumber$1(e.translate,0,s),i.scale=mixNumber$1(e.scale,1,s),i.origin=e.origin,i.originPoint=e.originPoint}function mixAxis(i,e,s,o){i.min=mixNumber$1(e.min,s.min,o),i.max=mixNumber$1(e.max,s.max,o)}function mixBox(i,e,s,o){mixAxis(i.x,e.x,s.x,o),mixAxis(i.y,e.y,s.y,o)}function hasOpacityCrossfade(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(i){i.min=roundPoint(i.min),i.max=roundPoint(i.max)}function roundBox(i){roundAxis(i.x),roundAxis(i.y)}function shouldAnimatePositionOnly(i,e,s){return i==="position"||i==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(s),.2)}function checkNodeWasScrollRoot(i){var e;return i!==i.root&&((e=i.scroll)===null||e===void 0?void 0:e.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(i,e)=>addDomEvent(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const i=new DocumentProjectionNode({});i.mount(window),i.setOptions({layoutScroll:!0}),rootProjectionNode.current=i}return rootProjectionNode.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function addHoverEvent(i,e){const s=e?"pointerenter":"pointerleave",o=e?"onHoverStart":"onHoverEnd",a=(c,h)=>{if(c.pointerType==="touch"||isDragActive())return;const d=i.getProps();i.animationState&&d.whileHover&&i.animationState.setActive("whileHover",e);const g=d[o];g&&frame.postRender(()=>g(c,h))};return addPointerEvent(i.current,s,a,{passive:!i.getProps()[o]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(i,e)=>e?i===e?!0:isNodeOrChild(i,e.parentElement):!1;function fireSyntheticPointerEvent(i,e){if(!e)return;const s=new PointerEvent("pointer"+i);e(s,extractEventInfo(s))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=(e,s)=>{if(this.isPressing)return;this.removeEndListeners();const o=this.node.getProps(),c=addPointerEvent(window,"pointerup",(d,g)=>{if(!this.checkPressEnd())return;const{onTap:_,onTapCancel:$,globalTapTarget:nt}=this.node.getProps(),et=!nt&&!isNodeOrChild(this.node.current,d.target)?$:_;et&&frame.update(()=>et(d,g))},{passive:!(o.onTap||o.onPointerUp)}),h=addPointerEvent(window,"pointercancel",(d,g)=>this.cancelPress(d,g),{passive:!(o.onTapCancel||o.onPointerCancel)});this.removeEndListeners=pipe(c,h),this.startPress(e,s)},this.startAccessiblePress=()=>{const e=c=>{if(c.key!=="Enter"||this.isPressing)return;const h=d=>{d.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(g,_)=>{const{onTap:$}=this.node.getProps();$&&frame.postRender(()=>$(g,_))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",h),fireSyntheticPointerEvent("down",(d,g)=>{this.startPress(d,g)})},s=addDomEvent(this.node.current,"keydown",e),o=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(c,h)=>this.cancelPress(c,h))},a=addDomEvent(this.node.current,"blur",o);this.removeAccessibleListeners=pipe(s,a)}}startPress(e,s){this.isPressing=!0;const{onTapStart:o,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),o&&frame.postRender(()=>o(e,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(e,s){if(!this.checkPressEnd())return;const{onTapCancel:o}=this.node.getProps();o&&frame.postRender(()=>o(e,s))}mount(){const e=this.node.getProps(),s=addPointerEvent(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),o=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(s,o)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=i=>{const e=observerCallbacks.get(i.target);e&&e(i)},fireAllObserverCallbacks=i=>{i.forEach(fireObserverCallback)};function initIntersectionObserver({root:i,...e}){const s=i||document;observers.has(s)||observers.set(s,{});const o=observers.get(s),a=JSON.stringify(e);return o[a]||(o[a]=new IntersectionObserver(fireAllObserverCallbacks,{root:i,...e})),o[a]}function observeIntersection(i,e,s){const o=initIntersectionObserver(e);return observerCallbacks.set(i,s),o.observe(i),()=>{observerCallbacks.delete(i),o.unobserve(i)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:o,amount:a="some",once:c}=e,h={root:s?s.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:thresholdNames[a]},d=g=>{const{isIntersecting:_}=g;if(this.isInView===_||(this.isInView=_,c&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:$,onViewportLeave:nt}=this.node.getProps(),et=_?$:nt;et&&et(g)};return observeIntersection(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,s))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:i={}},{viewport:e={}}={}){return s=>i[s]!==e[s]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(i,e,s,o,a){var c,h;const{visualElement:d}=reactExports.useContext(MotionContext),g=reactExports.useContext(LazyContext),_=reactExports.useContext(PresenceContext),$=reactExports.useContext(MotionConfigContext).reducedMotion,nt=reactExports.useRef();o=o||g.renderer,!nt.current&&o&&(nt.current=o(i,{visualState:e,parent:d,props:s,presenceContext:_,blockInitialAnimation:_?_.initial===!1:!1,reducedMotionConfig:$}));const et=nt.current,rt=reactExports.useContext(SwitchLayoutGroupContext);et&&!et.projection&&a&&(et.type==="html"||et.type==="svg")&&createProjectionNode(nt.current,s,a,rt),reactExports.useInsertionEffect(()=>{et&&et.update(s,_)});const lt=s[optimizedAppearDataAttribute],ut=reactExports.useRef(!!lt&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,lt))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,lt)));return useIsomorphicLayoutEffect(()=>{et&&(window.MotionIsMounted=!0,et.updateFeatures(),microtask.render(et.render),ut.current&&et.animationState&&et.animationState.animateChanges())}),reactExports.useEffect(()=>{et&&(!ut.current&&et.animationState&&et.animationState.animateChanges(),ut.current&&(queueMicrotask(()=>{var gt;(gt=window.MotionHandoffMarkAsComplete)===null||gt===void 0||gt.call(window,lt)}),ut.current=!1))}),et}function createProjectionNode(i,e,s,o){const{layoutId:a,layout:c,drag:h,dragConstraints:d,layoutScroll:g,layoutRoot:_}=e;i.projection=new s(i.latestValues,e["data-framer-portal-id"]?void 0:getClosestProjectingNode(i.parent)),i.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!h||d&&isRefObject(d),visualElement:i,animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:_})}function getClosestProjectingNode(i){if(i)return i.options.allowProjection!==!1?i.projection:getClosestProjectingNode(i.parent)}function useMotionRef(i,e,s){return reactExports.useCallback(o=>{o&&i.mount&&i.mount(o),e&&(o?e.mount(o):e.unmount()),s&&(typeof s=="function"?s(o):isRefObject(s)&&(s.current=o))},[e])}function isControllingVariants(i){return isAnimationControls(i.animate)||variantProps.some(e=>isVariantLabel(i[e]))}function isVariantNode(i){return!!(isControllingVariants(i)||i.variants)}function getCurrentTreeVariants(i,e){if(isControllingVariants(i)){const{initial:s,animate:o}=i;return{initial:s===!1||isVariantLabel(s)?s:void 0,animate:isVariantLabel(o)?o:void 0}}return i.inherit!==!1?e:{}}function useCreateMotionContext(i){const{initial:e,animate:s}=getCurrentTreeVariants(i,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:s}),[variantLabelsAsDependency(e),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(i){return Array.isArray(i)?i.join(" "):i}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const i in featureProps)featureDefinitions[i]={isEnabled:e=>featureProps[i].some(s=>!!e[s])};function loadFeatures(i){for(const e in i)featureDefinitions[e]={...featureDefinitions[e],...i[e]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:i,createVisualElement:e,useRender:s,useVisualState:o,Component:a}){i&&loadFeatures(i);function c(d,g){let _;const $={...reactExports.useContext(MotionConfigContext),...d,layoutId:useLayoutId(d)},{isStatic:nt}=$,et=useCreateMotionContext(d),rt=o(d,nt);if(!nt&&isBrowser){useStrictMode();const lt=getProjectionFunctionality($);_=lt.MeasureLayout,et.visualElement=useVisualElement(a,rt,$,e,lt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:et,children:[_&&et.visualElement?jsxRuntimeExports.jsx(_,{visualElement:et.visualElement,...$}):null,s(a,d,useMotionRef(rt,et.visualElement,g),rt,nt,et.visualElement)]})}const h=reactExports.forwardRef(c);return h[motionComponentSymbol]=a,h}function useLayoutId({layoutId:i}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&i!==void 0?e+"-"+i:i}function useStrictMode(i,e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(i){const{drag:e,layout:s}=featureDefinitions;if(!e&&!s)return{};const o={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(i)||s!=null&&s.isEnabled(i)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(i){return typeof i!="string"||i.includes("-")?!1:!!(lowercaseSVGElements.indexOf(i)>-1||/[A-Z]/u.test(i))}function renderHTML(i,{style:e,vars:s},o,a){Object.assign(i.style,e,a&&a.getProjectionStyles(o));for(const c in s)i.style.setProperty(c,s[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(i,e,s,o){renderHTML(i,e,void 0,o);for(const a in e.attrs)i.setAttribute(camelCaseAttributes.has(a)?a:camelToDash(a),e.attrs[a])}function isForcedMotionValue(i,{layout:e,layoutId:s}){return transformProps.has(i)||i.startsWith("origin")||(e||s!==void 0)&&(!!scaleCorrectors[i]||i==="opacity")}function scrapeMotionValuesFromProps$1(i,e,s){var o;const{style:a}=i,c={};for(const h in a)(isMotionValue(a[h])||e.style&&isMotionValue(e.style[h])||isForcedMotionValue(h,i)||((o=s==null?void 0:s.getValue(h))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(c[h]=a[h]);return s&&a&&typeof a.willChange=="string"&&(s.applyWillChange=!1),c}function scrapeMotionValuesFromProps(i,e,s){const o=scrapeMotionValuesFromProps$1(i,e,s);for(const a in i)if(isMotionValue(i[a])||isMotionValue(e[a])){const c=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[c]=i[a]}return o}function useConstant(i){const e=reactExports.useRef(null);return e.current===null&&(e.current=i()),e.current}function makeState({applyWillChange:i=!1,scrapeMotionValuesFromProps:e,createRenderState:s,onMount:o},a,c,h,d){const g={latestValues:makeLatestValues(a,c,h,d?!1:i,e),renderState:s()};return o&&(g.mount=_=>o(a,_,g)),g}const makeUseVisualState=i=>(e,s)=>{const o=reactExports.useContext(MotionContext),a=reactExports.useContext(PresenceContext),c=()=>makeState(i,e,o,a,s);return s?c():useConstant(c)};function forEachDefinition(i,e,s){const o=Array.isArray(e)?e:[e];for(let a=0;a<o.length;a++){const c=resolveVariantFromProps(i,o[a]);if(c){const{transitionEnd:h,transition:d,...g}=c;s(g,h)}}}function makeLatestValues(i,e,s,o,a){var c;const h={};let d=o&&((c=i.style)===null||c===void 0?void 0:c.willChange)===void 0;const g=a(i,{});for(const ut in g)h[ut]=resolveMotionValue(g[ut]);let{initial:_,animate:$}=i;const nt=isControllingVariants(i),et=isVariantNode(i);e&&et&&!nt&&i.inherit!==!1&&(_===void 0&&(_=e.initial),$===void 0&&($=e.animate));let rt=s?s.initial===!1:!1;rt=rt||_===!1;const lt=rt?$:_;return lt&&typeof lt!="boolean"&&!isAnimationControls(lt)&&forEachDefinition(i,lt,(ut,gt)=>{for(const at in ut){let st=ut[at];if(Array.isArray(st)){const ot=rt?st.length-1:0;st=st[ot]}st!==null&&(h[at]=st)}for(const at in gt)h[at]=gt[at]}),d&&$&&_!==!1&&!isAnimationControls($)&&forEachDefinition(i,$,ut=>{for(const gt in ut)if(getWillChangeName(gt)){h.willChange="transform";return}}),h}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(i,e)=>e&&typeof i=="number"?e.transform(i):i,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(i,e,s){let o="",a=!0;for(let c=0;c<numTransforms;c++){const h=transformPropOrder[c],d=i[h];if(d===void 0)continue;let g=!0;if(typeof d=="number"?g=d===(h.startsWith("scale")?1:0):g=parseFloat(d)===0,!g||s){const _=getValueAsType(d,numberValueTypes[h]);if(!g){a=!1;const $=translateAlias[h]||h;o+=`${$}(${_}) `}s&&(e[h]=_)}}return o=o.trim(),s?o=s(e,a?"":o):a&&(o="none"),o}function buildHTMLStyles(i,e,s){const{style:o,vars:a,transformOrigin:c}=i;let h=!1,d=!1;for(const g in e){const _=e[g];if(transformProps.has(g)){h=!0;continue}else if(isCSSVariableName(g)){a[g]=_;continue}else{const $=getValueAsType(_,numberValueTypes[g]);g.startsWith("origin")?(d=!0,c[g]=$):o[g]=$}}if(e.transform||(h||s?o.transform=buildTransform(e,i.transform,s):o.transform&&(o.transform="none")),d){const{originX:g="50%",originY:_="50%",originZ:$=0}=c;o.transformOrigin=`${g} ${_} ${$}`}}function calcOrigin(i,e,s){return typeof i=="string"?i:px.transform(e+s*i)}function calcSVGTransformOrigin(i,e,s){const o=calcOrigin(e,i.x,i.width),a=calcOrigin(s,i.y,i.height);return`${o} ${a}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(i,e,s=1,o=0,a=!0){i.pathLength=1;const c=a?dashKeys:camelKeys;i[c.offset]=px.transform(-o);const h=px.transform(e),d=px.transform(s);i[c.array]=`${h} ${d}`}function buildSVGAttrs(i,{attrX:e,attrY:s,attrScale:o,originX:a,originY:c,pathLength:h,pathSpacing:d=1,pathOffset:g=0,..._},$,nt){if(buildHTMLStyles(i,_,nt),$){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:et,style:rt,dimensions:lt}=i;et.transform&&(lt&&(rt.transform=et.transform),delete et.transform),lt&&(a!==void 0||c!==void 0||rt.transform)&&(rt.transformOrigin=calcSVGTransformOrigin(lt,a!==void 0?a:.5,c!==void 0?c:.5)),e!==void 0&&(et.x=e),s!==void 0&&(et.y=s),o!==void 0&&(et.scale=o),h!==void 0&&buildSVGPath(et,h,d,g,!1)}const isSVGTag=i=>typeof i=="string"&&i.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(i,e,{renderState:s,latestValues:o})=>{frame.read(()=>{try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(s,o,isSVGTag(e.tagName),i.transformTemplate),renderSVG(e,s)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({applyWillChange:!0,scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(i,e,s){for(const o in e)!isMotionValue(e[o])&&!isForcedMotionValue(o,s)&&(i[o]=e[o])}function useInitialMotionValues({transformTemplate:i},e){return reactExports.useMemo(()=>{const s=createHtmlRenderState();return buildHTMLStyles(s,e,i),Object.assign({},s.vars,s.style)},[e])}function useStyle(i,e){const s=i.style||{},o={};return copyRawValuesOnly(o,s,i),Object.assign(o,useInitialMotionValues(i,e)),o}function useHTMLProps(i,e){const s={},o=useStyle(i,e);return i.drag&&i.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(s.tabIndex=0),s.style=o,s}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||validMotionProps.has(i)}let shouldForward=i=>!isValidMotionProp(i);function loadExternalIsValidProp(i){i&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):i(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(i,e,s){const o={};for(const a in i)a==="values"&&typeof i.values=="object"||(shouldForward(a)||s===!0&&isValidMotionProp(a)||!e&&!isValidMotionProp(a)||i.draggable&&a.startsWith("onDrag"))&&(o[a]=i[a]);return o}function useSVGProps(i,e,s,o){const a=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,e,isSVGTag(o),i.transformTemplate),{...c.attrs,style:{...c.style}}},[e]);if(i.style){const c={};copyRawValuesOnly(c,i.style,i),a.style={...c,...a.style}}return a}function createUseRender(i=!1){return(s,o,a,{latestValues:c},h)=>{const g=(isSVGComponent(s)?useSVGProps:useHTMLProps)(o,c,h,s),_=filterProps(o,typeof s=="string",i),$=s!==reactExports.Fragment?{..._,...g,ref:a}:{},{children:nt}=o,et=reactExports.useMemo(()=>isMotionValue(nt)?nt.get():nt,[nt]);return reactExports.createElement(s,{...$,children:et})}}function createMotionComponentFactory(i,e){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const h={...isSVGComponent(o)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:i,useRender:createUseRender(a),createVisualElement:e,Component:o};return createRendererMotionComponent(h)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=i.matches;i.addListener(e),e()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(i,e,s){for(const o in e){const a=e[o],c=s[o];if(isMotionValue(a))i.addValue(o,a);else if(isMotionValue(c))i.addValue(o,motionValue(a,{owner:i}));else if(c!==a)if(i.hasValue(o)){const h=i.getValue(o);h.liveStyle===!0?h.jump(a):h.hasAnimated||h.set(a)}else{const h=i.getStaticValue(o);i.addValue(o,motionValue(h!==void 0?h:a,{owner:i}))}}for(const o in s)e[o]===void 0&&i.removeValue(o);return e}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=i=>valueTypes.find(testValueType(i)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,s,o){return{}}constructor({parent:e,props:s,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:c,visualState:h},d={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const et=time.now();this.renderScheduledAt<et&&(this.renderScheduledAt=et,frame.render(this.render,!1,!0))};const{latestValues:g,renderState:_}=h;this.latestValues=g,this.baseTarget={...g},this.initialValues=s.initial?{...g}:{},this.renderState=_,this.parent=e,this.props=s,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=isControllingVariants(s),this.isVariantNode=isVariantNode(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:$,...nt}=this.scrapeMotionValuesFromProps(s,{},this);for(const et in nt){const rt=nt[et];g[et]!==void 0&&isMotionValue(rt)&&rt.set(g[et],!1)}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=transformProps.has(e),a=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),c(),h&&h(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in featureDefinitions){const s=featureDefinitions[e];if(!s)continue;const{isEnabled:o,Feature:a}=s;if(!this.features[e]&&a&&o(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<propEventHandlers.length;o++){const a=propEventHandlers[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,h=e[c];h&&(this.propEventSubscriptions[a]=this.on(a,h))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const o=this.values.get(e);s!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&s!==void 0&&(o=motionValue(s===null?void 0:s,{owner:this}),this.addValue(e,o)),o}readValue(e,s){var o;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(o=this.getBaseTargetFromProps(this.props,e))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(isNumericalString(a)||isZeroValueString(a))?a=parseFloat(a):!findValueType(a)&&complex.test(s)&&(a=getAnimatableNone(e,s)),this.setBaseTarget(e,isMotionValue(a)?a.get():a)),isMotionValue(a)?a.get():a}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const h=resolveVariantFromProps(this.props,o,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);h&&(a=h[e])}if(o&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,e);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:o}){delete s[e],delete o[e]}}function getComputedStyle(i){return window.getComputedStyle(i)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=renderHTML}readValueFromInstance(e,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}else{const o=getComputedStyle(e),a=(isCSSVariableName(s)?o.getPropertyValue(s):o[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return measureViewportBox(e,s)}build(e,s,o){buildHTMLStyles(e,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,s,o){return scrapeMotionValuesFromProps$1(e,s,o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(transformProps.has(s)){const o=getDefaultValueType(s);return o&&o.default||0}return s=camelCaseAttributes.has(s)?s:camelToDash(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,o){return scrapeMotionValuesFromProps(e,s,o)}build(e,s,o){buildSVGAttrs(e,s,this.isSVGTag,o.transformTemplate)}renderInstance(e,s,o,a){renderSVG(e,s,o,a)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(i,e)=>isSVGComponent(i)?new SVGVisualElement(e):new HTMLVisualElement(e,{allowProjection:i!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=s.offsetHeight||0,o.width=s.offsetWidth||0,o.top=s.offsetTop,o.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:i,isPresent:e}){const s=reactExports.useId(),o=reactExports.useRef(null),a=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:h,height:d,top:g,left:_}=a.current;if(e||!o.current||!h||!d)return;o.current.dataset.motionPopId=s;const $=document.createElement("style");return c&&($.nonce=c),document.head.appendChild($),$.sheet&&$.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            top: ${g}px !important;
            left: ${_}px !important;
          }
        `),()=>{document.head.removeChild($)}},[e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:e,childRef:o,sizeRef:a,children:reactExports.cloneElement(i,{ref:o})})}const PresenceChild=({children:i,initial:e,isPresent:s,onExitComplete:o,custom:a,presenceAffectsLayout:c,mode:h})=>{const d=useConstant(newChildrenMap),g=reactExports.useId(),_=reactExports.useMemo(()=>({id:g,initial:e,isPresent:s,custom:a,onExitComplete:$=>{d.set($,!0);for(const nt of d.values())if(!nt)return;o&&o()},register:$=>(d.set($,!1),()=>d.delete($))}),c?[Math.random()]:[s]);return reactExports.useMemo(()=>{d.forEach(($,nt)=>d.set(nt,!1))},[s]),reactExports.useEffect(()=>{!s&&!d.size&&o&&o()},[s]),h==="popLayout"&&(i=jsxRuntimeExports.jsx(PopChild,{isPresent:s,children:i})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:_,children:i})};function newChildrenMap(){return new Map}const getChildKey=i=>i.key||"";function onlyElements(i){const e=[];return reactExports.Children.forEach(i,s=>{reactExports.isValidElement(s)&&e.push(s)}),e}const AnimatePresence=({children:i,exitBeforeEnter:e,custom:s,initial:o=!0,onExitComplete:a,presenceAffectsLayout:c=!0,mode:h="sync"})=>{const d=reactExports.useMemo(()=>onlyElements(i),[i]),g=d.map(getChildKey),_=reactExports.useRef(!0),$=reactExports.useRef(d),nt=useConstant(()=>new Map),[et,rt]=reactExports.useState(d),[lt,ut]=reactExports.useState(d);useIsomorphicLayoutEffect(()=>{_.current=!1,$.current=d;for(let st=0;st<lt.length;st++){const ot=getChildKey(lt[st]);g.includes(ot)?nt.delete(ot):nt.get(ot)!==!0&&nt.set(ot,!1)}},[lt,g.length,g.join("-")]);const gt=[];if(d!==et){let st=[...d];for(let ot=0;ot<lt.length;ot++){const ct=lt[ot],Pt=getChildKey(ct);g.includes(Pt)||(st.splice(ot,0,ct),gt.push(ct))}h==="wait"&&gt.length&&(st=gt),ut(onlyElements(st)),rt(d);return}const{forceRender:at}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:lt.map(st=>{const ot=getChildKey(st),ct=d===lt||g.includes(ot),Pt=()=>{if(nt.has(ot))nt.set(ot,!0);else return;let At=!0;nt.forEach(yt=>{yt||(At=!1)}),At&&(at==null||at(),ut($.current),a&&a())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:ct,initial:!_.current||o?void 0:!1,custom:ct?void 0:s,presenceAffectsLayout:c,mode:h,onExitComplete:ct?void 0:Pt,children:st},ot)})})};var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(i,e){if(i===e)return!0;if(i&&e&&typeof i=="object"&&typeof e=="object"){if(i.constructor!==e.constructor)return!1;var s,o,a;if(Array.isArray(i)){if(s=i.length,s!=e.length)return!1;for(o=s;o--!==0;)if(!equal(i[o],e[o]))return!1;return!0}var c;if(hasMap&&i instanceof Map&&e instanceof Map){if(i.size!==e.size)return!1;for(c=i.entries();!(o=c.next()).done;)if(!e.has(o.value[0]))return!1;for(c=i.entries();!(o=c.next()).done;)if(!equal(o.value[1],e.get(o.value[0])))return!1;return!0}if(hasSet&&i instanceof Set&&e instanceof Set){if(i.size!==e.size)return!1;for(c=i.entries();!(o=c.next()).done;)if(!e.has(o.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(e)){if(s=i.length,s!=e.length)return!1;for(o=s;o--!==0;)if(i[o]!==e[o])return!1;return!0}if(i.constructor===RegExp)return i.source===e.source&&i.flags===e.flags;if(i.valueOf!==Object.prototype.valueOf&&typeof i.valueOf=="function"&&typeof e.valueOf=="function")return i.valueOf()===e.valueOf();if(i.toString!==Object.prototype.toString&&typeof i.toString=="function"&&typeof e.toString=="function")return i.toString()===e.toString();if(a=Object.keys(i),s=a.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[o]))return!1;if(hasElementType&&i instanceof Element)return!1;for(o=s;o--!==0;)if(!((a[o]==="_owner"||a[o]==="__v"||a[o]==="__o")&&i.$$typeof)&&!equal(i[a[o]],e[a[o]]))return!1;return!0}return i!==i&&e!==e}var reactFastCompare=function(e,s){try{return equal(e,s)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}};const fastCompare=getDefaultExportFromCjs(reactFastCompare);var invariant=function(i,e,s,o,a,c,h,d){if(!i){var g;if(e===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[s,o,a,c,h,d],$=0;g=new Error(e.replace(/%s/g,function(){return _[$++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}},browser=invariant;const invariant$1=getDefaultExportFromCjs(browser);var shallowequal=function(e,s,o,a){var c=o?o.call(a,e,s):void 0;if(c!==void 0)return!!c;if(e===s)return!0;if(typeof e!="object"||!e||typeof s!="object"||!s)return!1;var h=Object.keys(e),d=Object.keys(s);if(h.length!==d.length)return!1;for(var g=Object.prototype.hasOwnProperty.bind(s),_=0;_<h.length;_++){var $=h[_];if(!g($))return!1;var nt=e[$],et=s[$];if(c=o?o.call(a,nt,et,$):void 0,c===!1||c===void 0&&nt!==et)return!1}return!0};const shallowEqual=getDefaultExportFromCjs(shallowequal);var TAG_NAMES=(i=>(i.BASE="base",i.BODY="body",i.HEAD="head",i.HTML="html",i.LINK="link",i.META="meta",i.NOSCRIPT="noscript",i.SCRIPT="script",i.STYLE="style",i.TITLE="title",i.FRAGMENT="Symbol(react.fragment)",i))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((i,[e,s])=>(i[s]=e,i),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(i,e)=>{for(let s=i.length-1;s>=0;s-=1){const o=i[s];if(Object.prototype.hasOwnProperty.call(o,e))return o[e]}return null},getTitleFromPropsList=i=>{let e=getInnermostProperty(i,"title");const s=getInnermostProperty(i,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),s&&e)return s.replace(/%s/g,()=>e);const o=getInnermostProperty(i,HELMET_PROPS.DEFAULT_TITLE);return e||o||void 0},getOnChangeClientState=i=>getInnermostProperty(i,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(i,e)=>e.filter(s=>typeof s[i]<"u").map(s=>s[i]).reduce((s,o)=>({...s,...o}),{}),getBaseTagFromPropsList=(i,e)=>e.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,o)=>{if(!s.length){const a=Object.keys(o);for(let c=0;c<a.length;c+=1){const d=a[c].toLowerCase();if(i.indexOf(d)!==-1&&o[d])return s.concat(o)}}return s},[]),warn=i=>console&&typeof console.warn=="function"&&console.warn(i),getTagsFromPropsList=(i,e,s)=>{const o={};return s.filter(a=>Array.isArray(a[i])?!0:(typeof a[i]<"u"&&warn(`Helmet: ${i} should be of type "Array". Instead found type "${typeof a[i]}"`),!1)).map(a=>a[i]).reverse().reduce((a,c)=>{const h={};c.filter(g=>{let _;const $=Object.keys(g);for(let et=0;et<$.length;et+=1){const rt=$[et],lt=rt.toLowerCase();e.indexOf(lt)!==-1&&!(_==="rel"&&g[_].toLowerCase()==="canonical")&&!(lt==="rel"&&g[lt].toLowerCase()==="stylesheet")&&(_=lt),e.indexOf(rt)!==-1&&(rt==="innerHTML"||rt==="cssText"||rt==="itemprop")&&(_=rt)}if(!_||!g[_])return!1;const nt=g[_].toLowerCase();return o[_]||(o[_]={}),h[_]||(h[_]={}),o[_][nt]?!1:(h[_][nt]=!0,!0)}).reverse().forEach(g=>a.push(g));const d=Object.keys(h);for(let g=0;g<d.length;g+=1){const _=d[g],$={...o[_],...h[_]};o[_]=$}return a},[]).reverse()},getAnyTrueFromPropsList=(i,e)=>{if(Array.isArray(i)&&i.length){for(let s=0;s<i.length;s+=1)if(i[s][e])return!0}return!1},reducePropsToState=i=>({baseTag:getBaseTagFromPropsList(["href"],i),bodyAttributes:getAttributesFromPropsList("bodyAttributes",i),defer:getInnermostProperty(i,HELMET_PROPS.DEFER),encode:getInnermostProperty(i,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",i),linkTags:getTagsFromPropsList("link",["rel","href"],i),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],i),onChangeClientState:getOnChangeClientState(i),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],i),styleTags:getTagsFromPropsList("style",["cssText"],i),title:getTitleFromPropsList(i),titleAttributes:getAttributesFromPropsList("titleAttributes",i),prioritizeSeoTags:getAnyTrueFromPropsList(i,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=i=>Array.isArray(i)?i.join(""):i,checkIfPropsMatch=(i,e)=>{const s=Object.keys(i);for(let o=0;o<s.length;o+=1)if(e[s[o]]&&e[s[o]].includes(i[s[o]]))return!0;return!1},prioritizer=(i,e)=>Array.isArray(i)?i.reduce((s,o)=>(checkIfPropsMatch(o,e)?s.priority.push(o):s.default.push(o),s),{priority:[],default:[]}):{default:i,priority:[]},without=(i,e)=>({...i,[e]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(i,e=!0)=>e===!1?String(i):String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=i=>Object.keys(i).reduce((e,s)=>{const o=typeof i[s]<"u"?`${s}="${i[s]}"`:`${s}`;return e?`${e} ${o}`:o},""),generateTitleAsString=(i,e,s,o)=>{const a=generateElementAttributesAsString(s),c=flattenArray(e);return a?`<${i} ${HELMET_ATTRIBUTE}="true" ${a}>${encodeSpecialCharacters(c,o)}</${i}>`:`<${i} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(c,o)}</${i}>`},generateTagsAsString=(i,e,s=!0)=>e.reduce((o,a)=>{const c=a,h=Object.keys(c).filter(_=>!(_==="innerHTML"||_==="cssText")).reduce((_,$)=>{const nt=typeof c[$]>"u"?$:`${$}="${encodeSpecialCharacters(c[$],s)}"`;return _?`${_} ${nt}`:nt},""),d=c.innerHTML||c.cssText||"",g=SELF_CLOSING_TAGS.indexOf(i)===-1;return`${o}<${i} ${HELMET_ATTRIBUTE}="true" ${h}${g?"/>":`>${d}</${i}>`}`},""),convertElementAttributesToReactProps=(i,e={})=>Object.keys(i).reduce((s,o)=>{const a=REACT_TAG_MAP[o];return s[a||o]=i[o],s},e),generateTitleAsReactComponent=(i,e,s)=>{const o={key:e,[HELMET_ATTRIBUTE]:!0},a=convertElementAttributesToReactProps(s,o);return[React.createElement("title",a,e)]},generateTagsAsReactComponent=(i,e)=>e.map((s,o)=>{const a={key:o,[HELMET_ATTRIBUTE]:!0};return Object.keys(s).forEach(c=>{const d=REACT_TAG_MAP[c]||c;if(d==="innerHTML"||d==="cssText"){const g=s.innerHTML||s.cssText;a.dangerouslySetInnerHTML={__html:g}}else a[d]=s[c]}),React.createElement(i,a)}),getMethodsForTag=(i,e,s=!0)=>{switch(i){case"title":return{toComponent:()=>generateTitleAsReactComponent(i,e.title,e.titleAttributes),toString:()=>generateTitleAsString(i,e.title,e.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(e),toString:()=>generateElementAttributesAsString(e)};default:return{toComponent:()=>generateTagsAsReactComponent(i,e),toString:()=>generateTagsAsString(i,e,s)}}},getPriorityMethods=({metaTags:i,linkTags:e,scriptTags:s,encode:o})=>{const a=prioritizer(i,SEO_PRIORITY_TAGS.meta),c=prioritizer(e,SEO_PRIORITY_TAGS.link),h=prioritizer(s,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",a.priority),...generateTagsAsReactComponent("link",c.priority),...generateTagsAsReactComponent("script",h.priority)],toString:()=>`${getMethodsForTag("meta",a.priority,o)} ${getMethodsForTag("link",c.priority,o)} ${getMethodsForTag("script",h.priority,o)}`},metaTags:a.default,linkTags:c.default,scriptTags:h.default}},mapStateOnServer=i=>{const{baseTag:e,bodyAttributes:s,encode:o=!0,htmlAttributes:a,noscriptTags:c,styleTags:h,title:d="",titleAttributes:g,prioritizeSeoTags:_}=i;let{linkTags:$,metaTags:nt,scriptTags:et}=i,rt={toComponent:()=>{},toString:()=>""};return _&&({priorityMethods:rt,linkTags:$,metaTags:nt,scriptTags:et}=getPriorityMethods(i)),{priority:rt,base:getMethodsForTag("base",e,o),bodyAttributes:getMethodsForTag("bodyAttributes",s,o),htmlAttributes:getMethodsForTag("htmlAttributes",a,o),link:getMethodsForTag("link",$,o),meta:getMethodsForTag("meta",nt,o),noscript:getMethodsForTag("noscript",c,o),script:getMethodsForTag("script",et,o),style:getMethodsForTag("style",h,o),title:getMethodsForTag("title",{title:d,titleAttributes:g},o)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(i,e){Wn(this,"instances",[]);Wn(this,"canUseDOM",isDocument);Wn(this,"context");Wn(this,"value",{setHelmet:i=>{this.context.helmet=i},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:i=>{(this.canUseDOM?instances:this.instances).push(i)},remove:i=>{const e=(this.canUseDOM?instances:this.instances).indexOf(i);(this.canUseDOM?instances:this.instances).splice(e,1)}}});this.context=i,this.canUseDOM=e||!1,e||(i.helmet=server_default({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=React.createContext(defaultValue),ms,HelmetProvider=(ms=class extends reactExports.Component{constructor(s){super(s);Wn(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},ms.canUseDOM)}render(){return React.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},Wn(ms,"canUseDOM",isDocument),ms),updateTags=(i,e)=>{const s=document.head||document.querySelector("head"),o=s.querySelectorAll(`${i}[${HELMET_ATTRIBUTE}]`),a=[].slice.call(o),c=[];let h;return e&&e.length&&e.forEach(d=>{const g=document.createElement(i);for(const _ in d)if(Object.prototype.hasOwnProperty.call(d,_))if(_==="innerHTML")g.innerHTML=d.innerHTML;else if(_==="cssText")g.styleSheet?g.styleSheet.cssText=d.cssText:g.appendChild(document.createTextNode(d.cssText));else{const $=_,nt=typeof d[$]>"u"?"":d[$];g.setAttribute(_,nt)}g.setAttribute(HELMET_ATTRIBUTE,"true"),a.some((_,$)=>(h=$,g.isEqualNode(_)))?a.splice(h,1):c.push(g)}),a.forEach(d=>{var g;return(g=d.parentNode)==null?void 0:g.removeChild(d)}),c.forEach(d=>s.appendChild(d)),{oldTags:a,newTags:c}},updateAttributes=(i,e)=>{const s=document.getElementsByTagName(i)[0];if(!s)return;const o=s.getAttribute(HELMET_ATTRIBUTE),a=o?o.split(","):[],c=[...a],h=Object.keys(e);for(const d of h){const g=e[d]||"";s.getAttribute(d)!==g&&s.setAttribute(d,g),a.indexOf(d)===-1&&a.push(d);const _=c.indexOf(d);_!==-1&&c.splice(_,1)}for(let d=c.length-1;d>=0;d-=1)s.removeAttribute(c[d]);a.length===c.length?s.removeAttribute(HELMET_ATTRIBUTE):s.getAttribute(HELMET_ATTRIBUTE)!==h.join(",")&&s.setAttribute(HELMET_ATTRIBUTE,h.join(","))},updateTitle=(i,e)=>{typeof i<"u"&&document.title!==i&&(document.title=flattenArray(i)),updateAttributes("title",e)},commitTagChanges=(i,e)=>{const{baseTag:s,bodyAttributes:o,htmlAttributes:a,linkTags:c,metaTags:h,noscriptTags:d,onChangeClientState:g,scriptTags:_,styleTags:$,title:nt,titleAttributes:et}=i;updateAttributes("body",o),updateAttributes("html",a),updateTitle(nt,et);const rt={baseTag:updateTags("base",s),linkTags:updateTags("link",c),metaTags:updateTags("meta",h),noscriptTags:updateTags("noscript",d),scriptTags:updateTags("script",_),styleTags:updateTags("style",$)},lt={},ut={};Object.keys(rt).forEach(gt=>{const{newTags:at,oldTags:st}=rt[gt];at.length&&(lt[gt]=at),st.length&&(ut[gt]=rt[gt].oldTags)}),e&&e(),g(i,lt,ut)},_helmetCallback=null,handleStateChangeOnClient=i=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),i.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(i,()=>{_helmetCallback=null})}):(commitTagChanges(i),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);Wn(this,"rendered",!1)}shouldComponentUpdate(e){return!shallowEqual(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:s}=this.props.context;let o=null;const a=reducePropsToState(e.get().map(c=>{const h={...c.props};return delete h.context,h}));HelmetProvider.canUseDOM?client_default(a):server_default&&(o=server_default(a)),s(o)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},ko,Helmet=(ko=class extends reactExports.Component{shouldComponentUpdate(i){return!fastCompare(without(this.props,"helmetData"),without(i,"helmetData"))}mapNestedChildrenToProps(i,e){if(!e)return null;switch(i.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${i.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(i,e,s,o){return{...e,[i.type]:[...e[i.type]||[],{...s,...this.mapNestedChildrenToProps(i,o)}]}}mapObjectTypeChildren(i,e,s,o){switch(i.type){case"title":return{...e,[i.type]:o,titleAttributes:{...s}};case"body":return{...e,bodyAttributes:{...s}};case"html":return{...e,htmlAttributes:{...s}};default:return{...e,[i.type]:{...s}}}}mapArrayTypeChildrenToProps(i,e){let s={...e};return Object.keys(i).forEach(o=>{s={...s,[o]:i[o]}}),s}warnOnInvalidChildren(i,e){return invariant$1(VALID_TAG_NAMES.some(s=>i.type===s),typeof i.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${i.type}> elements. Refer to our API for more information.`),invariant$1(!e||typeof e=="string"||Array.isArray(e)&&!e.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${i.type}>. Did you forget to wrap your children in braces? ( <${i.type}>{\`\`}</${i.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(i,e){let s={};return React.Children.forEach(i,o=>{if(!o||!o.props)return;const{children:a,...c}=o.props,h=Object.keys(c).reduce((g,_)=>(g[HTML_TAG_MAP[_]||_]=c[_],g),{});let{type:d}=o;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(o,a),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(a,e);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(o,s,h,a);break;default:e=this.mapObjectTypeChildren(o,e,h,a);break}}),this.mapArrayTypeChildrenToProps(s,e)}render(){const{children:i,...e}=this.props;let s={...e},{helmetData:o}=e;if(i&&(s=this.mapChildrenToProps(i,s)),o&&!(o instanceof HelmetData)){const a=o;o=new HelmetData(a.context,!0),delete s.helmetData}return o?React.createElement(HelmetDispatcher,{...s,context:o.value}):React.createElement(Context.Consumer,null,a=>React.createElement(HelmetDispatcher,{...s,context:a}))}},Wn(ko,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),ko),lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(i,e){module.exports=e()}(commonjsGlobal$2,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(i){return document.createElement(i)}function extendPrototype(i,e){var s,o=i.length,a;for(s=0;s<o;s+=1){a=i[s].prototype;for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e.prototype[c]=a[c])}}function getDescriptor(i,e){return Object.getOwnPropertyDescriptor(i,e)}function createProxyFunction(i){function e(){}return e.prototype=i,e}var audioControllerFactory=function(){function i(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return i.prototype={addAudio:function(s){this.audios.push(s)},pause:function(){var s,o=this.audios.length;for(s=0;s<o;s+=1)this.audios[s].pause()},resume:function(){var s,o=this.audios.length;for(s=0;s<o;s+=1)this.audios[s].resume()},setRate:function(s){var o,a=this.audios.length;for(o=0;o<a;o+=1)this.audios[o].setRate(s)},createAudio:function(s){return this.audioFactory?this.audioFactory(s):window.Howl?new window.Howl({src:[s]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(s){this.audioFactory=s},setVolume:function(s){this._volume=s,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var s,o=this.audios.length;for(s=0;s<o;s+=1)this.audios[s].volume(this._volume*(this._isMuted?0:1))}},function(){return new i}}(),createTypedArray=function(){function i(s,o){var a=0,c=[],h;switch(s){case"int16":case"uint8c":h=1;break;default:h=1.1;break}for(a=0;a<o;a+=1)c.push(h);return c}function e(s,o){return s==="float32"?new Float32Array(o):s==="int16"?new Int16Array(o):s==="uint8c"?new Uint8ClampedArray(o):i(s,o)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:i}();function createSizedArray(i){return Array.apply(null,{length:i})}function _typeof$6(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(s){return typeof s}:_typeof$6=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$6(i)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var i=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,s=i.length;for(e=0;e<s;e+=1)BMMath[i[e]]=Math[i[e]]})(),BMMath.random=Math.random,BMMath.abs=function(i){var e=_typeof$6(i);if(e==="object"&&i.length){var s=createSizedArray(i.length),o,a=i.length;for(o=0;o<a;o+=1)s[o]=Math.abs(i[o]);return s}return Math.abs(i)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(i){i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.display="block",i.style.transformOrigin="0 0",i.style.webkitTransformOrigin="0 0",i.style.backfaceVisibility="visible",i.style.webkitBackfaceVisibility="visible",i.style.transformStyle="preserve-3d",i.style.webkitTransformStyle="preserve-3d",i.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(i,e,s,o){this.type=i,this.currentTime=e,this.totalTime=s,this.direction=o<0?-1:1}function BMCompleteEvent(i,e){this.type=i,this.direction=e<0?-1:1}function BMCompleteLoopEvent(i,e,s,o){this.type=i,this.currentLoop=s,this.totalLoops=e,this.direction=o<0?-1:1}function BMSegmentStartEvent(i,e,s){this.type=i,this.firstFrame=e,this.totalFrames=s}function BMDestroyEvent(i,e){this.type=i,this.target=e}function BMRenderFrameErrorEvent(i,e){this.type="renderFrameError",this.nativeError=i,this.currentTime=e}function BMConfigErrorEvent(i){this.type="configError",this.nativeError=i}var createElementID=function(){var i=0;return function(){return i+=1,idPrefix$1+"__lottie_element_"+i}}();function HSVtoRGB(i,e,s){var o,a,c,h,d,g,_,$;switch(h=Math.floor(i*6),d=i*6-h,g=s*(1-e),_=s*(1-d*e),$=s*(1-(1-d)*e),h%6){case 0:o=s,a=$,c=g;break;case 1:o=_,a=s,c=g;break;case 2:o=g,a=s,c=$;break;case 3:o=g,a=_,c=s;break;case 4:o=$,a=g,c=s;break;case 5:o=s,a=g,c=_;break}return[o,a,c]}function RGBtoHSV(i,e,s){var o=Math.max(i,e,s),a=Math.min(i,e,s),c=o-a,h,d=o===0?0:c/o,g=o/255;switch(o){case a:h=0;break;case i:h=e-s+c*(e<s?6:0),h/=6*c;break;case e:h=s-i+c*2,h/=6*c;break;case s:h=i-e+c*4,h/=6*c;break}return[h,d,g]}function addSaturationToRGB(i,e){var s=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return s[1]+=e,s[1]>1?s[1]=1:s[1]<=0&&(s[1]=0),HSVtoRGB(s[0],s[1],s[2])}function addBrightnessToRGB(i,e){var s=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return s[2]+=e,s[2]>1?s[2]=1:s[2]<0&&(s[2]=0),HSVtoRGB(s[0],s[1],s[2])}function addHueToRGB(i,e){var s=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return s[0]+=e/360,s[0]>1?s[0]-=1:s[0]<0&&(s[0]+=1),HSVtoRGB(s[0],s[1],s[2])}var rgbToHex=function(){var i=[],e,s;for(e=0;e<256;e+=1)s=e.toString(16),i[e]=s.length===1?"0"+s:s;return function(o,a,c){return o<0&&(o=0),a<0&&(a=0),c<0&&(c=0),"#"+i[o]+i[a]+i[c]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(i){return document.createElementNS(svgNS,i)}function _typeof$5(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(s){return typeof s}:_typeof$5=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$5(i)}var dataManager=function(){var i=1,e=[],s,o,a={onmessage:function(){},postMessage:function(rt){s({data:rt})}},c={postMessage:function(rt){a.onmessage({data:rt})}};function h(et){if(window.Worker&&window.Blob&&getWebWorker()){var rt=new Blob(["var _workerSelf = self; self.onmessage = ",et.toString()],{type:"text/javascript"}),lt=URL.createObjectURL(rt);return new Worker(lt)}return s=et,a}function d(){o||(o=h(function(rt){function lt(){function gt(Ut,Ct){var kt,dt,vt=Ut.length,Ft,Lt,Yt,Qt;for(dt=0;dt<vt;dt+=1)if(kt=Ut[dt],"ks"in kt&&!kt.completed){if(kt.completed=!0,kt.hasMask){var tr=kt.masksProperties;for(Lt=tr.length,Ft=0;Ft<Lt;Ft+=1)if(tr[Ft].pt.k.i)Pt(tr[Ft].pt.k);else for(Qt=tr[Ft].pt.k.length,Yt=0;Yt<Qt;Yt+=1)tr[Ft].pt.k[Yt].s&&Pt(tr[Ft].pt.k[Yt].s[0]),tr[Ft].pt.k[Yt].e&&Pt(tr[Ft].pt.k[Yt].e[0])}kt.ty===0?(kt.layers=ot(kt.refId,Ct),gt(kt.layers,Ct)):kt.ty===4?ct(kt.shapes):kt.ty===5&&wt(kt)}}function at(Ut,Ct){if(Ut){var kt=0,dt=Ut.length;for(kt=0;kt<dt;kt+=1)Ut[kt].t===1&&(Ut[kt].data.layers=ot(Ut[kt].data.refId,Ct),gt(Ut[kt].data.layers,Ct))}}function st(Ut,Ct){for(var kt=0,dt=Ct.length;kt<dt;){if(Ct[kt].id===Ut)return Ct[kt];kt+=1}return null}function ot(Ut,Ct){var kt=st(Ut,Ct);return kt?kt.layers.__used?JSON.parse(JSON.stringify(kt.layers)):(kt.layers.__used=!0,kt.layers):null}function ct(Ut){var Ct,kt=Ut.length,dt,vt;for(Ct=kt-1;Ct>=0;Ct-=1)if(Ut[Ct].ty==="sh")if(Ut[Ct].ks.k.i)Pt(Ut[Ct].ks.k);else for(vt=Ut[Ct].ks.k.length,dt=0;dt<vt;dt+=1)Ut[Ct].ks.k[dt].s&&Pt(Ut[Ct].ks.k[dt].s[0]),Ut[Ct].ks.k[dt].e&&Pt(Ut[Ct].ks.k[dt].e[0]);else Ut[Ct].ty==="gr"&&ct(Ut[Ct].it)}function Pt(Ut){var Ct,kt=Ut.i.length;for(Ct=0;Ct<kt;Ct+=1)Ut.i[Ct][0]+=Ut.v[Ct][0],Ut.i[Ct][1]+=Ut.v[Ct][1],Ut.o[Ct][0]+=Ut.v[Ct][0],Ut.o[Ct][1]+=Ut.v[Ct][1]}function At(Ut,Ct){var kt=Ct?Ct.split("."):[100,100,100];return Ut[0]>kt[0]?!0:kt[0]>Ut[0]?!1:Ut[1]>kt[1]?!0:kt[1]>Ut[1]?!1:Ut[2]>kt[2]?!0:kt[2]>Ut[2]?!1:null}var yt=function(){var Ut=[4,4,14];function Ct(dt){var vt=dt.t.d;dt.t.d={k:[{s:vt,t:0}]}}function kt(dt){var vt,Ft=dt.length;for(vt=0;vt<Ft;vt+=1)dt[vt].ty===5&&Ct(dt[vt])}return function(dt){if(At(Ut,dt.v)&&(kt(dt.layers),dt.assets)){var vt,Ft=dt.assets.length;for(vt=0;vt<Ft;vt+=1)dt.assets[vt].layers&&kt(dt.assets[vt].layers)}}}(),pt=function(){var Ut=[4,7,99];return function(Ct){if(Ct.chars&&!At(Ut,Ct.v)){var kt,dt=Ct.chars.length;for(kt=0;kt<dt;kt+=1){var vt=Ct.chars[kt];vt.data&&vt.data.shapes&&(ct(vt.data.shapes),vt.data.ip=0,vt.data.op=99999,vt.data.st=0,vt.data.sr=1,vt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Ct.chars[kt].t||(vt.data.shapes.push({ty:"no"}),vt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),_t=function(){var Ut=[5,7,15];function Ct(dt){var vt=dt.t.p;typeof vt.a=="number"&&(vt.a={a:0,k:vt.a}),typeof vt.p=="number"&&(vt.p={a:0,k:vt.p}),typeof vt.r=="number"&&(vt.r={a:0,k:vt.r})}function kt(dt){var vt,Ft=dt.length;for(vt=0;vt<Ft;vt+=1)dt[vt].ty===5&&Ct(dt[vt])}return function(dt){if(At(Ut,dt.v)&&(kt(dt.layers),dt.assets)){var vt,Ft=dt.assets.length;for(vt=0;vt<Ft;vt+=1)dt.assets[vt].layers&&kt(dt.assets[vt].layers)}}}(),St=function(){var Ut=[4,1,9];function Ct(dt){var vt,Ft=dt.length,Lt,Yt;for(vt=0;vt<Ft;vt+=1)if(dt[vt].ty==="gr")Ct(dt[vt].it);else if(dt[vt].ty==="fl"||dt[vt].ty==="st")if(dt[vt].c.k&&dt[vt].c.k[0].i)for(Yt=dt[vt].c.k.length,Lt=0;Lt<Yt;Lt+=1)dt[vt].c.k[Lt].s&&(dt[vt].c.k[Lt].s[0]/=255,dt[vt].c.k[Lt].s[1]/=255,dt[vt].c.k[Lt].s[2]/=255,dt[vt].c.k[Lt].s[3]/=255),dt[vt].c.k[Lt].e&&(dt[vt].c.k[Lt].e[0]/=255,dt[vt].c.k[Lt].e[1]/=255,dt[vt].c.k[Lt].e[2]/=255,dt[vt].c.k[Lt].e[3]/=255);else dt[vt].c.k[0]/=255,dt[vt].c.k[1]/=255,dt[vt].c.k[2]/=255,dt[vt].c.k[3]/=255}function kt(dt){var vt,Ft=dt.length;for(vt=0;vt<Ft;vt+=1)dt[vt].ty===4&&Ct(dt[vt].shapes)}return function(dt){if(At(Ut,dt.v)&&(kt(dt.layers),dt.assets)){var vt,Ft=dt.assets.length;for(vt=0;vt<Ft;vt+=1)dt.assets[vt].layers&&kt(dt.assets[vt].layers)}}}(),xt=function(){var Ut=[4,4,18];function Ct(dt){var vt,Ft=dt.length,Lt,Yt;for(vt=Ft-1;vt>=0;vt-=1)if(dt[vt].ty==="sh")if(dt[vt].ks.k.i)dt[vt].ks.k.c=dt[vt].closed;else for(Yt=dt[vt].ks.k.length,Lt=0;Lt<Yt;Lt+=1)dt[vt].ks.k[Lt].s&&(dt[vt].ks.k[Lt].s[0].c=dt[vt].closed),dt[vt].ks.k[Lt].e&&(dt[vt].ks.k[Lt].e[0].c=dt[vt].closed);else dt[vt].ty==="gr"&&Ct(dt[vt].it)}function kt(dt){var vt,Ft,Lt=dt.length,Yt,Qt,tr,Mt;for(Ft=0;Ft<Lt;Ft+=1){if(vt=dt[Ft],vt.hasMask){var mt=vt.masksProperties;for(Qt=mt.length,Yt=0;Yt<Qt;Yt+=1)if(mt[Yt].pt.k.i)mt[Yt].pt.k.c=mt[Yt].cl;else for(Mt=mt[Yt].pt.k.length,tr=0;tr<Mt;tr+=1)mt[Yt].pt.k[tr].s&&(mt[Yt].pt.k[tr].s[0].c=mt[Yt].cl),mt[Yt].pt.k[tr].e&&(mt[Yt].pt.k[tr].e[0].c=mt[Yt].cl)}vt.ty===4&&Ct(vt.shapes)}}return function(dt){if(At(Ut,dt.v)&&(kt(dt.layers),dt.assets)){var vt,Ft=dt.assets.length;for(vt=0;vt<Ft;vt+=1)dt.assets[vt].layers&&kt(dt.assets[vt].layers)}}}();function It(Ut){Ut.__complete||(St(Ut),yt(Ut),pt(Ut),_t(Ut),xt(Ut),gt(Ut.layers,Ut.assets),at(Ut.chars,Ut.assets),Ut.__complete=!0)}function wt(Ut){Ut.t.a.length===0&&"m"in Ut.t.p}var Wt={};return Wt.completeData=It,Wt.checkColors=St,Wt.checkChars=pt,Wt.checkPathProperties=_t,Wt.checkShapes=xt,Wt.completeLayers=gt,Wt}if(c.dataManager||(c.dataManager=lt()),c.assetLoader||(c.assetLoader=function(){function gt(st){var ot=st.getResponseHeader("content-type");return ot&&st.responseType==="json"&&ot.indexOf("json")!==-1||st.response&&_typeof$5(st.response)==="object"?st.response:st.response&&typeof st.response=="string"?JSON.parse(st.response):st.responseText?JSON.parse(st.responseText):null}function at(st,ot,ct,Pt){var At,yt=new XMLHttpRequest;try{yt.responseType="json"}catch{}yt.onreadystatechange=function(){if(yt.readyState===4)if(yt.status===200)At=gt(yt),ct(At);else try{At=gt(yt),ct(At)}catch(pt){Pt&&Pt(pt)}};try{yt.open(["G","E","T"].join(""),st,!0)}catch{yt.open(["G","E","T"].join(""),ot+"/"+st,!0)}yt.send()}return{load:at}}()),rt.data.type==="loadAnimation")c.assetLoader.load(rt.data.path,rt.data.fullPath,function(gt){c.dataManager.completeData(gt),c.postMessage({id:rt.data.id,payload:gt,status:"success"})},function(){c.postMessage({id:rt.data.id,status:"error"})});else if(rt.data.type==="complete"){var ut=rt.data.animation;c.dataManager.completeData(ut),c.postMessage({id:rt.data.id,payload:ut,status:"success"})}else rt.data.type==="loadData"&&c.assetLoader.load(rt.data.path,rt.data.fullPath,function(gt){c.postMessage({id:rt.data.id,payload:gt,status:"success"})},function(){c.postMessage({id:rt.data.id,status:"error"})})}),o.onmessage=function(et){var rt=et.data,lt=rt.id,ut=e[lt];e[lt]=null,rt.status==="success"?ut.onComplete(rt.payload):ut.onError&&ut.onError()})}function g(et,rt){i+=1;var lt="processId_"+i;return e[lt]={onComplete:et,onError:rt},lt}function _(et,rt,lt){d();var ut=g(rt,lt);o.postMessage({type:"loadAnimation",path:et,fullPath:window.location.origin+window.location.pathname,id:ut})}function $(et,rt,lt){d();var ut=g(rt,lt);o.postMessage({type:"loadData",path:et,fullPath:window.location.origin+window.location.pathname,id:ut})}function nt(et,rt,lt){d();var ut=g(rt,lt);o.postMessage({type:"complete",animation:et,id:ut})}return{loadAnimation:_,loadData:$,completeAnimation:nt}}(),ImagePreloader=function(){var i=function(){var at=createTag("canvas");at.width=1,at.height=1;var st=at.getContext("2d");return st.fillStyle="rgba(0,0,0,0)",st.fillRect(0,0,1,1),at}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(at,st,ot){var ct="";if(at.e)ct=at.p;else if(st){var Pt=at.p;Pt.indexOf("images/")!==-1&&(Pt=Pt.split("/")[1]),ct=st+Pt}else ct=ot,ct+=at.u?at.u:"",ct+=at.p;return ct}function a(at){var st=0,ot=setInterval((function(){var ct=at.getBBox();(ct.width||st>500)&&(this._imageLoaded(),clearInterval(ot)),st+=1}).bind(this),50)}function c(at){var st=o(at,this.assetsPath,this.path),ot=createNS("image");isSafari?this.testImageLoaded(ot):ot.addEventListener("load",this._imageLoaded,!1),ot.addEventListener("error",(function(){ct.img=i,this._imageLoaded()}).bind(this),!1),ot.setAttributeNS("http://www.w3.org/1999/xlink","href",st),this._elementHelper.append?this._elementHelper.append(ot):this._elementHelper.appendChild(ot);var ct={img:ot,assetData:at};return ct}function h(at){var st=o(at,this.assetsPath,this.path),ot=createTag("img");ot.crossOrigin="anonymous",ot.addEventListener("load",this._imageLoaded,!1),ot.addEventListener("error",(function(){ct.img=i,this._imageLoaded()}).bind(this),!1),ot.src=st;var ct={img:ot,assetData:at};return ct}function d(at){var st={assetData:at},ot=o(at,this.assetsPath,this.path);return dataManager.loadData(ot,(function(ct){st.img=ct,this._footageLoaded()}).bind(this),(function(){st.img={},this._footageLoaded()}).bind(this)),st}function g(at,st){this.imagesLoadedCb=st;var ot,ct=at.length;for(ot=0;ot<ct;ot+=1)at[ot].layers||(!at[ot].t||at[ot].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(at[ot]))):at[ot].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(at[ot]))))}function _(at){this.path=at||""}function $(at){this.assetsPath=at||""}function nt(at){for(var st=0,ot=this.images.length;st<ot;){if(this.images[st].assetData===at)return this.images[st].img;st+=1}return null}function et(){this.imagesLoadedCb=null,this.images.length=0}function rt(){return this.totalImages===this.loadedAssets}function lt(){return this.totalFootages===this.loadedFootagesCount}function ut(at,st){at==="svg"?(this._elementHelper=st,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function gt(){this._imageLoaded=e.bind(this),this._footageLoaded=s.bind(this),this.testImageLoaded=a.bind(this),this.createFootageData=d.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return gt.prototype={loadAssets:g,setAssetsPath:$,setPath:_,loadedImages:rt,loadedFootages:lt,destroy:et,getAsset:nt,createImgData:h,createImageData:c,imageLoaded:e,footageLoaded:s,setCacheType:ut},gt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,s){if(this._cbs[e])for(var o=this._cbs[e],a=0;a<o.length;a+=1)o[a](s)},addEventListener:function(e,s){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(s),(function(){this.removeEventListener(e,s)}).bind(this)},removeEventListener:function(e,s){if(!s)this._cbs[e]=null;else if(this._cbs[e]){for(var o=0,a=this._cbs[e].length;o<a;)this._cbs[e][o]===s&&(this._cbs[e].splice(o,1),o-=1,a-=1),o+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function i(e){for(var s=e.split(`\r
`),o={},a,c=0,h=0;h<s.length;h+=1)a=s[h].split(":"),a.length===2&&(o[a[0]]=a[1].trim(),c+=1);if(c===0)throw new Error;return o}return function(e){for(var s=[],o=0;o<e.length;o+=1){var a=e[o],c={time:a.tm,duration:a.dr};try{c.payload=JSON.parse(e[o].cm)}catch{try{c.payload=i(e[o].cm)}catch{c.payload={name:e[o].cm}}}s.push(c)}return s}}(),ProjectInterface=function(){function i(e){this.compositions.push(e)}return function(){function e(s){for(var o=0,a=this.compositions.length;o<a;){if(this.compositions[o].data&&this.compositions[o].data.nm===s)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=i,e}}(),renderers={},registerRenderer=function(e,s){renderers[e]=s};function getRenderer(i){return renderers[i]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var i in renderers)if(renderers[i])return i;return""}function _typeof$4(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(s){return typeof s}:_typeof$4=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$4(i)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(i){(i.wrapper||i.container)&&(this.wrapper=i.wrapper||i.container);var e="svg";i.animType?e=i.animType:i.renderer&&(e=i.renderer);var s=getRenderer(e);this.renderer=new s(this,i.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,i.loop===""||i.loop===null||i.loop===void 0||i.loop===!0?this.loop=!0:i.loop===!1?this.loop=!1:this.loop=parseInt(i.loop,10),this.autoplay="autoplay"in i?i.autoplay:!0,this.name=i.name?i.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(i,"autoloadSegments")?i.autoloadSegments:!0,this.assetsPath=i.assetsPath,this.initialSegment=i.initialSegment,i.audioFactory&&this.audioController.setAudioFactory(i.audioFactory),i.animationData?this.setupAnimation(i.animationData):i.path&&(i.path.lastIndexOf("\\")!==-1?this.path=i.path.substr(0,i.path.lastIndexOf("\\")+1):this.path=i.path.substr(0,i.path.lastIndexOf("/")+1),this.fileName=i.path.substr(i.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(i.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(i){dataManager.completeAnimation(i,this.configAnimation)},AnimationItem.prototype.setData=function(i,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var s={wrapper:i,animationData:e},o=i.attributes;s.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",s.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var a=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";a==="false"?s.loop=!1:a==="true"?s.loop=!0:a!==""&&(s.loop=parseInt(a,10));var c=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:o.getNamedItem("bm-autoplay")?o.getNamedItem("bm-autoplay").value:!0;s.autoplay=c!=="false",s.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"";var h=o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"";h==="false"&&(s.prerender=!1),s.path?this.setParams(s):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(i){i.op>this.animationData.op&&(this.animationData.op=i.op,this.totalFrames=Math.floor(i.op-this.animationData.ip));var e=this.animationData.layers,s,o=e.length,a=i.layers,c,h=a.length;for(c=0;c<h;c+=1)for(s=0;s<o;){if(e[s].id===a[c].id){e[s]=a[c];break}s+=1}if((i.chars||i.fonts)&&(this.renderer.globalData.fontManager.addChars(i.chars),this.renderer.globalData.fontManager.addFonts(i.fonts,this.renderer.globalData.defs)),i.assets)for(o=i.assets.length,s=0;s<o;s+=1)this.animationData.assets.push(i.assets[s]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(i){this.animationData=i;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var i=this.animationData.segments;if(!i||i.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=i.shift();this.timeCompleted=e.time*this.frameRate;var s=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(s,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var i=this.animationData.segments;i||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(i){if(this.renderer)try{this.animationData=i,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(i),i.assets||(i.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(i.assets),this.markers=markerParser(i.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(i,e){var s=typeof i=="number"?i:void 0,o=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(s,o)},AnimationItem.prototype.setSubframe=function(i){this.isSubframeEnabled=!!i},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(i){this.triggerRenderFrameError(i)}},AnimationItem.prototype.play=function(i){i&&this.name!==i||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(i){i&&this.name!==i||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(i){i&&this.name!==i||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(i){i&&this.name!==i||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(i){for(var e,s=0;s<this.markers.length;s+=1)if(e=this.markers[s],e.payload&&e.payload.name===i)return e;return null},AnimationItem.prototype.goToAndStop=function(i,e,s){if(!(s&&this.name!==s)){var o=Number(i);if(isNaN(o)){var a=this.getMarkerData(i);a&&this.goToAndStop(a.time,!0)}else e?this.setCurrentRawFrameValue(i):this.setCurrentRawFrameValue(i*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(i,e,s){if(!(s&&this.name!==s)){var o=Number(i);if(isNaN(o)){var a=this.getMarkerData(i);a&&(a.duration?this.playSegments([a.time,a.time+a.duration],!0):this.goToAndStop(a.time,!0))}else this.goToAndStop(o,e,s);this.play()}},AnimationItem.prototype.advanceTime=function(i){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+i*this.frameModifier,s=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(s=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(s=!0,e=0)):this.setCurrentRawFrameValue(e),s&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(i,e){this.playCount=0,i[1]<i[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=i[0]-i[1],this.timeCompleted=this.totalFrames,this.firstFrame=i[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):i[1]>i[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=i[1]-i[0],this.timeCompleted=this.totalFrames,this.firstFrame=i[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(i,e){var s=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<i?s=i:this.currentRawFrame+this.firstFrame>e&&(s=e-i)),this.firstFrame=i,this.totalFrames=e-i,this.timeCompleted=this.totalFrames,s!==-1&&this.goToAndStop(s,!0)},AnimationItem.prototype.playSegments=function(i,e){if(e&&(this.segments.length=0),_typeof$4(i[0])==="object"){var s,o=i.length;for(s=0;s<o;s+=1)this.segments.push(i[s])}else this.segments.push(i);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(i){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),i&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(i){return this.segments.length?(this.adjustSegment(this.segments.shift(),i),!0):!1},AnimationItem.prototype.destroy=function(i){i&&this.name!==i||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(i){this.currentRawFrame=i,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(i){this.playSpeed=i,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(i){this.playDirection=i<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(i){this.loop=i},AnimationItem.prototype.setVolume=function(i,e){e&&this.name!==e||this.audioController.setVolume(i)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(i){i&&this.name!==i||this.audioController.mute()},AnimationItem.prototype.unmute=function(i){i&&this.name!==i||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(i){var e="";if(i.e)e=i.p;else if(this.assetsPath){var s=i.p;s.indexOf("images/")!==-1&&(s=s.split("/")[1]),e=this.assetsPath+s}else e=this.path,e+=i.u?i.u:"",e+=i.p;return e},AnimationItem.prototype.getAssetData=function(i){for(var e=0,s=this.assets.length;e<s;){if(i===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(i){return i?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(i,e,s){try{var o=this.renderer.getElementByPath(i);o.updateDocumentData(e,s)}catch{}},AnimationItem.prototype.trigger=function(i){if(this._cbs&&this._cbs[i])switch(i){case"enterFrame":this.triggerEvent(i,new BMEnterFrameEvent(i,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(i,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(i,new BMCompleteLoopEvent(i,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(i,new BMCompleteEvent(i,this.frameMult));break;case"segmentStart":this.triggerEvent(i,new BMSegmentStartEvent(i,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(i,new BMDestroyEvent(i,this));break;default:this.triggerEvent(i)}i==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(i,this.currentFrame,this.totalFrames,this.frameMult)),i==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(i,this.loop,this.playCount,this.frameMult)),i==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(i,this.frameMult)),i==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(i,this.firstFrame,this.totalFrames)),i==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(i,this))},AnimationItem.prototype.triggerRenderFrameError=function(i){var e=new BMRenderFrameErrorEvent(i,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(i){var e=new BMConfigErrorEvent(i,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var i={},e=[],s=0,o=0,a=0,c=!0,h=!1;function d(Ct){for(var kt=0,dt=Ct.target;kt<o;)e[kt].animation===dt&&(e.splice(kt,1),kt-=1,o-=1,dt.isPaused||nt()),kt+=1}function g(Ct,kt){if(!Ct)return null;for(var dt=0;dt<o;){if(e[dt].elem===Ct&&e[dt].elem!==null)return e[dt].animation;dt+=1}var vt=new AnimationItem;return et(vt,Ct),vt.setData(Ct,kt),vt}function _(){var Ct,kt=e.length,dt=[];for(Ct=0;Ct<kt;Ct+=1)dt.push(e[Ct].animation);return dt}function $(){a+=1,St()}function nt(){a-=1}function et(Ct,kt){Ct.addEventListener("destroy",d),Ct.addEventListener("_active",$),Ct.addEventListener("_idle",nt),e.push({elem:kt,animation:Ct}),o+=1}function rt(Ct){var kt=new AnimationItem;return et(kt,null),kt.setParams(Ct),kt}function lt(Ct,kt){var dt;for(dt=0;dt<o;dt+=1)e[dt].animation.setSpeed(Ct,kt)}function ut(Ct,kt){var dt;for(dt=0;dt<o;dt+=1)e[dt].animation.setDirection(Ct,kt)}function gt(Ct){var kt;for(kt=0;kt<o;kt+=1)e[kt].animation.play(Ct)}function at(Ct){var kt=Ct-s,dt;for(dt=0;dt<o;dt+=1)e[dt].animation.advanceTime(kt);s=Ct,a&&!h?window.requestAnimationFrame(at):c=!0}function st(Ct){s=Ct,window.requestAnimationFrame(at)}function ot(Ct){var kt;for(kt=0;kt<o;kt+=1)e[kt].animation.pause(Ct)}function ct(Ct,kt,dt){var vt;for(vt=0;vt<o;vt+=1)e[vt].animation.goToAndStop(Ct,kt,dt)}function Pt(Ct){var kt;for(kt=0;kt<o;kt+=1)e[kt].animation.stop(Ct)}function At(Ct){var kt;for(kt=0;kt<o;kt+=1)e[kt].animation.togglePause(Ct)}function yt(Ct){var kt;for(kt=o-1;kt>=0;kt-=1)e[kt].animation.destroy(Ct)}function pt(Ct,kt,dt){var vt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Ft,Lt=vt.length;for(Ft=0;Ft<Lt;Ft+=1)dt&&vt[Ft].setAttribute("data-bm-type",dt),g(vt[Ft],Ct);if(kt&&Lt===0){dt||(dt="svg");var Yt=document.getElementsByTagName("body")[0];Yt.innerText="";var Qt=createTag("div");Qt.style.width="100%",Qt.style.height="100%",Qt.setAttribute("data-bm-type",dt),Yt.appendChild(Qt),g(Qt,Ct)}}function _t(){var Ct;for(Ct=0;Ct<o;Ct+=1)e[Ct].animation.resize()}function St(){!h&&a&&c&&(window.requestAnimationFrame(st),c=!1)}function xt(){h=!0}function It(){h=!1,St()}function wt(Ct,kt){var dt;for(dt=0;dt<o;dt+=1)e[dt].animation.setVolume(Ct,kt)}function Wt(Ct){var kt;for(kt=0;kt<o;kt+=1)e[kt].animation.mute(Ct)}function Ut(Ct){var kt;for(kt=0;kt<o;kt+=1)e[kt].animation.unmute(Ct)}return i.registerAnimation=g,i.loadAnimation=rt,i.setSpeed=lt,i.setDirection=ut,i.play=gt,i.pause=ot,i.stop=Pt,i.togglePause=At,i.searchAnimations=pt,i.resize=_t,i.goToAndStop=ct,i.destroy=yt,i.freeze=xt,i.unfreeze=It,i.setVolume=wt,i.mute=Wt,i.unmute=Ut,i.getRegisteredAnimations=_,i}(),BezierFactory=function(){var i={};i.getBezierEasing=s;var e={};function s(st,ot,ct,Pt,At){var yt=At||("bez_"+st+"_"+ot+"_"+ct+"_"+Pt).replace(/\./g,"p");if(e[yt])return e[yt];var pt=new at([st,ot,ct,Pt]);return e[yt]=pt,pt}var o=4,a=.001,c=1e-7,h=10,d=11,g=1/(d-1),_=typeof Float32Array=="function";function $(st,ot){return 1-3*ot+3*st}function nt(st,ot){return 3*ot-6*st}function et(st){return 3*st}function rt(st,ot,ct){return(($(ot,ct)*st+nt(ot,ct))*st+et(ot))*st}function lt(st,ot,ct){return 3*$(ot,ct)*st*st+2*nt(ot,ct)*st+et(ot)}function ut(st,ot,ct,Pt,At){var yt,pt,_t=0;do pt=ot+(ct-ot)/2,yt=rt(pt,Pt,At)-st,yt>0?ct=pt:ot=pt;while(Math.abs(yt)>c&&++_t<h);return pt}function gt(st,ot,ct,Pt){for(var At=0;At<o;++At){var yt=lt(ot,ct,Pt);if(yt===0)return ot;var pt=rt(ot,ct,Pt)-st;ot-=pt/yt}return ot}function at(st){this._p=st,this._mSampleValues=_?new Float32Array(d):new Array(d),this._precomputed=!1,this.get=this.get.bind(this)}return at.prototype={get:function(ot){var ct=this._p[0],Pt=this._p[1],At=this._p[2],yt=this._p[3];return this._precomputed||this._precompute(),ct===Pt&&At===yt?ot:ot===0?0:ot===1?1:rt(this._getTForX(ot),Pt,yt)},_precompute:function(){var ot=this._p[0],ct=this._p[1],Pt=this._p[2],At=this._p[3];this._precomputed=!0,(ot!==ct||Pt!==At)&&this._calcSampleValues()},_calcSampleValues:function(){for(var ot=this._p[0],ct=this._p[2],Pt=0;Pt<d;++Pt)this._mSampleValues[Pt]=rt(Pt*g,ot,ct)},_getTForX:function(ot){for(var ct=this._p[0],Pt=this._p[2],At=this._mSampleValues,yt=0,pt=1,_t=d-1;pt!==_t&&At[pt]<=ot;++pt)yt+=g;--pt;var St=(ot-At[pt])/(At[pt+1]-At[pt]),xt=yt+St*g,It=lt(xt,ct,Pt);return It>=a?gt(ot,xt,ct,Pt):It===0?xt:ut(ot,yt,yt+g,ct,Pt)}},i}(),pooling=function(){function i(e){return e.concat(createSizedArray(e.length))}return{double:i}}(),poolFactory=function(){return function(i,e,s){var o=0,a=i,c=createSizedArray(a),h={newElement:d,release:g};function d(){var _;return o?(o-=1,_=c[o]):_=e(),_}function g(_){o===a&&(c=pooling.double(c),a*=2),s&&s(_),c[o]=_,o+=1}return h}}(),bezierLengthPool=function(){function i(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,i)}(),segmentsLengthPool=function(){function i(){return{lengths:[],totalLength:0}}function e(s){var o,a=s.lengths.length;for(o=0;o<a;o+=1)bezierLengthPool.release(s.lengths[o]);s.lengths.length=0}return poolFactory(8,i,e)}();function bezFunction(){var i=Math;function e(et,rt,lt,ut,gt,at){var st=et*ut+rt*gt+lt*at-gt*ut-at*et-lt*rt;return st>-.001&&st<.001}function s(et,rt,lt,ut,gt,at,st,ot,ct){if(lt===0&&at===0&&ct===0)return e(et,rt,ut,gt,st,ot);var Pt=i.sqrt(i.pow(ut-et,2)+i.pow(gt-rt,2)+i.pow(at-lt,2)),At=i.sqrt(i.pow(st-et,2)+i.pow(ot-rt,2)+i.pow(ct-lt,2)),yt=i.sqrt(i.pow(st-ut,2)+i.pow(ot-gt,2)+i.pow(ct-at,2)),pt;return Pt>At?Pt>yt?pt=Pt-At-yt:pt=yt-At-Pt:yt>At?pt=yt-At-Pt:pt=At-Pt-yt,pt>-1e-4&&pt<1e-4}var o=function(){return function(et,rt,lt,ut){var gt=getDefaultCurveSegments(),at,st,ot,ct,Pt,At=0,yt,pt=[],_t=[],St=bezierLengthPool.newElement();for(ot=lt.length,at=0;at<gt;at+=1){for(Pt=at/(gt-1),yt=0,st=0;st<ot;st+=1)ct=bmPow(1-Pt,3)*et[st]+3*bmPow(1-Pt,2)*Pt*lt[st]+3*(1-Pt)*bmPow(Pt,2)*ut[st]+bmPow(Pt,3)*rt[st],pt[st]=ct,_t[st]!==null&&(yt+=bmPow(pt[st]-_t[st],2)),_t[st]=pt[st];yt&&(yt=bmSqrt(yt),At+=yt),St.percents[at]=Pt,St.lengths[at]=At}return St.addedLength=At,St}}();function a(et){var rt=segmentsLengthPool.newElement(),lt=et.c,ut=et.v,gt=et.o,at=et.i,st,ot=et._length,ct=rt.lengths,Pt=0;for(st=0;st<ot-1;st+=1)ct[st]=o(ut[st],ut[st+1],gt[st],at[st+1]),Pt+=ct[st].addedLength;return lt&&ot&&(ct[st]=o(ut[st],ut[0],gt[st],at[0]),Pt+=ct[st].addedLength),rt.totalLength=Pt,rt}function c(et){this.segmentLength=0,this.points=new Array(et)}function h(et,rt){this.partialLength=et,this.point=rt}var d=function(){var et={};return function(rt,lt,ut,gt){var at=(rt[0]+"_"+rt[1]+"_"+lt[0]+"_"+lt[1]+"_"+ut[0]+"_"+ut[1]+"_"+gt[0]+"_"+gt[1]).replace(/\./g,"p");if(!et[at]){var st=getDefaultCurveSegments(),ot,ct,Pt,At,yt,pt=0,_t,St,xt=null;rt.length===2&&(rt[0]!==lt[0]||rt[1]!==lt[1])&&e(rt[0],rt[1],lt[0],lt[1],rt[0]+ut[0],rt[1]+ut[1])&&e(rt[0],rt[1],lt[0],lt[1],lt[0]+gt[0],lt[1]+gt[1])&&(st=2);var It=new c(st);for(Pt=ut.length,ot=0;ot<st;ot+=1){for(St=createSizedArray(Pt),yt=ot/(st-1),_t=0,ct=0;ct<Pt;ct+=1)At=bmPow(1-yt,3)*rt[ct]+3*bmPow(1-yt,2)*yt*(rt[ct]+ut[ct])+3*(1-yt)*bmPow(yt,2)*(lt[ct]+gt[ct])+bmPow(yt,3)*lt[ct],St[ct]=At,xt!==null&&(_t+=bmPow(St[ct]-xt[ct],2));_t=bmSqrt(_t),pt+=_t,It.points[ot]=new h(_t,St),xt=St}It.segmentLength=pt,et[at]=It}return et[at]}}();function g(et,rt){var lt=rt.percents,ut=rt.lengths,gt=lt.length,at=bmFloor((gt-1)*et),st=et*rt.addedLength,ot=0;if(at===gt-1||at===0||st===ut[at])return lt[at];for(var ct=ut[at]>st?-1:1,Pt=!0;Pt;)if(ut[at]<=st&&ut[at+1]>st?(ot=(st-ut[at])/(ut[at+1]-ut[at]),Pt=!1):at+=ct,at<0||at>=gt-1){if(at===gt-1)return lt[at];Pt=!1}return lt[at]+(lt[at+1]-lt[at])*ot}function _(et,rt,lt,ut,gt,at){var st=g(gt,at),ot=1-st,ct=i.round((ot*ot*ot*et[0]+(st*ot*ot+ot*st*ot+ot*ot*st)*lt[0]+(st*st*ot+ot*st*st+st*ot*st)*ut[0]+st*st*st*rt[0])*1e3)/1e3,Pt=i.round((ot*ot*ot*et[1]+(st*ot*ot+ot*st*ot+ot*ot*st)*lt[1]+(st*st*ot+ot*st*st+st*ot*st)*ut[1]+st*st*st*rt[1])*1e3)/1e3;return[ct,Pt]}var $=createTypedArray("float32",8);function nt(et,rt,lt,ut,gt,at,st){gt<0?gt=0:gt>1&&(gt=1);var ot=g(gt,st);at=at>1?1:at;var ct=g(at,st),Pt,At=et.length,yt=1-ot,pt=1-ct,_t=yt*yt*yt,St=ot*yt*yt*3,xt=ot*ot*yt*3,It=ot*ot*ot,wt=yt*yt*pt,Wt=ot*yt*pt+yt*ot*pt+yt*yt*ct,Ut=ot*ot*pt+yt*ot*ct+ot*yt*ct,Ct=ot*ot*ct,kt=yt*pt*pt,dt=ot*pt*pt+yt*ct*pt+yt*pt*ct,vt=ot*ct*pt+yt*ct*ct+ot*pt*ct,Ft=ot*ct*ct,Lt=pt*pt*pt,Yt=ct*pt*pt+pt*ct*pt+pt*pt*ct,Qt=ct*ct*pt+pt*ct*ct+ct*pt*ct,tr=ct*ct*ct;for(Pt=0;Pt<At;Pt+=1)$[Pt*4]=i.round((_t*et[Pt]+St*lt[Pt]+xt*ut[Pt]+It*rt[Pt])*1e3)/1e3,$[Pt*4+1]=i.round((wt*et[Pt]+Wt*lt[Pt]+Ut*ut[Pt]+Ct*rt[Pt])*1e3)/1e3,$[Pt*4+2]=i.round((kt*et[Pt]+dt*lt[Pt]+vt*ut[Pt]+Ft*rt[Pt])*1e3)/1e3,$[Pt*4+3]=i.round((Lt*et[Pt]+Yt*lt[Pt]+Qt*ut[Pt]+tr*rt[Pt])*1e3)/1e3;return $}return{getSegmentsLength:a,getNewSegment:nt,getPointInSegment:_,buildBezierData:d,pointOnLine2D:e,pointOnLine3D:s}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(i,e){var s=this.offsetTime,o;this.propType==="multidimensional"&&(o=createTypedArray("float32",this.pv.length));for(var a=e.lastIndex,c=a,h=this.keyframes.length-1,d=!0,g,_,$;d;){if(g=this.keyframes[c],_=this.keyframes[c+1],c===h-1&&i>=_.t-s){g.h&&(g=_),a=0;break}if(_.t-s>i){a=c;break}c<h-1?c+=1:(a=0,d=!1)}$=this.keyframesMetadata[c]||{};var nt,et,rt,lt,ut,gt,at=_.t-s,st=g.t-s,ot;if(g.to){$.bezierData||($.bezierData=bez.buildBezierData(g.s,_.s||g.e,g.to,g.ti));var ct=$.bezierData;if(i>=at||i<st){var Pt=i>=at?ct.points.length-1:0;for(et=ct.points[Pt].point.length,nt=0;nt<et;nt+=1)o[nt]=ct.points[Pt].point[nt]}else{$.__fnct?gt=$.__fnct:(gt=BezierFactory.getBezierEasing(g.o.x,g.o.y,g.i.x,g.i.y,g.n).get,$.__fnct=gt),rt=gt((i-st)/(at-st));var At=ct.segmentLength*rt,yt,pt=e.lastFrame<i&&e._lastKeyframeIndex===c?e._lastAddedLength:0;for(ut=e.lastFrame<i&&e._lastKeyframeIndex===c?e._lastPoint:0,d=!0,lt=ct.points.length;d;){if(pt+=ct.points[ut].partialLength,At===0||rt===0||ut===ct.points.length-1){for(et=ct.points[ut].point.length,nt=0;nt<et;nt+=1)o[nt]=ct.points[ut].point[nt];break}else if(At>=pt&&At<pt+ct.points[ut+1].partialLength){for(yt=(At-pt)/ct.points[ut+1].partialLength,et=ct.points[ut].point.length,nt=0;nt<et;nt+=1)o[nt]=ct.points[ut].point[nt]+(ct.points[ut+1].point[nt]-ct.points[ut].point[nt])*yt;break}ut<lt-1?ut+=1:d=!1}e._lastPoint=ut,e._lastAddedLength=pt-ct.points[ut].partialLength,e._lastKeyframeIndex=c}}else{var _t,St,xt,It,wt;if(h=g.s.length,ot=_.s||g.e,this.sh&&g.h!==1)if(i>=at)o[0]=ot[0],o[1]=ot[1],o[2]=ot[2];else if(i<=st)o[0]=g.s[0],o[1]=g.s[1],o[2]=g.s[2];else{var Wt=createQuaternion(g.s),Ut=createQuaternion(ot),Ct=(i-st)/(at-st);quaternionToEuler(o,slerp(Wt,Ut,Ct))}else for(c=0;c<h;c+=1)g.h!==1&&(i>=at?rt=1:i<st?rt=0:(g.o.x.constructor===Array?($.__fnct||($.__fnct=[]),$.__fnct[c]?gt=$.__fnct[c]:(_t=g.o.x[c]===void 0?g.o.x[0]:g.o.x[c],St=g.o.y[c]===void 0?g.o.y[0]:g.o.y[c],xt=g.i.x[c]===void 0?g.i.x[0]:g.i.x[c],It=g.i.y[c]===void 0?g.i.y[0]:g.i.y[c],gt=BezierFactory.getBezierEasing(_t,St,xt,It).get,$.__fnct[c]=gt)):$.__fnct?gt=$.__fnct:(_t=g.o.x,St=g.o.y,xt=g.i.x,It=g.i.y,gt=BezierFactory.getBezierEasing(_t,St,xt,It).get,g.keyframeMetadata=gt),rt=gt((i-st)/(at-st)))),ot=_.s||g.e,wt=g.h===1?g.s[c]:g.s[c]+(ot[c]-g.s[c])*rt,this.propType==="multidimensional"?o[c]=wt:o=wt}return e.lastIndex=a,o}function slerp(i,e,s){var o=[],a=i[0],c=i[1],h=i[2],d=i[3],g=e[0],_=e[1],$=e[2],nt=e[3],et,rt,lt,ut,gt;return rt=a*g+c*_+h*$+d*nt,rt<0&&(rt=-rt,g=-g,_=-_,$=-$,nt=-nt),1-rt>1e-6?(et=Math.acos(rt),lt=Math.sin(et),ut=Math.sin((1-s)*et)/lt,gt=Math.sin(s*et)/lt):(ut=1-s,gt=s),o[0]=ut*a+gt*g,o[1]=ut*c+gt*_,o[2]=ut*h+gt*$,o[3]=ut*d+gt*nt,o}function quaternionToEuler(i,e){var s=e[0],o=e[1],a=e[2],c=e[3],h=Math.atan2(2*o*c-2*s*a,1-2*o*o-2*a*a),d=Math.asin(2*s*o+2*a*c),g=Math.atan2(2*s*c-2*o*a,1-2*s*s-2*a*a);i[0]=h/degToRads,i[1]=d/degToRads,i[2]=g/degToRads}function createQuaternion(i){var e=i[0]*degToRads,s=i[1]*degToRads,o=i[2]*degToRads,a=Math.cos(e/2),c=Math.cos(s/2),h=Math.cos(o/2),d=Math.sin(e/2),g=Math.sin(s/2),_=Math.sin(o/2),$=a*c*h-d*g*_,nt=d*g*h+a*c*_,et=d*c*h+a*g*_,rt=a*g*h-d*c*_;return[nt,et,rt,$]}function getValueAtCurrentTime(){var i=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(i===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=s&&i>=s||this._caching.lastFrame<e&&i<e))){this._caching.lastFrame>=i&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var o=this.interpolateValue(i,this._caching);this.pv=o}return this._caching.lastFrame=i,this.pv}function setVValue(i){var e;if(this.propType==="unidimensional")e=i*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var s=0,o=this.v.length;s<o;)e=i[s]*this.mult,mathAbs(this.v[s]-e)>1e-5&&(this.v[s]=e,this._mdf=!0),s+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var i,e=this.effectsSequence.length,s=this.kf?this.pv:this.data.k;for(i=0;i<e;i+=1)s=this.effectsSequence[i](s);this.setVValue(s),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(i){this.effectsSequence.push(i),this.container.addDynamicProperty(this)}function ValueProperty(i,e,s,o){this.propType="unidimensional",this.mult=s||1,this.data=e,this.v=s?e.k*s:e.k,this.pv=e.k,this._mdf=!1,this.elem=i,this.container=o,this.comp=i.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(i,e,s,o){this.propType="multidimensional",this.mult=s||1,this.data=e,this._mdf=!1,this.elem=i,this.container=o,this.comp=i.comp,this.k=!1,this.kf=!1,this.frameId=-1;var a,c=e.k.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),this.vel=createTypedArray("float32",c),a=0;a<c;a+=1)this.v[a]=e.k[a]*this.mult,this.pv[a]=e.k[a];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(i,e,s,o){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=i.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=s||1,this.elem=i,this.container=o,this.comp=i.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(i,e,s,o){this.propType="multidimensional";var a,c=e.k.length,h,d,g,_;for(a=0;a<c-1;a+=1)e.k[a].to&&e.k[a].s&&e.k[a+1]&&e.k[a+1].s&&(h=e.k[a].s,d=e.k[a+1].s,g=e.k[a].to,_=e.k[a].ti,(h.length===2&&!(h[0]===d[0]&&h[1]===d[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],h[0]+g[0],h[1]+g[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],d[0]+_[0],d[1]+_[1])||h.length===3&&!(h[0]===d[0]&&h[1]===d[1]&&h[2]===d[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],h[0]+g[0],h[1]+g[1],h[2]+g[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],d[0]+_[0],d[1]+_[1],d[2]+_[2]))&&(e.k[a].to=null,e.k[a].ti=null),h[0]===d[0]&&h[1]===d[1]&&g[0]===0&&g[1]===0&&_[0]===0&&_[1]===0&&(h.length===2||h[2]===d[2]&&g[2]===0&&_[2]===0)&&(e.k[a].to=null,e.k[a].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=i.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=s||1,this.elem=i,this.container=o,this.comp=i.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var $=e.k[0].s.length;for(this.v=createTypedArray("float32",$),this.pv=createTypedArray("float32",$),a=0;a<$;a+=1)this.v[a]=initFrame,this.pv[a]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",$)},this.addEffect=addEffect}var PropertyFactory=function(){function i(s,o,a,c,h){o.sid&&(o=s.globalData.slotManager.getProp(o));var d;if(!o.k.length)d=new ValueProperty(s,o,c,h);else if(typeof o.k[0]=="number")d=new MultiDimensionalProperty(s,o,c,h);else switch(a){case 0:d=new KeyframedValueProperty(s,o,c,h);break;case 1:d=new KeyframedMultidimensionalProperty(s,o,c,h);break}return d.effectsSequence.length&&h.addDynamicProperty(d),d}var e={getProp:i};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,s=this.dynamicProperties.length;for(e=0;e<s;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function i(){return createTypedArray("float32",2)}return poolFactory(8,i)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(i,e){this.c=i,this.setLength(e);for(var s=0;s<e;)this.v[s]=pointPool.newElement(),this.o[s]=pointPool.newElement(),this.i[s]=pointPool.newElement(),s+=1},ShapePath.prototype.setLength=function(i){for(;this._maxLength<i;)this.doubleArrayLength();this._length=i},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(i,e,s,o,a){var c;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),s){case"v":c=this.v;break;case"i":c=this.i;break;case"o":c=this.o;break;default:c=[];break}(!c[o]||c[o]&&!a)&&(c[o]=pointPool.newElement()),c[o][0]=i,c[o][1]=e},ShapePath.prototype.setTripleAt=function(i,e,s,o,a,c,h,d){this.setXYAt(i,e,"v",h,d),this.setXYAt(s,o,"o",h,d),this.setXYAt(a,c,"i",h,d)},ShapePath.prototype.reverse=function(){var i=new ShapePath;i.setPathData(this.c,this._length);var e=this.v,s=this.o,o=this.i,a=0;this.c&&(i.setTripleAt(e[0][0],e[0][1],o[0][0],o[0][1],s[0][0],s[0][1],0,!1),a=1);var c=this._length-1,h=this._length,d;for(d=a;d<h;d+=1)i.setTripleAt(e[c][0],e[c][1],o[c][0],o[c][1],s[c][0],s[c][1],d,!1),c-=1;return i},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function i(){return new ShapePath}function e(a){var c=a._length,h;for(h=0;h<c;h+=1)pointPool.release(a.v[h]),pointPool.release(a.i[h]),pointPool.release(a.o[h]),a.v[h]=null,a.i[h]=null,a.o[h]=null;a._length=0,a.c=!1}function s(a){var c=o.newElement(),h,d=a._length===void 0?a.v.length:a._length;for(c.setLength(d),c.c=a.c,h=0;h<d;h+=1)c.setTripleAt(a.v[h][0],a.v[h][1],a.o[h][0],a.o[h][1],a.i[h][0],a.i[h][1],h);return c}var o=poolFactory(4,i,e);return o.clone=s,o}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(i){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=i,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var i;for(i=0;i<this._length;i+=1)shapePool.release(this.shapes[i]);this._length=0};var shapeCollectionPool=function(){var i={newShapeCollection:a,release:c},e=0,s=4,o=createSizedArray(s);function a(){var h;return e?(e-=1,h=o[e]):h=new ShapeCollection,h}function c(h){var d,g=h._length;for(d=0;d<g;d+=1)shapePool.release(h.shapes[d]);h._length=0,e===s&&(o=pooling.double(o),s*=2),o[e]=h,e+=1}return i}(),ShapePropertyFactory=function(){var i=-999999;function e(at,st,ot){var ct=ot.lastIndex,Pt,At,yt,pt,_t,St,xt,It,wt,Wt=this.keyframes;if(at<Wt[0].t-this.offsetTime)Pt=Wt[0].s[0],yt=!0,ct=0;else if(at>=Wt[Wt.length-1].t-this.offsetTime)Pt=Wt[Wt.length-1].s?Wt[Wt.length-1].s[0]:Wt[Wt.length-2].e[0],yt=!0;else{for(var Ut=ct,Ct=Wt.length-1,kt=!0,dt,vt,Ft;kt&&(dt=Wt[Ut],vt=Wt[Ut+1],!(vt.t-this.offsetTime>at));)Ut<Ct-1?Ut+=1:kt=!1;if(Ft=this.keyframesMetadata[Ut]||{},yt=dt.h===1,ct=Ut,!yt){if(at>=vt.t-this.offsetTime)It=1;else if(at<dt.t-this.offsetTime)It=0;else{var Lt;Ft.__fnct?Lt=Ft.__fnct:(Lt=BezierFactory.getBezierEasing(dt.o.x,dt.o.y,dt.i.x,dt.i.y).get,Ft.__fnct=Lt),It=Lt((at-(dt.t-this.offsetTime))/(vt.t-this.offsetTime-(dt.t-this.offsetTime)))}At=vt.s?vt.s[0]:dt.e[0]}Pt=dt.s[0]}for(St=st._length,xt=Pt.i[0].length,ot.lastIndex=ct,pt=0;pt<St;pt+=1)for(_t=0;_t<xt;_t+=1)wt=yt?Pt.i[pt][_t]:Pt.i[pt][_t]+(At.i[pt][_t]-Pt.i[pt][_t])*It,st.i[pt][_t]=wt,wt=yt?Pt.o[pt][_t]:Pt.o[pt][_t]+(At.o[pt][_t]-Pt.o[pt][_t])*It,st.o[pt][_t]=wt,wt=yt?Pt.v[pt][_t]:Pt.v[pt][_t]+(At.v[pt][_t]-Pt.v[pt][_t])*It,st.v[pt][_t]=wt}function s(){var at=this.comp.renderedFrame-this.offsetTime,st=this.keyframes[0].t-this.offsetTime,ot=this.keyframes[this.keyframes.length-1].t-this.offsetTime,ct=this._caching.lastFrame;return ct!==i&&(ct<st&&at<st||ct>ot&&at>ot)||(this._caching.lastIndex=ct<at?this._caching.lastIndex:0,this.interpolateShape(at,this.pv,this._caching)),this._caching.lastFrame=at,this.pv}function o(){this.paths=this.localShapeCollection}function a(at,st){if(at._length!==st._length||at.c!==st.c)return!1;var ot,ct=at._length;for(ot=0;ot<ct;ot+=1)if(at.v[ot][0]!==st.v[ot][0]||at.v[ot][1]!==st.v[ot][1]||at.o[ot][0]!==st.o[ot][0]||at.o[ot][1]!==st.o[ot][1]||at.i[ot][0]!==st.i[ot][0]||at.i[ot][1]!==st.i[ot][1])return!1;return!0}function c(at){a(this.v,at)||(this.v=shapePool.clone(at),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function h(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var at;this.kf?at=this.pv:this.data.ks?at=this.data.ks.k:at=this.data.pt.k;var st,ot=this.effectsSequence.length;for(st=0;st<ot;st+=1)at=this.effectsSequence[st](at);this.setVValue(at),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function d(at,st,ot){this.propType="shape",this.comp=at.comp,this.container=at,this.elem=at,this.data=st,this.k=!1,this.kf=!1,this._mdf=!1;var ct=ot===3?st.pt.k:st.ks.k;this.v=shapePool.clone(ct),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function g(at){this.effectsSequence.push(at),this.container.addDynamicProperty(this)}d.prototype.interpolateShape=e,d.prototype.getValue=h,d.prototype.setVValue=c,d.prototype.addEffect=g;function _(at,st,ot){this.propType="shape",this.comp=at.comp,this.elem=at,this.container=at,this.offsetTime=at.data.st,this.keyframes=ot===3?st.pt.k:st.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var ct=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,ct),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=i,this.reset=o,this._caching={lastFrame:i,lastIndex:0},this.effectsSequence=[s.bind(this)]}_.prototype.getValue=h,_.prototype.interpolateShape=e,_.prototype.setVValue=c,_.prototype.addEffect=g;var $=function(){var at=roundCorner;function st(ot,ct){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=ct.d,this.elem=ot,this.comp=ot.comp,this.frameId=-1,this.initDynamicPropertyContainer(ot),this.p=PropertyFactory.getProp(ot,ct.p,1,0,this),this.s=PropertyFactory.getProp(ot,ct.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return st.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var ct=this.p.v[0],Pt=this.p.v[1],At=this.s.v[0]/2,yt=this.s.v[1]/2,pt=this.d!==3,_t=this.v;_t.v[0][0]=ct,_t.v[0][1]=Pt-yt,_t.v[1][0]=pt?ct+At:ct-At,_t.v[1][1]=Pt,_t.v[2][0]=ct,_t.v[2][1]=Pt+yt,_t.v[3][0]=pt?ct-At:ct+At,_t.v[3][1]=Pt,_t.i[0][0]=pt?ct-At*at:ct+At*at,_t.i[0][1]=Pt-yt,_t.i[1][0]=pt?ct+At:ct-At,_t.i[1][1]=Pt-yt*at,_t.i[2][0]=pt?ct+At*at:ct-At*at,_t.i[2][1]=Pt+yt,_t.i[3][0]=pt?ct-At:ct+At,_t.i[3][1]=Pt+yt*at,_t.o[0][0]=pt?ct+At*at:ct-At*at,_t.o[0][1]=Pt-yt,_t.o[1][0]=pt?ct+At:ct-At,_t.o[1][1]=Pt+yt*at,_t.o[2][0]=pt?ct-At*at:ct+At*at,_t.o[2][1]=Pt+yt,_t.o[3][0]=pt?ct-At:ct+At,_t.o[3][1]=Pt-yt*at}},extendPrototype([DynamicPropertyContainer],st),st}(),nt=function(){function at(st,ot){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=st,this.comp=st.comp,this.data=ot,this.frameId=-1,this.d=ot.d,this.initDynamicPropertyContainer(st),ot.sy===1?(this.ir=PropertyFactory.getProp(st,ot.ir,0,0,this),this.is=PropertyFactory.getProp(st,ot.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(st,ot.pt,0,0,this),this.p=PropertyFactory.getProp(st,ot.p,1,0,this),this.r=PropertyFactory.getProp(st,ot.r,0,degToRads,this),this.or=PropertyFactory.getProp(st,ot.or,0,0,this),this.os=PropertyFactory.getProp(st,ot.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return at.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ot=Math.floor(this.pt.v)*2,ct=Math.PI*2/ot,Pt=!0,At=this.or.v,yt=this.ir.v,pt=this.os.v,_t=this.is.v,St=2*Math.PI*At/(ot*2),xt=2*Math.PI*yt/(ot*2),It,wt,Wt,Ut,Ct=-Math.PI/2;Ct+=this.r.v;var kt=this.data.d===3?-1:1;for(this.v._length=0,It=0;It<ot;It+=1){wt=Pt?At:yt,Wt=Pt?pt:_t,Ut=Pt?St:xt;var dt=wt*Math.cos(Ct),vt=wt*Math.sin(Ct),Ft=dt===0&&vt===0?0:vt/Math.sqrt(dt*dt+vt*vt),Lt=dt===0&&vt===0?0:-dt/Math.sqrt(dt*dt+vt*vt);dt+=+this.p.v[0],vt+=+this.p.v[1],this.v.setTripleAt(dt,vt,dt-Ft*Ut*Wt*kt,vt-Lt*Ut*Wt*kt,dt+Ft*Ut*Wt*kt,vt+Lt*Ut*Wt*kt,It,!0),Pt=!Pt,Ct+=ct*kt}},convertPolygonToPath:function(){var ot=Math.floor(this.pt.v),ct=Math.PI*2/ot,Pt=this.or.v,At=this.os.v,yt=2*Math.PI*Pt/(ot*4),pt,_t=-Math.PI*.5,St=this.data.d===3?-1:1;for(_t+=this.r.v,this.v._length=0,pt=0;pt<ot;pt+=1){var xt=Pt*Math.cos(_t),It=Pt*Math.sin(_t),wt=xt===0&&It===0?0:It/Math.sqrt(xt*xt+It*It),Wt=xt===0&&It===0?0:-xt/Math.sqrt(xt*xt+It*It);xt+=+this.p.v[0],It+=+this.p.v[1],this.v.setTripleAt(xt,It,xt-wt*yt*At*St,It-Wt*yt*At*St,xt+wt*yt*At*St,It+Wt*yt*At*St,pt,!0),_t+=ct*St}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],at),at}(),et=function(){function at(st,ot){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=st,this.comp=st.comp,this.frameId=-1,this.d=ot.d,this.initDynamicPropertyContainer(st),this.p=PropertyFactory.getProp(st,ot.p,1,0,this),this.s=PropertyFactory.getProp(st,ot.s,1,0,this),this.r=PropertyFactory.getProp(st,ot.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return at.prototype={convertRectToPath:function(){var ot=this.p.v[0],ct=this.p.v[1],Pt=this.s.v[0]/2,At=this.s.v[1]/2,yt=bmMin(Pt,At,this.r.v),pt=yt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ot+Pt,ct-At+yt,ot+Pt,ct-At+yt,ot+Pt,ct-At+pt,0,!0),this.v.setTripleAt(ot+Pt,ct+At-yt,ot+Pt,ct+At-pt,ot+Pt,ct+At-yt,1,!0),yt!==0?(this.v.setTripleAt(ot+Pt-yt,ct+At,ot+Pt-yt,ct+At,ot+Pt-pt,ct+At,2,!0),this.v.setTripleAt(ot-Pt+yt,ct+At,ot-Pt+pt,ct+At,ot-Pt+yt,ct+At,3,!0),this.v.setTripleAt(ot-Pt,ct+At-yt,ot-Pt,ct+At-yt,ot-Pt,ct+At-pt,4,!0),this.v.setTripleAt(ot-Pt,ct-At+yt,ot-Pt,ct-At+pt,ot-Pt,ct-At+yt,5,!0),this.v.setTripleAt(ot-Pt+yt,ct-At,ot-Pt+yt,ct-At,ot-Pt+pt,ct-At,6,!0),this.v.setTripleAt(ot+Pt-yt,ct-At,ot+Pt-pt,ct-At,ot+Pt-yt,ct-At,7,!0)):(this.v.setTripleAt(ot-Pt,ct+At,ot-Pt+pt,ct+At,ot-Pt,ct+At,2),this.v.setTripleAt(ot-Pt,ct-At,ot-Pt,ct-At+pt,ot-Pt,ct-At,3))):(this.v.setTripleAt(ot+Pt,ct-At+yt,ot+Pt,ct-At+pt,ot+Pt,ct-At+yt,0,!0),yt!==0?(this.v.setTripleAt(ot+Pt-yt,ct-At,ot+Pt-yt,ct-At,ot+Pt-pt,ct-At,1,!0),this.v.setTripleAt(ot-Pt+yt,ct-At,ot-Pt+pt,ct-At,ot-Pt+yt,ct-At,2,!0),this.v.setTripleAt(ot-Pt,ct-At+yt,ot-Pt,ct-At+yt,ot-Pt,ct-At+pt,3,!0),this.v.setTripleAt(ot-Pt,ct+At-yt,ot-Pt,ct+At-pt,ot-Pt,ct+At-yt,4,!0),this.v.setTripleAt(ot-Pt+yt,ct+At,ot-Pt+yt,ct+At,ot-Pt+pt,ct+At,5,!0),this.v.setTripleAt(ot+Pt-yt,ct+At,ot+Pt-pt,ct+At,ot+Pt-yt,ct+At,6,!0),this.v.setTripleAt(ot+Pt,ct+At-yt,ot+Pt,ct+At-yt,ot+Pt,ct+At-pt,7,!0)):(this.v.setTripleAt(ot-Pt,ct-At,ot-Pt+pt,ct-At,ot-Pt,ct-At,1,!0),this.v.setTripleAt(ot-Pt,ct+At,ot-Pt,ct+At-pt,ot-Pt,ct+At,2,!0),this.v.setTripleAt(ot+Pt,ct+At,ot+Pt-pt,ct+At,ot+Pt,ct+At,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],at),at}();function rt(at,st,ot){var ct;if(ot===3||ot===4){var Pt=ot===3?st.pt:st.ks,At=Pt.k;At.length?ct=new _(at,st,ot):ct=new d(at,st,ot)}else ot===5?ct=new et(at,st):ot===6?ct=new $(at,st):ot===7&&(ct=new nt(at,st));return ct.k&&at.addDynamicProperty(ct),ct}function lt(){return d}function ut(){return _}var gt={};return gt.getShapeProp=rt,gt.getConstructorFunction=lt,gt.getKeyframedConstructorFunction=ut,gt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var i=Math.cos,e=Math.sin,s=Math.tan,o=Math.round;function a(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function c(dt){if(dt===0)return this;var vt=i(dt),Ft=e(dt);return this._t(vt,-Ft,0,0,Ft,vt,0,0,0,0,1,0,0,0,0,1)}function h(dt){if(dt===0)return this;var vt=i(dt),Ft=e(dt);return this._t(1,0,0,0,0,vt,-Ft,0,0,Ft,vt,0,0,0,0,1)}function d(dt){if(dt===0)return this;var vt=i(dt),Ft=e(dt);return this._t(vt,0,Ft,0,0,1,0,0,-Ft,0,vt,0,0,0,0,1)}function g(dt){if(dt===0)return this;var vt=i(dt),Ft=e(dt);return this._t(vt,-Ft,0,0,Ft,vt,0,0,0,0,1,0,0,0,0,1)}function _(dt,vt){return this._t(1,vt,dt,1,0,0)}function $(dt,vt){return this.shear(s(dt),s(vt))}function nt(dt,vt){var Ft=i(vt),Lt=e(vt);return this._t(Ft,Lt,0,0,-Lt,Ft,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,s(dt),1,0,0,0,0,1,0,0,0,0,1)._t(Ft,-Lt,0,0,Lt,Ft,0,0,0,0,1,0,0,0,0,1)}function et(dt,vt,Ft){return!Ft&&Ft!==0&&(Ft=1),dt===1&&vt===1&&Ft===1?this:this._t(dt,0,0,0,0,vt,0,0,0,0,Ft,0,0,0,0,1)}function rt(dt,vt,Ft,Lt,Yt,Qt,tr,Mt,mt,Rt,Ot,Gt,Kt,Xt,ar,hr){return this.props[0]=dt,this.props[1]=vt,this.props[2]=Ft,this.props[3]=Lt,this.props[4]=Yt,this.props[5]=Qt,this.props[6]=tr,this.props[7]=Mt,this.props[8]=mt,this.props[9]=Rt,this.props[10]=Ot,this.props[11]=Gt,this.props[12]=Kt,this.props[13]=Xt,this.props[14]=ar,this.props[15]=hr,this}function lt(dt,vt,Ft){return Ft=Ft||0,dt!==0||vt!==0||Ft!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,dt,vt,Ft,1):this}function ut(dt,vt,Ft,Lt,Yt,Qt,tr,Mt,mt,Rt,Ot,Gt,Kt,Xt,ar,hr){var Zt=this.props;if(dt===1&&vt===0&&Ft===0&&Lt===0&&Yt===0&&Qt===1&&tr===0&&Mt===0&&mt===0&&Rt===0&&Ot===1&&Gt===0)return Zt[12]=Zt[12]*dt+Zt[15]*Kt,Zt[13]=Zt[13]*Qt+Zt[15]*Xt,Zt[14]=Zt[14]*Ot+Zt[15]*ar,Zt[15]*=hr,this._identityCalculated=!1,this;var pr=Zt[0],br=Zt[1],Tr=Zt[2],Sr=Zt[3],zr=Zt[4],Or=Zt[5],Dr=Zt[6],Br=Zt[7],Pr=Zt[8],Er=Zt[9],kr=Zt[10],dr=Zt[11],vr=Zt[12],Vr=Zt[13],gn=Zt[14],An=Zt[15];return Zt[0]=pr*dt+br*Yt+Tr*mt+Sr*Kt,Zt[1]=pr*vt+br*Qt+Tr*Rt+Sr*Xt,Zt[2]=pr*Ft+br*tr+Tr*Ot+Sr*ar,Zt[3]=pr*Lt+br*Mt+Tr*Gt+Sr*hr,Zt[4]=zr*dt+Or*Yt+Dr*mt+Br*Kt,Zt[5]=zr*vt+Or*Qt+Dr*Rt+Br*Xt,Zt[6]=zr*Ft+Or*tr+Dr*Ot+Br*ar,Zt[7]=zr*Lt+Or*Mt+Dr*Gt+Br*hr,Zt[8]=Pr*dt+Er*Yt+kr*mt+dr*Kt,Zt[9]=Pr*vt+Er*Qt+kr*Rt+dr*Xt,Zt[10]=Pr*Ft+Er*tr+kr*Ot+dr*ar,Zt[11]=Pr*Lt+Er*Mt+kr*Gt+dr*hr,Zt[12]=vr*dt+Vr*Yt+gn*mt+An*Kt,Zt[13]=vr*vt+Vr*Qt+gn*Rt+An*Xt,Zt[14]=vr*Ft+Vr*tr+gn*Ot+An*ar,Zt[15]=vr*Lt+Vr*Mt+gn*Gt+An*hr,this._identityCalculated=!1,this}function gt(dt){var vt=dt.props;return this.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15])}function at(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function st(dt){for(var vt=0;vt<16;){if(dt.props[vt]!==this.props[vt])return!1;vt+=1}return!0}function ot(dt){var vt;for(vt=0;vt<16;vt+=1)dt.props[vt]=this.props[vt];return dt}function ct(dt){var vt;for(vt=0;vt<16;vt+=1)this.props[vt]=dt[vt]}function Pt(dt,vt,Ft){return{x:dt*this.props[0]+vt*this.props[4]+Ft*this.props[8]+this.props[12],y:dt*this.props[1]+vt*this.props[5]+Ft*this.props[9]+this.props[13],z:dt*this.props[2]+vt*this.props[6]+Ft*this.props[10]+this.props[14]}}function At(dt,vt,Ft){return dt*this.props[0]+vt*this.props[4]+Ft*this.props[8]+this.props[12]}function yt(dt,vt,Ft){return dt*this.props[1]+vt*this.props[5]+Ft*this.props[9]+this.props[13]}function pt(dt,vt,Ft){return dt*this.props[2]+vt*this.props[6]+Ft*this.props[10]+this.props[14]}function _t(){var dt=this.props[0]*this.props[5]-this.props[1]*this.props[4],vt=this.props[5]/dt,Ft=-this.props[1]/dt,Lt=-this.props[4]/dt,Yt=this.props[0]/dt,Qt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/dt,tr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/dt,Mt=new Matrix;return Mt.props[0]=vt,Mt.props[1]=Ft,Mt.props[4]=Lt,Mt.props[5]=Yt,Mt.props[12]=Qt,Mt.props[13]=tr,Mt}function St(dt){var vt=this.getInverseMatrix();return vt.applyToPointArray(dt[0],dt[1],dt[2]||0)}function xt(dt){var vt,Ft=dt.length,Lt=[];for(vt=0;vt<Ft;vt+=1)Lt[vt]=St(dt[vt]);return Lt}function It(dt,vt,Ft){var Lt=createTypedArray("float32",6);if(this.isIdentity())Lt[0]=dt[0],Lt[1]=dt[1],Lt[2]=vt[0],Lt[3]=vt[1],Lt[4]=Ft[0],Lt[5]=Ft[1];else{var Yt=this.props[0],Qt=this.props[1],tr=this.props[4],Mt=this.props[5],mt=this.props[12],Rt=this.props[13];Lt[0]=dt[0]*Yt+dt[1]*tr+mt,Lt[1]=dt[0]*Qt+dt[1]*Mt+Rt,Lt[2]=vt[0]*Yt+vt[1]*tr+mt,Lt[3]=vt[0]*Qt+vt[1]*Mt+Rt,Lt[4]=Ft[0]*Yt+Ft[1]*tr+mt,Lt[5]=Ft[0]*Qt+Ft[1]*Mt+Rt}return Lt}function wt(dt,vt,Ft){var Lt;return this.isIdentity()?Lt=[dt,vt,Ft]:Lt=[dt*this.props[0]+vt*this.props[4]+Ft*this.props[8]+this.props[12],dt*this.props[1]+vt*this.props[5]+Ft*this.props[9]+this.props[13],dt*this.props[2]+vt*this.props[6]+Ft*this.props[10]+this.props[14]],Lt}function Wt(dt,vt){if(this.isIdentity())return dt+","+vt;var Ft=this.props;return Math.round((dt*Ft[0]+vt*Ft[4]+Ft[12])*100)/100+","+Math.round((dt*Ft[1]+vt*Ft[5]+Ft[13])*100)/100}function Ut(){for(var dt=0,vt=this.props,Ft="matrix3d(",Lt=1e4;dt<16;)Ft+=o(vt[dt]*Lt)/Lt,Ft+=dt===15?")":",",dt+=1;return Ft}function Ct(dt){var vt=1e4;return dt<1e-6&&dt>0||dt>-1e-6&&dt<0?o(dt*vt)/vt:dt}function kt(){var dt=this.props,vt=Ct(dt[0]),Ft=Ct(dt[1]),Lt=Ct(dt[4]),Yt=Ct(dt[5]),Qt=Ct(dt[12]),tr=Ct(dt[13]);return"matrix("+vt+","+Ft+","+Lt+","+Yt+","+Qt+","+tr+")"}return function(){this.reset=a,this.rotate=c,this.rotateX=h,this.rotateY=d,this.rotateZ=g,this.skew=$,this.skewFromAxis=nt,this.shear=_,this.scale=et,this.setTransform=rt,this.translate=lt,this.transform=ut,this.multiply=gt,this.applyToPoint=Pt,this.applyToX=At,this.applyToY=yt,this.applyToZ=pt,this.applyToPointArray=wt,this.applyToTriplePoints=It,this.applyToPointStringified=Wt,this.toCSS=Ut,this.to2dCSS=kt,this.clone=ot,this.cloneFromProps=ct,this.equals=st,this.inversePoints=xt,this.inversePoint=St,this.getInverseMatrix=_t,this._t=this.transform,this.isIdentity=at,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(s){return typeof s}:_typeof$3=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$3(i)}var lottie={};function setLocation(i){setLocationHref(i)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(i){setSubframeEnabled(i)}function setPrefix(i){setIdPrefix(i)}function loadAnimation(i){return animationManager.loadAnimation(i)}function setQuality(i){if(typeof i=="string")switch(i){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(i)&&i>1&&setDefaultCurveSegments(i)}function inBrowser(){return typeof navigator<"u"}function installPlugin(i,e){i==="expressions"&&setExpressionsPlugin(e)}function getFactory(i){switch(i){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(i){for(var e=queryString.split("&"),s=0;s<e.length;s+=1){var o=e[s].split("=");if(decodeURIComponent(o[0])==i)return decodeURIComponent(o[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(i){}var ShapeModifiers=function(){var i={},e={};i.registerModifier=s,i.getModifier=o;function s(a,c){e[a]||(e[a]=c)}function o(a,c,h){return new e[a](c,h)}return i}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(i){if(!this.closed){i.sh.container.addDynamicProperty(i.sh);var e={shape:i.sh,data:i,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&i.setAsAnimated()}},ShapeModifier.prototype.init=function(i,e){this.shapes=[],this.elem=i,this.initDynamicPropertyContainer(i),this.initModifierProperties(i,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(i,e){this.s=PropertyFactory.getProp(i,e.s,0,.01,this),this.e=PropertyFactory.getProp(i,e.e,0,.01,this),this.o=PropertyFactory.getProp(i,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(i){i.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(i,e,s,o,a){var c=[];e<=1?c.push({s:i,e}):i>=1?c.push({s:i-1,e:e-1}):(c.push({s:i,e:1}),c.push({s:0,e:e-1}));var h=[],d,g=c.length,_;for(d=0;d<g;d+=1)if(_=c[d],!(_.e*a<o||_.s*a>o+s)){var $,nt;_.s*a<=o?$=0:$=(_.s*a-o)/s,_.e*a>=o+s?nt=1:nt=(_.e*a-o)/s,h.push([$,nt])}return h.length||h.push([0,0]),h},TrimModifier.prototype.releasePathsData=function(i){var e,s=i.length;for(e=0;e<s;e+=1)segmentsLengthPool.release(i[e]);return i.length=0,i},TrimModifier.prototype.processShapes=function(i){var e,s;if(this._mdf||i){var o=this.o.v%360/360;if(o<0&&(o+=1),this.s.v>1?e=1+o:this.s.v<0?e=0+o:e=this.s.v+o,this.e.v>1?s=1+o:this.e.v<0?s=0+o:s=this.e.v+o,e>s){var a=e;e=s,s=a}e=Math.round(e*1e4)*1e-4,s=Math.round(s*1e4)*1e-4,this.sValue=e,this.eValue=s}else e=this.sValue,s=this.eValue;var c,h,d=this.shapes.length,g,_,$,nt,et,rt=0;if(s===e)for(h=0;h<d;h+=1)this.shapes[h].localShapeCollection.releaseShapes(),this.shapes[h].shape._mdf=!0,this.shapes[h].shape.paths=this.shapes[h].localShapeCollection,this._mdf&&(this.shapes[h].pathsData.length=0);else if(s===1&&e===0||s===0&&e===1){if(this._mdf)for(h=0;h<d;h+=1)this.shapes[h].pathsData.length=0,this.shapes[h].shape._mdf=!0}else{var lt=[],ut,gt;for(h=0;h<d;h+=1)if(ut=this.shapes[h],!ut.shape._mdf&&!this._mdf&&!i&&this.m!==2)ut.shape.paths=ut.localShapeCollection;else{if(c=ut.shape.paths,_=c._length,et=0,!ut.shape._mdf&&ut.pathsData.length)et=ut.totalShapeLength;else{for($=this.releasePathsData(ut.pathsData),g=0;g<_;g+=1)nt=bez.getSegmentsLength(c.shapes[g]),$.push(nt),et+=nt.totalLength;ut.totalShapeLength=et,ut.pathsData=$}rt+=et,ut.shape._mdf=!0}var at=e,st=s,ot=0,ct;for(h=d-1;h>=0;h-=1)if(ut=this.shapes[h],ut.shape._mdf){for(gt=ut.localShapeCollection,gt.releaseShapes(),this.m===2&&d>1?(ct=this.calculateShapeEdges(e,s,ut.totalShapeLength,ot,rt),ot+=ut.totalShapeLength):ct=[[at,st]],_=ct.length,g=0;g<_;g+=1){at=ct[g][0],st=ct[g][1],lt.length=0,st<=1?lt.push({s:ut.totalShapeLength*at,e:ut.totalShapeLength*st}):at>=1?lt.push({s:ut.totalShapeLength*(at-1),e:ut.totalShapeLength*(st-1)}):(lt.push({s:ut.totalShapeLength*at,e:ut.totalShapeLength}),lt.push({s:0,e:ut.totalShapeLength*(st-1)}));var Pt=this.addShapes(ut,lt[0]);if(lt[0].s!==lt[0].e){if(lt.length>1){var At=ut.shape.paths.shapes[ut.shape.paths._length-1];if(At.c){var yt=Pt.pop();this.addPaths(Pt,gt),Pt=this.addShapes(ut,lt[1],yt)}else this.addPaths(Pt,gt),Pt=this.addShapes(ut,lt[1])}this.addPaths(Pt,gt)}}ut.shape.paths=gt}}},TrimModifier.prototype.addPaths=function(i,e){var s,o=i.length;for(s=0;s<o;s+=1)e.addShape(i[s])},TrimModifier.prototype.addSegment=function(i,e,s,o,a,c,h){a.setXYAt(e[0],e[1],"o",c),a.setXYAt(s[0],s[1],"i",c+1),h&&a.setXYAt(i[0],i[1],"v",c),a.setXYAt(o[0],o[1],"v",c+1)},TrimModifier.prototype.addSegmentFromArray=function(i,e,s,o){e.setXYAt(i[1],i[5],"o",s),e.setXYAt(i[2],i[6],"i",s+1),o&&e.setXYAt(i[0],i[4],"v",s),e.setXYAt(i[3],i[7],"v",s+1)},TrimModifier.prototype.addShapes=function(i,e,s){var o=i.pathsData,a=i.shape.paths.shapes,c,h=i.shape.paths._length,d,g,_=0,$,nt,et,rt,lt=[],ut,gt=!0;for(s?(nt=s._length,ut=s._length):(s=shapePool.newElement(),nt=0,ut=0),lt.push(s),c=0;c<h;c+=1){for(et=o[c].lengths,s.c=a[c].c,g=a[c].c?et.length:et.length+1,d=1;d<g;d+=1)if($=et[d-1],_+$.addedLength<e.s)_+=$.addedLength,s.c=!1;else if(_>e.e){s.c=!1;break}else e.s<=_&&e.e>=_+$.addedLength?(this.addSegment(a[c].v[d-1],a[c].o[d-1],a[c].i[d],a[c].v[d],s,nt,gt),gt=!1):(rt=bez.getNewSegment(a[c].v[d-1],a[c].v[d],a[c].o[d-1],a[c].i[d],(e.s-_)/$.addedLength,(e.e-_)/$.addedLength,et[d-1]),this.addSegmentFromArray(rt,s,nt,gt),gt=!1,s.c=!1),_+=$.addedLength,nt+=1;if(a[c].c&&et.length){if($=et[d-1],_<=e.e){var at=et[d-1].addedLength;e.s<=_&&e.e>=_+at?(this.addSegment(a[c].v[d-1],a[c].o[d-1],a[c].i[0],a[c].v[0],s,nt,gt),gt=!1):(rt=bez.getNewSegment(a[c].v[d-1],a[c].v[0],a[c].o[d-1],a[c].i[0],(e.s-_)/at,(e.e-_)/at,et[d-1]),this.addSegmentFromArray(rt,s,nt,gt),gt=!1,s.c=!1)}else s.c=!1;_+=$.addedLength,nt+=1}if(s._length&&(s.setXYAt(s.v[ut][0],s.v[ut][1],"i",ut),s.setXYAt(s.v[s._length-1][0],s.v[s._length-1][1],"o",s._length-1)),_>e.e)break;c<h-1&&(s=shapePool.newElement(),gt=!0,lt.push(s),nt=0)}return lt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(i,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(i,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(i,e){var s=e/100,o=[0,0],a=i._length,c=0;for(c=0;c<a;c+=1)o[0]+=i.v[c][0],o[1]+=i.v[c][1];o[0]/=a,o[1]/=a;var h=shapePool.newElement();h.c=i.c;var d,g,_,$,nt,et;for(c=0;c<a;c+=1)d=i.v[c][0]+(o[0]-i.v[c][0])*s,g=i.v[c][1]+(o[1]-i.v[c][1])*s,_=i.o[c][0]+(o[0]-i.o[c][0])*-s,$=i.o[c][1]+(o[1]-i.o[c][1])*-s,nt=i.i[c][0]+(o[0]-i.i[c][0])*-s,et=i.i[c][1]+(o[1]-i.i[c][1])*-s,h.setTripleAt(d,g,_,$,nt,et,c);return h},PuckerAndBloatModifier.prototype.processShapes=function(i){var e,s,o=this.shapes.length,a,c,h=this.amount.v;if(h!==0){var d,g;for(s=0;s<o;s+=1){if(d=this.shapes[s],g=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!i))for(g.releaseShapes(),d.shape._mdf=!0,e=d.shape.paths.shapes,c=d.shape.paths._length,a=0;a<c;a+=1)g.addShape(this.processPath(e[a],h));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var i=[0,0];function e(g){var _=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||_,this.a&&g.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&g.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&g.skewFromAxis(-this.sk.v,this.sa.v),this.r?g.rotate(-this.r.v):g.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?g.translate(this.px.v,this.py.v,-this.pz.v):g.translate(this.px.v,this.py.v,0):g.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function s(g){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||g){var _;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var $,nt;if(_=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?($=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/_,0),nt=this.p.getValueAtTime(this.p.keyframes[0].t/_,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?($=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/_,0),nt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/_,0)):($=this.p.pv,nt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/_,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){$=[],nt=[];var et=this.px,rt=this.py;et._caching.lastFrame+et.offsetTime<=et.keyframes[0].t?($[0]=et.getValueAtTime((et.keyframes[0].t+.01)/_,0),$[1]=rt.getValueAtTime((rt.keyframes[0].t+.01)/_,0),nt[0]=et.getValueAtTime(et.keyframes[0].t/_,0),nt[1]=rt.getValueAtTime(rt.keyframes[0].t/_,0)):et._caching.lastFrame+et.offsetTime>=et.keyframes[et.keyframes.length-1].t?($[0]=et.getValueAtTime(et.keyframes[et.keyframes.length-1].t/_,0),$[1]=rt.getValueAtTime(rt.keyframes[rt.keyframes.length-1].t/_,0),nt[0]=et.getValueAtTime((et.keyframes[et.keyframes.length-1].t-.01)/_,0),nt[1]=rt.getValueAtTime((rt.keyframes[rt.keyframes.length-1].t-.01)/_,0)):($=[et.pv,rt.pv],nt[0]=et.getValueAtTime((et._caching.lastFrame+et.offsetTime-.01)/_,et.offsetTime),nt[1]=rt.getValueAtTime((rt._caching.lastFrame+rt.offsetTime-.01)/_,rt.offsetTime))}else nt=i,$=nt;this.v.rotate(-Math.atan2($[1]-nt[1],$[0]-nt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function o(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function a(){}function c(g){this._addDynamicProperty(g),this.elem.addDynamicProperty(g),this._isDirty=!0}function h(g,_,$){if(this.elem=g,this.frameId=-1,this.propType="transform",this.data=_,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer($||g),_.p&&_.p.s?(this.px=PropertyFactory.getProp(g,_.p.x,0,0,this),this.py=PropertyFactory.getProp(g,_.p.y,0,0,this),_.p.z&&(this.pz=PropertyFactory.getProp(g,_.p.z,0,0,this))):this.p=PropertyFactory.getProp(g,_.p||{k:[0,0,0]},1,0,this),_.rx){if(this.rx=PropertyFactory.getProp(g,_.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(g,_.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(g,_.rz,0,degToRads,this),_.or.k[0].ti){var nt,et=_.or.k.length;for(nt=0;nt<et;nt+=1)_.or.k[nt].to=null,_.or.k[nt].ti=null}this.or=PropertyFactory.getProp(g,_.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(g,_.r||{k:0},0,degToRads,this);_.sk&&(this.sk=PropertyFactory.getProp(g,_.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(g,_.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(g,_.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(g,_.s||{k:[100,100,100]},1,.01,this),_.o?this.o=PropertyFactory.getProp(g,_.o,0,.01,g):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}h.prototype={applyToMatrix:e,getValue:s,precalculateMatrix:o,autoOrient:a},extendPrototype([DynamicPropertyContainer],h),h.prototype.addDynamicProperty=c,h.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function d(g,_,$){return new h(g,_,$)}return{getTransformProperty:d}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(i,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(i,e.c,0,null,this),this.o=PropertyFactory.getProp(i,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(i,e.tr,this),this.so=PropertyFactory.getProp(i,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(i,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(i,e,s,o,a,c){var h=c?-1:1,d=o.s.v[0]+(1-o.s.v[0])*(1-a),g=o.s.v[1]+(1-o.s.v[1])*(1-a);i.translate(o.p.v[0]*h*a,o.p.v[1]*h*a,o.p.v[2]),e.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),e.rotate(-o.r.v*h*a),e.translate(o.a.v[0],o.a.v[1],o.a.v[2]),s.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),s.scale(c?1/d:d,c?1/g:g),s.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(i,e,s,o){for(this.elem=i,this.arr=e,this.pos=s,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(i),this.initModifierProperties(i,e[s]);s>0;)s-=1,this._elements.unshift(e[s]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(i){var e,s=i.length;for(e=0;e<s;e+=1)i[e]._processed=!1,i[e].ty==="gr"&&this.resetElements(i[e].it)},RepeaterModifier.prototype.cloneElements=function(i){var e=JSON.parse(JSON.stringify(i));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(i,e){var s,o=i.length;for(s=0;s<o;s+=1)i[s]._render=e,i[s].ty==="gr"&&this.changeGroupRender(i[s].it,e)},RepeaterModifier.prototype.processShapes=function(i){var e,s,o,a,c,h=!1;if(this._mdf||i){var d=Math.ceil(this.c.v);if(this._groups.length<d){for(;this._groups.length<d;){var g={it:this.cloneElements(this._elements),ty:"gr"};g.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,g),this._groups.splice(0,0,g),this._currentCopies+=1}this.elem.reloadShapes(),h=!0}c=0;var _;for(o=0;o<=this._groups.length-1;o+=1){if(_=c<d,this._groups[o]._render=_,this.changeGroupRender(this._groups[o].it,_),!_){var $=this.elemsData[o].it,nt=$[$.length-1];nt.transform.op.v!==0?(nt.transform.op._mdf=!0,nt.transform.op.v=0):nt.transform.op._mdf=!1}c+=1}this._currentCopies=d;var et=this.o.v,rt=et%1,lt=et>0?Math.floor(et):Math.ceil(et),ut=this.pMatrix.props,gt=this.rMatrix.props,at=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var st=0;if(et>0){for(;st<lt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),st+=1;rt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,rt,!1),st+=rt)}else if(et<0){for(;st>lt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),st-=1;rt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-rt,!0),st-=rt)}o=this.data.m===1?0:this._currentCopies-1,a=this.data.m===1?1:-1,c=this._currentCopies;for(var ot,ct;c;){if(e=this.elemsData[o].it,s=e[e.length-1].transform.mProps.v.props,ct=s.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),st!==0){for((o!==0&&a===1||o!==this._currentCopies-1&&a===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),this.matrix.transform(at[0],at[1],at[2],at[3],at[4],at[5],at[6],at[7],at[8],at[9],at[10],at[11],at[12],at[13],at[14],at[15]),this.matrix.transform(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5],ut[6],ut[7],ut[8],ut[9],ut[10],ut[11],ut[12],ut[13],ut[14],ut[15]),ot=0;ot<ct;ot+=1)s[ot]=this.matrix.props[ot];this.matrix.reset()}else for(this.matrix.reset(),ot=0;ot<ct;ot+=1)s[ot]=this.matrix.props[ot];st+=1,c-=1,o+=a}}else for(c=this._currentCopies,o=0,a=1;c;)e=this.elemsData[o].it,s=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,c-=1,o+=a;return h},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(i,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(i,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(i,e){var s=shapePool.newElement();s.c=i.c;var o,a=i._length,c,h,d,g,_,$,nt=0,et,rt,lt,ut,gt,at;for(o=0;o<a;o+=1)c=i.v[o],d=i.o[o],h=i.i[o],c[0]===d[0]&&c[1]===d[1]&&c[0]===h[0]&&c[1]===h[1]?(o===0||o===a-1)&&!i.c?(s.setTripleAt(c[0],c[1],d[0],d[1],h[0],h[1],nt),nt+=1):(o===0?g=i.v[a-1]:g=i.v[o-1],_=Math.sqrt(Math.pow(c[0]-g[0],2)+Math.pow(c[1]-g[1],2)),$=_?Math.min(_/2,e)/_:0,gt=c[0]+(g[0]-c[0])*$,et=gt,at=c[1]-(c[1]-g[1])*$,rt=at,lt=et-(et-c[0])*roundCorner,ut=rt-(rt-c[1])*roundCorner,s.setTripleAt(et,rt,lt,ut,gt,at,nt),nt+=1,o===a-1?g=i.v[0]:g=i.v[o+1],_=Math.sqrt(Math.pow(c[0]-g[0],2)+Math.pow(c[1]-g[1],2)),$=_?Math.min(_/2,e)/_:0,lt=c[0]+(g[0]-c[0])*$,et=lt,ut=c[1]+(g[1]-c[1])*$,rt=ut,gt=et-(et-c[0])*roundCorner,at=rt-(rt-c[1])*roundCorner,s.setTripleAt(et,rt,lt,ut,gt,at,nt),nt+=1):(s.setTripleAt(i.v[o][0],i.v[o][1],i.o[o][0],i.o[o][1],i.i[o][0],i.i[o][1],nt),nt+=1);return s},RoundCornersModifier.prototype.processShapes=function(i){var e,s,o=this.shapes.length,a,c,h=this.rd.v;if(h!==0){var d,g;for(s=0;s<o;s+=1){if(d=this.shapes[s],g=d.localShapeCollection,!(!d.shape._mdf&&!this._mdf&&!i))for(g.releaseShapes(),d.shape._mdf=!0,e=d.shape.paths.shapes,c=d.shape.paths._length,a=0;a<c;a+=1)g.addShape(this.processPath(e[a],h));d.shape.paths=d.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(i,e){return Math.abs(i-e)*1e5<=Math.min(Math.abs(i),Math.abs(e))}function floatZero(i){return Math.abs(i)<=1e-5}function lerp(i,e,s){return i*(1-s)+e*s}function lerpPoint(i,e,s){return[lerp(i[0],e[0],s),lerp(i[1],e[1],s)]}function quadRoots(i,e,s){if(i===0)return[];var o=e*e-4*i*s;if(o<0)return[];var a=-e/(2*i);if(o===0)return[a];var c=Math.sqrt(o)/(2*i);return[a-c,a+c]}function polynomialCoefficients(i,e,s,o){return[-i+3*e-3*s+o,3*i-6*e+3*s,-3*i+3*e,i]}function singlePoint(i){return new PolynomialBezier(i,i,i,i,!1)}function PolynomialBezier(i,e,s,o,a){a&&pointEqual(i,e)&&(e=lerpPoint(i,o,1/3)),a&&pointEqual(s,o)&&(s=lerpPoint(i,o,2/3));var c=polynomialCoefficients(i[0],e[0],s[0],o[0]),h=polynomialCoefficients(i[1],e[1],s[1],o[1]);this.a=[c[0],h[0]],this.b=[c[1],h[1]],this.c=[c[2],h[2]],this.d=[c[3],h[3]],this.points=[i,e,s,o]}PolynomialBezier.prototype.point=function(i){return[((this.a[0]*i+this.b[0])*i+this.c[0])*i+this.d[0],((this.a[1]*i+this.b[1])*i+this.c[1])*i+this.d[1]]},PolynomialBezier.prototype.derivative=function(i){return[(3*i*this.a[0]+2*this.b[0])*i+this.c[0],(3*i*this.a[1]+2*this.b[1])*i+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(i){var e=this.derivative(i);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(i){var e=this.derivative(i);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var i=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(i))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/i,s=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/i;if(s<0)return[];var o=Math.sqrt(s);return floatZero(o)?o>0&&o<1?[e]:[]:[e-o,e+o].filter(function(a){return a>0&&a<1})},PolynomialBezier.prototype.split=function(i){if(i<=0)return[singlePoint(this.points[0]),this];if(i>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],i),s=lerpPoint(this.points[1],this.points[2],i),o=lerpPoint(this.points[2],this.points[3],i),a=lerpPoint(e,s,i),c=lerpPoint(s,o,i),h=lerpPoint(a,c,i);return[new PolynomialBezier(this.points[0],e,a,h,!0),new PolynomialBezier(h,c,o,this.points[3],!0)]};function extrema(i,e){var s=i.points[0][e],o=i.points[i.points.length-1][e];if(s>o){var a=o;o=s,s=a}for(var c=quadRoots(3*i.a[e],2*i.b[e],i.c[e]),h=0;h<c.length;h+=1)if(c[h]>0&&c[h]<1){var d=i.point(c[h])[e];d<s?s=d:d>o&&(o=d)}return{min:s,max:o}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var i=this.bounds();return{left:i.x.min,right:i.x.max,top:i.y.min,bottom:i.y.max,width:i.x.max-i.x.min,height:i.y.max-i.y.min,cx:(i.x.max+i.x.min)/2,cy:(i.y.max+i.y.min)/2}};function intersectData(i,e,s){var o=i.boundingBox();return{cx:o.cx,cy:o.cy,width:o.width,height:o.height,bez:i,t:(e+s)/2,t1:e,t2:s}}function splitData(i){var e=i.bez.split(.5);return[intersectData(e[0],i.t1,i.t),intersectData(e[1],i.t,i.t2)]}function boxIntersect(i,e){return Math.abs(i.cx-e.cx)*2<i.width+e.width&&Math.abs(i.cy-e.cy)*2<i.height+e.height}function intersectsImpl(i,e,s,o,a,c){if(boxIntersect(i,e)){if(s>=c||i.width<=o&&i.height<=o&&e.width<=o&&e.height<=o){a.push([i.t,e.t]);return}var h=splitData(i),d=splitData(e);intersectsImpl(h[0],d[0],s+1,o,a,c),intersectsImpl(h[0],d[1],s+1,o,a,c),intersectsImpl(h[1],d[0],s+1,o,a,c),intersectsImpl(h[1],d[1],s+1,o,a,c)}}PolynomialBezier.prototype.intersections=function(i,e,s){e===void 0&&(e=2),s===void 0&&(s=7);var o=[];return intersectsImpl(intersectData(this,0,1),intersectData(i,0,1),0,e,o,s),o},PolynomialBezier.shapeSegment=function(i,e){var s=(e+1)%i.length();return new PolynomialBezier(i.v[e],i.o[e],i.i[s],i.v[s],!0)},PolynomialBezier.shapeSegmentInverted=function(i,e){var s=(e+1)%i.length();return new PolynomialBezier(i.v[s],i.i[s],i.o[e],i.v[e],!0)};function crossProduct(i,e){return[i[1]*e[2]-i[2]*e[1],i[2]*e[0]-i[0]*e[2],i[0]*e[1]-i[1]*e[0]]}function lineIntersection(i,e,s,o){var a=[i[0],i[1],1],c=[e[0],e[1],1],h=[s[0],s[1],1],d=[o[0],o[1],1],g=crossProduct(crossProduct(a,c),crossProduct(h,d));return floatZero(g[2])?null:[g[0]/g[2],g[1]/g[2]]}function polarOffset(i,e,s){return[i[0]+Math.cos(e)*s,i[1]-Math.sin(e)*s]}function pointDistance(i,e){return Math.hypot(i[0]-e[0],i[1]-e[1])}function pointEqual(i,e){return floatEqual(i[0],e[0])&&floatEqual(i[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(i,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(i,e.s,0,null,this),this.frequency=PropertyFactory.getProp(i,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(i,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(i,e,s,o,a,c,h){var d=s-Math.PI/2,g=s+Math.PI/2,_=e[0]+Math.cos(s)*o*a,$=e[1]-Math.sin(s)*o*a;i.setTripleAt(_,$,_+Math.cos(d)*c,$-Math.sin(d)*c,_+Math.cos(g)*h,$-Math.sin(g)*h,i.length())}function getPerpendicularVector(i,e){var s=[e[0]-i[0],e[1]-i[1]],o=-Math.PI*.5,a=[Math.cos(o)*s[0]-Math.sin(o)*s[1],Math.sin(o)*s[0]+Math.cos(o)*s[1]];return a}function getProjectingAngle(i,e){var s=e===0?i.length()-1:e-1,o=(e+1)%i.length(),a=i.v[s],c=i.v[o],h=getPerpendicularVector(a,c);return Math.atan2(0,1)-Math.atan2(h[1],h[0])}function zigZagCorner(i,e,s,o,a,c,h){var d=getProjectingAngle(e,s),g=e.v[s%e._length],_=e.v[s===0?e._length-1:s-1],$=e.v[(s+1)%e._length],nt=c===2?Math.sqrt(Math.pow(g[0]-_[0],2)+Math.pow(g[1]-_[1],2)):0,et=c===2?Math.sqrt(Math.pow(g[0]-$[0],2)+Math.pow(g[1]-$[1],2)):0;setPoint(i,e.v[s%e._length],d,h,o,et/((a+1)*2),nt/((a+1)*2))}function zigZagSegment(i,e,s,o,a,c){for(var h=0;h<o;h+=1){var d=(h+1)/(o+1),g=a===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,_=e.normalAngle(d),$=e.point(d);setPoint(i,$,_,c,s,g/((o+1)*2),g/((o+1)*2)),c=-c}return c}ZigZagModifier.prototype.processPath=function(i,e,s,o){var a=i._length,c=shapePool.newElement();if(c.c=i.c,i.c||(a-=1),a===0)return c;var h=-1,d=PolynomialBezier.shapeSegment(i,0);zigZagCorner(c,i,0,e,s,o,h);for(var g=0;g<a;g+=1)h=zigZagSegment(c,d,e,s,o,-h),g===a-1&&!i.c?d=null:d=PolynomialBezier.shapeSegment(i,(g+1)%a),zigZagCorner(c,i,g+1,e,s,o,h);return c},ZigZagModifier.prototype.processShapes=function(i){var e,s,o=this.shapes.length,a,c,h=this.amplitude.v,d=Math.max(0,Math.round(this.frequency.v)),g=this.pointsType.v;if(h!==0){var _,$;for(s=0;s<o;s+=1){if(_=this.shapes[s],$=_.localShapeCollection,!(!_.shape._mdf&&!this._mdf&&!i))for($.releaseShapes(),_.shape._mdf=!0,e=_.shape.paths.shapes,c=_.shape.paths._length,a=0;a<c;a+=1)$.addShape(this.processPath(e[a],h,d,g));_.shape.paths=_.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(i,e,s){var o=Math.atan2(e[0]-i[0],e[1]-i[1]);return[polarOffset(i,o,s),polarOffset(e,o,s)]}function offsetSegment(i,e){var s,o,a,c,h,d,g;g=linearOffset(i.points[0],i.points[1],e),s=g[0],o=g[1],g=linearOffset(i.points[1],i.points[2],e),a=g[0],c=g[1],g=linearOffset(i.points[2],i.points[3],e),h=g[0],d=g[1];var _=lineIntersection(s,o,a,c);_===null&&(_=o);var $=lineIntersection(h,d,a,c);return $===null&&($=h),new PolynomialBezier(s,_,$,d)}function joinLines(i,e,s,o,a){var c=e.points[3],h=s.points[0];if(o===3||pointEqual(c,h))return c;if(o===2){var d=-e.tangentAngle(1),g=-s.tangentAngle(0)+Math.PI,_=lineIntersection(c,polarOffset(c,d+Math.PI/2,100),h,polarOffset(h,d+Math.PI/2,100)),$=_?pointDistance(_,c):pointDistance(c,h)/2,nt=polarOffset(c,d,2*$*roundCorner);return i.setXYAt(nt[0],nt[1],"o",i.length()-1),nt=polarOffset(h,g,2*$*roundCorner),i.setTripleAt(h[0],h[1],h[0],h[1],nt[0],nt[1],i.length()),h}var et=pointEqual(c,e.points[2])?e.points[0]:e.points[2],rt=pointEqual(h,s.points[1])?s.points[3]:s.points[1],lt=lineIntersection(et,c,h,rt);return lt&&pointDistance(lt,c)<a?(i.setTripleAt(lt[0],lt[1],lt[0],lt[1],lt[0],lt[1],i.length()),lt):c}function getIntersection(i,e){var s=i.intersections(e);return s.length&&floatEqual(s[0][0],1)&&s.shift(),s.length?s[0]:null}function pruneSegmentIntersection(i,e){var s=i.slice(),o=e.slice(),a=getIntersection(i[i.length-1],e[0]);return a&&(s[i.length-1]=i[i.length-1].split(a[0])[0],o[0]=e[0].split(a[1])[1]),i.length>1&&e.length>1&&(a=getIntersection(i[0],e[e.length-1]),a)?[[i[0].split(a[0])[0]],[e[e.length-1].split(a[1])[1]]]:[s,o]}function pruneIntersections(i){for(var e,s=1;s<i.length;s+=1)e=pruneSegmentIntersection(i[s-1],i[s]),i[s-1]=e[0],i[s]=e[1];return i.length>1&&(e=pruneSegmentIntersection(i[i.length-1],i[0]),i[i.length-1]=e[0],i[0]=e[1]),i}function offsetSegmentSplit(i,e){var s=i.inflectionPoints(),o,a,c,h;if(s.length===0)return[offsetSegment(i,e)];if(s.length===1||floatEqual(s[1],1))return c=i.split(s[0]),o=c[0],a=c[1],[offsetSegment(o,e),offsetSegment(a,e)];c=i.split(s[0]),o=c[0];var d=(s[1]-s[0])/(1-s[0]);return c=c[1].split(d),h=c[0],a=c[1],[offsetSegment(o,e),offsetSegment(h,e),offsetSegment(a,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(i,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(i,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(i,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(i,e,s,o){var a=shapePool.newElement();a.c=i.c;var c=i.length();i.c||(c-=1);var h,d,g,_=[];for(h=0;h<c;h+=1)g=PolynomialBezier.shapeSegment(i,h),_.push(offsetSegmentSplit(g,e));if(!i.c)for(h=c-1;h>=0;h-=1)g=PolynomialBezier.shapeSegmentInverted(i,h),_.push(offsetSegmentSplit(g,e));_=pruneIntersections(_);var $=null,nt=null;for(h=0;h<_.length;h+=1){var et=_[h];for(nt&&($=joinLines(a,nt,et[0],s,o)),nt=et[et.length-1],d=0;d<et.length;d+=1)g=et[d],$&&pointEqual(g.points[0],$)?a.setXYAt(g.points[1][0],g.points[1][1],"o",a.length()-1):a.setTripleAt(g.points[0][0],g.points[0][1],g.points[1][0],g.points[1][1],g.points[0][0],g.points[0][1],a.length()),a.setTripleAt(g.points[3][0],g.points[3][1],g.points[3][0],g.points[3][1],g.points[2][0],g.points[2][1],a.length()),$=g.points[3]}return _.length&&joinLines(a,nt,_[0][0],s,o),a},OffsetPathModifier.prototype.processShapes=function(i){var e,s,o=this.shapes.length,a,c,h=this.amount.v,d=this.miterLimit.v,g=this.lineJoin;if(h!==0){var _,$;for(s=0;s<o;s+=1){if(_=this.shapes[s],$=_.localShapeCollection,!(!_.shape._mdf&&!this._mdf&&!i))for($.releaseShapes(),_.shape._mdf=!0,e=_.shape.paths.shapes,c=_.shape.paths._length,a=0;a<c;a+=1)$.addShape(this.processPath(e[a],h,g,d));_.shape.paths=_.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(i){for(var e=i.fStyle?i.fStyle.split(" "):[],s="normal",o="normal",a=e.length,c,h=0;h<a;h+=1)switch(c=e[h].toLowerCase(),c){case"italic":o="italic";break;case"bold":s="700";break;case"black":s="900";break;case"medium":s="500";break;case"regular":case"normal":s="400";break;case"light":case"thin":s="200";break}return{style:o,weight:i.fWeight||s}}var FontManager=function(){var i=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},s=[];s=s.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var o=127988,a=917631,c=917601,h=917626,d=65039,g=8205,_=127462,$=127487,nt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function et(Ct){var kt=Ct.split(","),dt,vt=kt.length,Ft=[];for(dt=0;dt<vt;dt+=1)kt[dt]!=="sans-serif"&&kt[dt]!=="monospace"&&Ft.push(kt[dt]);return Ft.join(",")}function rt(Ct,kt){var dt=createTag("span");dt.setAttribute("aria-hidden",!0),dt.style.fontFamily=kt;var vt=createTag("span");vt.innerText="giItT1WQy@!-/#",dt.style.position="absolute",dt.style.left="-10000px",dt.style.top="-10000px",dt.style.fontSize="300px",dt.style.fontVariant="normal",dt.style.fontStyle="normal",dt.style.fontWeight="normal",dt.style.letterSpacing="0",dt.appendChild(vt),document.body.appendChild(dt);var Ft=vt.offsetWidth;return vt.style.fontFamily=et(Ct)+", "+kt,{node:vt,w:Ft,parent:dt}}function lt(){var Ct,kt=this.fonts.length,dt,vt,Ft=kt;for(Ct=0;Ct<kt;Ct+=1)this.fonts[Ct].loaded?Ft-=1:this.fonts[Ct].fOrigin==="n"||this.fonts[Ct].origin===0?this.fonts[Ct].loaded=!0:(dt=this.fonts[Ct].monoCase.node,vt=this.fonts[Ct].monoCase.w,dt.offsetWidth!==vt?(Ft-=1,this.fonts[Ct].loaded=!0):(dt=this.fonts[Ct].sansCase.node,vt=this.fonts[Ct].sansCase.w,dt.offsetWidth!==vt&&(Ft-=1,this.fonts[Ct].loaded=!0)),this.fonts[Ct].loaded&&(this.fonts[Ct].sansCase.parent.parentNode.removeChild(this.fonts[Ct].sansCase.parent),this.fonts[Ct].monoCase.parent.parentNode.removeChild(this.fonts[Ct].monoCase.parent)));Ft!==0&&Date.now()-this.initTime<i?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function ut(Ct,kt){var dt=document.body&&kt?"svg":"canvas",vt,Ft=getFontProperties(Ct);if(dt==="svg"){var Lt=createNS("text");Lt.style.fontSize="100px",Lt.setAttribute("font-family",Ct.fFamily),Lt.setAttribute("font-style",Ft.style),Lt.setAttribute("font-weight",Ft.weight),Lt.textContent="1",Ct.fClass?(Lt.style.fontFamily="inherit",Lt.setAttribute("class",Ct.fClass)):Lt.style.fontFamily=Ct.fFamily,kt.appendChild(Lt),vt=Lt}else{var Yt=new OffscreenCanvas(500,500).getContext("2d");Yt.font=Ft.style+" "+Ft.weight+" 100px "+Ct.fFamily,vt=Yt}function Qt(tr){return dt==="svg"?(vt.textContent=tr,vt.getComputedTextLength()):vt.measureText(tr).width}return{measureText:Qt}}function gt(Ct,kt){if(!Ct){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Ct.list;return}if(!document.body){this.isLoaded=!0,Ct.list.forEach(function(Ot){Ot.helper=ut(Ot),Ot.cache={}}),this.fonts=Ct.list;return}var dt=Ct.list,vt,Ft=dt.length,Lt=Ft;for(vt=0;vt<Ft;vt+=1){var Yt=!0,Qt,tr;if(dt[vt].loaded=!1,dt[vt].monoCase=rt(dt[vt].fFamily,"monospace"),dt[vt].sansCase=rt(dt[vt].fFamily,"sans-serif"),!dt[vt].fPath)dt[vt].loaded=!0,Lt-=1;else if(dt[vt].fOrigin==="p"||dt[vt].origin===3){if(Qt=document.querySelectorAll('style[f-forigin="p"][f-family="'+dt[vt].fFamily+'"], style[f-origin="3"][f-family="'+dt[vt].fFamily+'"]'),Qt.length>0&&(Yt=!1),Yt){var Mt=createTag("style");Mt.setAttribute("f-forigin",dt[vt].fOrigin),Mt.setAttribute("f-origin",dt[vt].origin),Mt.setAttribute("f-family",dt[vt].fFamily),Mt.type="text/css",Mt.innerText="@font-face {font-family: "+dt[vt].fFamily+"; font-style: normal; src: url('"+dt[vt].fPath+"');}",kt.appendChild(Mt)}}else if(dt[vt].fOrigin==="g"||dt[vt].origin===1){for(Qt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),tr=0;tr<Qt.length;tr+=1)Qt[tr].href.indexOf(dt[vt].fPath)!==-1&&(Yt=!1);if(Yt){var mt=createTag("link");mt.setAttribute("f-forigin",dt[vt].fOrigin),mt.setAttribute("f-origin",dt[vt].origin),mt.type="text/css",mt.rel="stylesheet",mt.href=dt[vt].fPath,document.body.appendChild(mt)}}else if(dt[vt].fOrigin==="t"||dt[vt].origin===2){for(Qt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),tr=0;tr<Qt.length;tr+=1)dt[vt].fPath===Qt[tr].src&&(Yt=!1);if(Yt){var Rt=createTag("link");Rt.setAttribute("f-forigin",dt[vt].fOrigin),Rt.setAttribute("f-origin",dt[vt].origin),Rt.setAttribute("rel","stylesheet"),Rt.setAttribute("href",dt[vt].fPath),kt.appendChild(Rt)}}dt[vt].helper=ut(dt[vt],kt),dt[vt].cache={},this.fonts.push(dt[vt])}Lt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function at(Ct){if(Ct){this.chars||(this.chars=[]);var kt,dt=Ct.length,vt,Ft=this.chars.length,Lt;for(kt=0;kt<dt;kt+=1){for(vt=0,Lt=!1;vt<Ft;)this.chars[vt].style===Ct[kt].style&&this.chars[vt].fFamily===Ct[kt].fFamily&&this.chars[vt].ch===Ct[kt].ch&&(Lt=!0),vt+=1;Lt||(this.chars.push(Ct[kt]),Ft+=1)}}}function st(Ct,kt,dt){for(var vt=0,Ft=this.chars.length;vt<Ft;){if(this.chars[vt].ch===Ct&&this.chars[vt].style===kt&&this.chars[vt].fFamily===dt)return this.chars[vt];vt+=1}return(typeof Ct=="string"&&Ct.charCodeAt(0)!==13||!Ct)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Ct,kt,dt)),e}function ot(Ct,kt,dt){var vt=this.getFontByName(kt),Ft=Ct;if(!vt.cache[Ft]){var Lt=vt.helper;if(Ct===" "){var Yt=Lt.measureText("|"+Ct+"|"),Qt=Lt.measureText("||");vt.cache[Ft]=(Yt-Qt)/100}else vt.cache[Ft]=Lt.measureText(Ct)/100}return vt.cache[Ft]*dt}function ct(Ct){for(var kt=0,dt=this.fonts.length;kt<dt;){if(this.fonts[kt].fName===Ct)return this.fonts[kt];kt+=1}return this.fonts[0]}function Pt(Ct){var kt=0,dt=Ct.charCodeAt(0);if(dt>=55296&&dt<=56319){var vt=Ct.charCodeAt(1);vt>=56320&&vt<=57343&&(kt=(dt-55296)*1024+vt-56320+65536)}return kt}function At(Ct,kt){var dt=Ct.toString(16)+kt.toString(16);return nt.indexOf(dt)!==-1}function yt(Ct){return Ct===g}function pt(Ct){return Ct===d}function _t(Ct){var kt=Pt(Ct);return kt>=_&&kt<=$}function St(Ct){return _t(Ct.substr(0,2))&&_t(Ct.substr(2,2))}function xt(Ct){return s.indexOf(Ct)!==-1}function It(Ct,kt){var dt=Pt(Ct.substr(kt,2));if(dt!==o)return!1;var vt=0;for(kt+=2;vt<5;){if(dt=Pt(Ct.substr(kt,2)),dt<c||dt>h)return!1;vt+=1,kt+=2}return Pt(Ct.substr(kt,2))===a}function wt(){this.isLoaded=!0}var Wt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Wt.isModifier=At,Wt.isZeroWidthJoiner=yt,Wt.isFlagEmoji=St,Wt.isRegionalCode=_t,Wt.isCombinedCharacter=xt,Wt.isRegionalFlag=It,Wt.isVariationSelector=pt,Wt.BLACK_FLAG_CODE_POINT=o;var Ut={addChars:at,addFonts:gt,getCharData:st,getFontByName:ct,measureText:ot,checkLoadedFonts:lt,setIsLoaded:wt};return Wt.prototype=Ut,Wt}();function SlotManager(i){this.animationData=i}SlotManager.prototype.getProp=function(i){return this.animationData.slots&&this.animationData.slots[i.sid]?Object.assign(i,this.animationData.slots[i.sid].p):i};function slotFactory(i){return new SlotManager(i)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,s=this.renderableComponents.length;for(e=0;e<s;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var i={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return i[e]||""}}();function SliderEffect(i,e,s){this.p=PropertyFactory.getProp(e,i.v,0,0,s)}function AngleEffect(i,e,s){this.p=PropertyFactory.getProp(e,i.v,0,0,s)}function ColorEffect(i,e,s){this.p=PropertyFactory.getProp(e,i.v,1,0,s)}function PointEffect(i,e,s){this.p=PropertyFactory.getProp(e,i.v,1,0,s)}function LayerIndexEffect(i,e,s){this.p=PropertyFactory.getProp(e,i.v,0,0,s)}function MaskIndexEffect(i,e,s){this.p=PropertyFactory.getProp(e,i.v,0,0,s)}function CheckboxEffect(i,e,s){this.p=PropertyFactory.getProp(e,i.v,0,0,s)}function NoValueEffect(){this.p={}}function EffectsManager(i,e){var s=i.ef||[];this.effectElements=[];var o,a=s.length,c;for(o=0;o<a;o+=1)c=new GroupEffect(s[o],e),this.effectElements.push(c)}function GroupEffect(i,e){this.init(i,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(i,e){this.data=i,this.effectElements=[],this.initDynamicPropertyContainer(e);var s,o=this.data.ef.length,a,c=this.data.ef;for(s=0;s<o;s+=1){switch(a=null,c[s].ty){case 0:a=new SliderEffect(c[s],e,this);break;case 1:a=new AngleEffect(c[s],e,this);break;case 2:a=new ColorEffect(c[s],e,this);break;case 3:a=new PointEffect(c[s],e,this);break;case 4:case 7:a=new CheckboxEffect(c[s],e,this);break;case 10:a=new LayerIndexEffect(c[s],e,this);break;case 11:a=new MaskIndexEffect(c[s],e,this);break;case 5:a=new EffectsManager(c[s],e);break;default:a=new NoValueEffect(c[s]);break}a&&this.effectElements.push(a)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,s=this.data.masksProperties.length;e<s;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var s=e("layer"),o=e("effects"),a=e("shape"),c=e("text"),h=e("comp");this.layerInterface=s(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var d=o.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(d),this.data.ty===0||this.data.xt?this.compInterface=h(this):this.data.ty===4?(this.layerInterface.shapeInterface=a(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=c(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),s=this.baseElement||this.layerElement;s.style["mix-blend-mode"]=e},initBaseData:function(e,s,o){this.globalData=s,this.comp=o,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,s){var o,a=this.dynamicProperties.length;for(o=0;o<a;o+=1)(s||this._isParent&&this.dynamicProperties[o].propType==="transform")&&(this.dynamicProperties[o].getValue(),this.dynamicProperties[o]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(i,e,s){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(i.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(i,e,s)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var i=getExpressionInterfaces();if(i){var e=i("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(i,e,s){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(i.refId),this.initBaseData(i,e,s),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,i.au&&i.au.lv?i.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(i){if(this.prepareRenderableFrame(i,!0),this.prepareProperties(i,!0),this.tm._placeholder)this._currentTime=i/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var s=this._volume*this._volumeMultiplier;this._previousVolume!==s&&(this._previousVolume=s,this.audio.volume(s))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(i){this.audio.rate(i)},AudioElement.prototype.volume=function(i){this._volumeMultiplier=i,this._previousVolume=i*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(i){var e,s=this.layers.length,o;for(this.completeLayers=!0,e=s-1;e>=0;e-=1)this.elements[e]||(o=this.layers[e],o.ip-o.st<=i-this.layers[e].st&&o.op-o.st>i-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(i){switch(i.ty){case 2:return this.createImage(i);case 0:return this.createComp(i);case 1:return this.createSolid(i);case 3:return this.createNull(i);case 4:return this.createShape(i);case 5:return this.createText(i);case 6:return this.createAudio(i);case 13:return this.createCamera(i);case 15:return this.createFootage(i);default:return this.createNull(i)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(i){return new AudioElement(i,this.globalData,this)},BaseRenderer.prototype.createFootage=function(i){return new FootageElement(i,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var i,e=this.layers.length;for(i=0;i<e;i+=1)this.buildItem(i);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(i){this.completeLayers=!1;var e,s=i.length,o,a=this.layers.length;for(e=0;e<s;e+=1)for(o=0;o<a;){if(this.layers[o].id===i[e].id){this.layers[o]=i[e];break}o+=1}},BaseRenderer.prototype.setProjectInterface=function(i){this.globalData.projectInterface=i},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(i,e,s){for(var o=this.elements,a=this.layers,c=0,h=a.length;c<h;)a[c].ind==e&&(!o[c]||o[c]===!0?(this.buildItem(c),this.addPendingElement(i)):(s.push(o[c]),o[c].setAsParent(),a[c].parent!==void 0?this.buildElementParenting(i,a[c].parent,s):i.setHierarchy(s))),c+=1},BaseRenderer.prototype.addPendingElement=function(i){this.pendingElements.push(i)},BaseRenderer.prototype.searchExtraCompositions=function(i){var e,s=i.length;for(e=0;e<s;e+=1)if(i[e].xt){var o=this.createComp(i[e]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.getElementById=function(i){var e,s=this.elements.length;for(e=0;e<s;e+=1)if(this.elements[e].data.ind===i)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(i){var e=i.shift(),s;if(typeof e=="number")s=this.elements[e];else{var o,a=this.elements.length;for(o=0;o<a;o+=1)if(this.elements[o].data.nm===e){s=this.elements[o];break}}return i.length===0?s:s.getElementByPath(i)},BaseRenderer.prototype.setupGlobalData=function(i,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(i),this.globalData.fontManager.addChars(i.chars),this.globalData.fontManager.addFonts(i.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=i.fr,this.globalData.nm=i.nm,this.globalData.compSize={w:i.w,h:i.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,s=this.finalTransform.mat,o=0,a=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;o<a;){if(this.hierarchy[o].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}o+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,s.cloneFromProps(e),o=0;o<a;o+=1)s.multiply(this.hierarchy[o].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,s=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<s;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var o=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(o),e=1;e<s;e+=1){var a=this.localTransforms[e].matrix;o.multiply(a)}o.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var c=this.finalTransform.localOpacity;for(e=0;e<s;e+=1)c*=this.localTransforms[e].opacity*.01;this.finalTransform.localOpacity=c}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var s=0,o=e.length;for(s=0;s<o;s+=1)this.localTransforms.push(e[s])}}},globalToLocal:function(e){var s=[];s.push(this.finalTransform);for(var o=!0,a=this.comp;o;)a.finalTransform?(a.data.hasMask&&s.splice(0,0,a.finalTransform),a=a.comp):o=!1;var c,h=s.length,d;for(c=0;c<h;c+=1)d=s[c].mat.applyToPointArray(0,0,0),e=[e[0]-d[0],e[1]-d[1],0];return e},mHelper:new Matrix};function MaskElement(i,e,s){this.data=i,this.element=e,this.globalData=s,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o=this.globalData.defs,a,c=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(c),this.solidPath="";var h,d=this.masksProperties,g=0,_=[],$,nt,et=createElementID(),rt,lt,ut,gt,at="clipPath",st="clip-path";for(a=0;a<c;a+=1)if((d[a].mode!=="a"&&d[a].mode!=="n"||d[a].inv||d[a].o.k!==100||d[a].o.x)&&(at="mask",st="mask"),(d[a].mode==="s"||d[a].mode==="i")&&g===0?(rt=createNS("rect"),rt.setAttribute("fill","#ffffff"),rt.setAttribute("width",this.element.comp.data.w||0),rt.setAttribute("height",this.element.comp.data.h||0),_.push(rt)):rt=null,h=createNS("path"),d[a].mode==="n")this.viewData[a]={op:PropertyFactory.getProp(this.element,d[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[a],3),elem:h,lastPath:""},o.appendChild(h);else{g+=1,h.setAttribute("fill",d[a].mode==="s"?"#000000":"#ffffff"),h.setAttribute("clip-rule","nonzero");var ot;if(d[a].x.k!==0?(at="mask",st="mask",gt=PropertyFactory.getProp(this.element,d[a].x,0,null,this.element),ot=createElementID(),lt=createNS("filter"),lt.setAttribute("id",ot),ut=createNS("feMorphology"),ut.setAttribute("operator","erode"),ut.setAttribute("in","SourceGraphic"),ut.setAttribute("radius","0"),lt.appendChild(ut),o.appendChild(lt),h.setAttribute("stroke",d[a].mode==="s"?"#000000":"#ffffff")):(ut=null,gt=null),this.storedData[a]={elem:h,x:gt,expan:ut,lastPath:"",lastOperator:"",filterId:ot,lastRadius:0},d[a].mode==="i"){nt=_.length;var ct=createNS("g");for($=0;$<nt;$+=1)ct.appendChild(_[$]);var Pt=createNS("mask");Pt.setAttribute("mask-type","alpha"),Pt.setAttribute("id",et+"_"+g),Pt.appendChild(h),o.appendChild(Pt),ct.setAttribute("mask","url("+getLocationHref()+"#"+et+"_"+g+")"),_.length=0,_.push(ct)}else _.push(h);d[a].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[a]={elem:h,lastPath:"",op:PropertyFactory.getProp(this.element,d[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,d[a],3),invRect:rt},this.viewData[a].prop.k||this.drawPath(d[a],this.viewData[a].prop.v,this.viewData[a])}for(this.maskElement=createNS(at),c=_.length,a=0;a<c;a+=1)this.maskElement.appendChild(_[a]);g>0&&(this.maskElement.setAttribute("id",et),this.element.maskedElement.setAttribute(st,"url("+getLocationHref()+"#"+et+")"),o.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(i){return this.viewData[i].prop},MaskElement.prototype.renderFrame=function(i){var e=this.element.finalTransform.mat,s,o=this.masksProperties.length;for(s=0;s<o;s+=1)if((this.viewData[s].prop._mdf||i)&&this.drawPath(this.masksProperties[s],this.viewData[s].prop.v,this.viewData[s]),(this.viewData[s].op._mdf||i)&&this.viewData[s].elem.setAttribute("fill-opacity",this.viewData[s].op.v),this.masksProperties[s].mode!=="n"&&(this.viewData[s].invRect&&(this.element.finalTransform.mProp._mdf||i)&&this.viewData[s].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[s].x&&(this.storedData[s].x._mdf||i))){var a=this.storedData[s].expan;this.storedData[s].x.v<0?(this.storedData[s].lastOperator!=="erode"&&(this.storedData[s].lastOperator="erode",this.storedData[s].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[s].filterId+")")),a.setAttribute("radius",-this.storedData[s].x.v)):(this.storedData[s].lastOperator!=="dilate"&&(this.storedData[s].lastOperator="dilate",this.storedData[s].elem.setAttribute("filter",null)),this.storedData[s].elem.setAttribute("stroke-width",this.storedData[s].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var i="M0,0 ";return i+=" h"+this.globalData.compSize.w,i+=" v"+this.globalData.compSize.h,i+=" h-"+this.globalData.compSize.w,i+=" v-"+this.globalData.compSize.h+" ",i},MaskElement.prototype.drawPath=function(i,e,s){var o=" M"+e.v[0][0]+","+e.v[0][1],a,c;for(c=e._length,a=1;a<c;a+=1)o+=" C"+e.o[a-1][0]+","+e.o[a-1][1]+" "+e.i[a][0]+","+e.i[a][1]+" "+e.v[a][0]+","+e.v[a][1];if(e.c&&c>1&&(o+=" C"+e.o[a-1][0]+","+e.o[a-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),s.lastPath!==o){var h="";s.elem&&(e.c&&(h=i.inv?this.solidPath+o:o),s.elem.setAttribute("d",h)),s.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var i={};i.createFilter=e,i.createAlphaToLuminanceFilter=s;function e(o,a){var c=createNS("filter");return c.setAttribute("id",o),a!==!0&&(c.setAttribute("filterUnits","objectBoundingBox"),c.setAttribute("x","0%"),c.setAttribute("y","0%"),c.setAttribute("width","100%"),c.setAttribute("height","100%")),c}function s(){var o=createNS("feColorMatrix");return o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),o}return i}(),featureSupport=function(){var i={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(i.maskType=!1),/firefox/i.test(navigator.userAgent)&&(i.svgLumaHidden=!1),i}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(i){var e,s="SourceGraphic",o=i.data.ef?i.data.ef.length:0,a=createElementID(),c=filtersFactory.createFilter(a,!0),h=0;this.filters=[];var d;for(e=0;e<o;e+=1){d=null;var g=i.data.ef[e].ty;if(registeredEffects$1[g]){var _=registeredEffects$1[g].effect;d=new _(c,i.effectsManager.effectElements[e],i,idPrefix+h,s),s=idPrefix+h,registeredEffects$1[g].countsAsEffect&&(h+=1)}d&&this.filters.push(d)}h&&(i.globalData.defs.appendChild(c),i.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+a+")")),this.filters.length&&i.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(i){var e,s=this.filters.length;for(e=0;e<s;e+=1)this.filters[e].renderFrame(i)},SVGEffects.prototype.getEffects=function(i){var e,s=this.filters.length,o=[];for(e=0;e<s;e+=1)this.filters[e].type===i&&o.push(this.filters[e]);return o};function registerEffect$1(i,e,s){registeredEffects$1[i]={effect:e,countsAsEffect:s}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var s=createNS("g");s.setAttribute("id",this.layerId),s.appendChild(this.layerElement),e=s,this.globalData.defs.appendChild(s)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var o=createNS("clipPath"),a=createNS("path");a.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var c=createElementID();if(o.setAttribute("id",c),o.appendChild(a),this.globalData.defs.appendChild(o),this.checkMasks()){var h=createNS("g");h.setAttribute("clip-path","url("+getLocationHref()+"#"+c+")"),h.appendChild(this.layerElement),this.transformedElement=h,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+c+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var s=this.layerId+"_"+e,o,a,c,h;if(e===1||e===3){var d=createNS("mask");d.setAttribute("id",s),d.setAttribute("mask-type",e===3?"luminance":"alpha"),c=createNS("use"),c.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),d.appendChild(c),this.globalData.defs.appendChild(d),!featureSupport.maskType&&e===1&&(d.setAttribute("mask-type","luminance"),o=createElementID(),a=filtersFactory.createFilter(o),this.globalData.defs.appendChild(a),a.appendChild(filtersFactory.createAlphaToLuminanceFilter()),h=createNS("g"),h.appendChild(c),d.appendChild(h),h.setAttribute("filter","url("+getLocationHref()+"#"+o+")"))}else if(e===2){var g=createNS("mask");g.setAttribute("id",s),g.setAttribute("mask-type","alpha");var _=createNS("g");g.appendChild(_),o=createElementID(),a=filtersFactory.createFilter(o);var $=createNS("feComponentTransfer");$.setAttribute("in","SourceGraphic"),a.appendChild($);var nt=createNS("feFuncA");nt.setAttribute("type","table"),nt.setAttribute("tableValues","1.0 0.0"),$.appendChild(nt),this.globalData.defs.appendChild(a);var et=createNS("rect");et.setAttribute("width",this.comp.data.w),et.setAttribute("height",this.comp.data.h),et.setAttribute("x","0"),et.setAttribute("y","0"),et.setAttribute("fill","#ffffff"),et.setAttribute("opacity","0"),_.setAttribute("filter","url("+getLocationHref()+"#"+o+")"),_.appendChild(et),c=createNS("use"),c.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),_.appendChild(c),featureSupport.maskType||(g.setAttribute("mask-type","luminance"),a.appendChild(filtersFactory.createAlphaToLuminanceFilter()),h=createNS("g"),_.appendChild(et),h.appendChild(this.layerElement),_.appendChild(h)),this.globalData.defs.appendChild(g)}this.matteMasks[e]=s}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var i={initElement:function(s,o,a){this.initFrame(),this.initBaseData(s,o,a),this.initTransform(s,o,a),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var s=this.baseElement||this.layerElement;s.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var s=this.baseElement||this.layerElement;s.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(s){this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(i)],RenderableDOMElement)})();function IImageElement(i,e,s){this.assetData=e.getAssetData(i.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(i,e,s),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var i=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(i,e){this.elem=i,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var s,o=this.shapeModifiers.length;for(s=0;s<o;s+=1)this.shapeModifiers[s].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var s=0,o=this.shapeModifiers.length;s<o;)if(this.shapeModifiers[s].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,s=this.shapes.length;for(e=0;e<s;e+=1)this.shapes[e].sh.reset();s=this.shapeModifiers.length;var o;for(e=s-1;e>=0&&(o=this.shapeModifiers[e].processShapes(this._isFirstFrame),!o);e-=1);}},searchProcessedElement:function(e){for(var s=this.processedElements,o=0,a=s.length;o<a;){if(s[o].elem===e)return s[o].pos;o+=1}return 0},addProcessedElement:function(e,s){for(var o=this.processedElements,a=o.length;a;)if(a-=1,o[a].elem===e){o[a].pos=s;return}o.push(new ProcessedElement(e,s))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(i,e,s){this.caches=[],this.styles=[],this.transformers=i,this.lStr="",this.sh=s,this.lvl=e,this._isAnimated=!!s.k;for(var o=0,a=i.length;o<a;){if(i[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(i,e){this.data=i,this.type=i.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=i.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(i,e,s,o){this.elem=i,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=s,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var a,c=e.length||0,h;for(a=0;a<c;a+=1)h=PropertyFactory.getProp(i,e[a].v,0,0,this),this.k=h.k||this.k,this.dataProps[a]={n:e[a].n,p:h};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(i){if(!(this.elem.globalData.frameId===this.frameId&&!i)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||i,this._mdf)){var e=0,s=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<s;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(i,e,s){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(i,e.o,0,.01,this),this.w=PropertyFactory.getProp(i,e.w,0,null,this),this.d=new DashProperty(i,e.d||{},"svg",this),this.c=PropertyFactory.getProp(i,e.c,1,255,this),this.style=s,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(i,e,s){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(i,e.o,0,.01,this),this.c=PropertyFactory.getProp(i,e.c,1,255,this),this.style=s}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(i,e,s){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.style=s}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(i,e,s){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var o=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(s),this.prop=PropertyFactory.getProp(i,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(i,e){for(var s=0,o=this.o.length/2,a;s<o;){if(a=Math.abs(i[s*4]-i[e*4+s*2]),a>.01)return!1;s+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var i=0,e=this.data.k.k.length;i<e;){if(!this.comparePoints(this.data.k.k[i].s,this.data.p))return!1;i+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(i){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||i){var e,s=this.data.p*4,o,a;for(e=0;e<s;e+=1)o=e%4===0?100:255,a=Math.round(this.prop.v[e]*o),this.c[e]!==a&&(this.c[e]=a,this._cmdf=!i);if(this.o.length)for(s=this.prop.v.length,e=this.data.p*4;e<s;e+=1)o=e%2===0?100:1,a=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==a&&(this.o[e-this.data.p*4]=a,this._omdf=!i);this._mdf=!i}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(i,e,s){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.initGradientData(i,e,s)}SVGGradientFillStyleData.prototype.initGradientData=function(i,e,s){this.o=PropertyFactory.getProp(i,e.o,0,.01,this),this.s=PropertyFactory.getProp(i,e.s,1,null,this),this.e=PropertyFactory.getProp(i,e.e,1,null,this),this.h=PropertyFactory.getProp(i,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(i,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(i,e.g,this),this.style=s,this.stops=[],this.setGradientData(s.pElem,e),this.setGradientOpacity(e,s),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(i,e){var s=createElementID(),o=createNS(e.t===1?"linearGradient":"radialGradient");o.setAttribute("id",s),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var a=[],c,h,d;for(d=e.g.p*4,h=0;h<d;h+=4)c=createNS("stop"),o.appendChild(c),a.push(c);i.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+s+")"),this.gf=o,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(i,e){if(this.g._hasOpacity&&!this.g._collapsable){var s,o,a,c=createNS("mask"),h=createNS("path");c.appendChild(h);var d=createElementID(),g=createElementID();c.setAttribute("id",g);var _=createNS(i.t===1?"linearGradient":"radialGradient");_.setAttribute("id",d),_.setAttribute("spreadMethod","pad"),_.setAttribute("gradientUnits","userSpaceOnUse"),a=i.g.k.k[0].s?i.g.k.k[0].s.length:i.g.k.k.length;var $=this.stops;for(o=i.g.p*4;o<a;o+=2)s=createNS("stop"),s.setAttribute("stop-color","rgb(255,255,255)"),_.appendChild(s),$.push(s);h.setAttribute(i.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+d+")"),i.ty==="gs"&&(h.setAttribute("stroke-linecap",lineCapEnum[i.lc||2]),h.setAttribute("stroke-linejoin",lineJoinEnum[i.lj||2]),i.lj===1&&h.setAttribute("stroke-miterlimit",i.ml)),this.of=_,this.ms=c,this.ost=$,this.maskId=g,e.msElem=h}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(i,e,s){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(i,e.w,0,null,this),this.d=new DashProperty(i,e.d||{},"svg",this),this.initGradientData(i,e,s),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(i,e,s){this.transform={mProps:i,op:e,container:s},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,s,o,a){if(s===0)return"";var c=e.o,h=e.i,d=e.v,g,_=" M"+a.applyToPointStringified(d[0][0],d[0][1]);for(g=1;g<s;g+=1)_+=" C"+a.applyToPointStringified(c[g-1][0],c[g-1][1])+" "+a.applyToPointStringified(h[g][0],h[g][1])+" "+a.applyToPointStringified(d[g][0],d[g][1]);return o&&s&&(_+=" C"+a.applyToPointStringified(c[g-1][0],c[g-1][1])+" "+a.applyToPointStringified(h[0][0],h[0][1])+" "+a.applyToPointStringified(d[0][0],d[0][1]),_+="z"),_},SVGElementsRenderer=function(){var i=new Matrix,e=new Matrix,s={createRenderFunction:o};function o(nt){switch(nt.ty){case"fl":return d;case"gf":return _;case"gs":return g;case"st":return $;case"sh":case"el":case"rc":case"sr":return h;case"tr":return a;case"no":return c;default:return null}}function a(nt,et,rt){(rt||et.transform.op._mdf)&&et.transform.container.setAttribute("opacity",et.transform.op.v),(rt||et.transform.mProps._mdf)&&et.transform.container.setAttribute("transform",et.transform.mProps.v.to2dCSS())}function c(){}function h(nt,et,rt){var lt,ut,gt,at,st,ot,ct=et.styles.length,Pt=et.lvl,At,yt,pt,_t;for(ot=0;ot<ct;ot+=1){if(at=et.sh._mdf||rt,et.styles[ot].lvl<Pt){for(yt=e.reset(),pt=Pt-et.styles[ot].lvl,_t=et.transformers.length-1;!at&&pt>0;)at=et.transformers[_t].mProps._mdf||at,pt-=1,_t-=1;if(at)for(pt=Pt-et.styles[ot].lvl,_t=et.transformers.length-1;pt>0;)yt.multiply(et.transformers[_t].mProps.v),pt-=1,_t-=1}else yt=i;if(At=et.sh.paths,ut=At._length,at){for(gt="",lt=0;lt<ut;lt+=1)st=At.shapes[lt],st&&st._length&&(gt+=buildShapeString(st,st._length,st.c,yt));et.caches[ot]=gt}else gt=et.caches[ot];et.styles[ot].d+=nt.hd===!0?"":gt,et.styles[ot]._mdf=at||et.styles[ot]._mdf}}function d(nt,et,rt){var lt=et.style;(et.c._mdf||rt)&&lt.pElem.setAttribute("fill","rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||rt)&&lt.pElem.setAttribute("fill-opacity",et.o.v)}function g(nt,et,rt){_(nt,et,rt),$(nt,et,rt)}function _(nt,et,rt){var lt=et.gf,ut=et.g._hasOpacity,gt=et.s.v,at=et.e.v;if(et.o._mdf||rt){var st=nt.ty==="gf"?"fill-opacity":"stroke-opacity";et.style.pElem.setAttribute(st,et.o.v)}if(et.s._mdf||rt){var ot=nt.t===1?"x1":"cx",ct=ot==="x1"?"y1":"cy";lt.setAttribute(ot,gt[0]),lt.setAttribute(ct,gt[1]),ut&&!et.g._collapsable&&(et.of.setAttribute(ot,gt[0]),et.of.setAttribute(ct,gt[1]))}var Pt,At,yt,pt;if(et.g._cmdf||rt){Pt=et.cst;var _t=et.g.c;for(yt=Pt.length,At=0;At<yt;At+=1)pt=Pt[At],pt.setAttribute("offset",_t[At*4]+"%"),pt.setAttribute("stop-color","rgb("+_t[At*4+1]+","+_t[At*4+2]+","+_t[At*4+3]+")")}if(ut&&(et.g._omdf||rt)){var St=et.g.o;for(et.g._collapsable?Pt=et.cst:Pt=et.ost,yt=Pt.length,At=0;At<yt;At+=1)pt=Pt[At],et.g._collapsable||pt.setAttribute("offset",St[At*2]+"%"),pt.setAttribute("stop-opacity",St[At*2+1])}if(nt.t===1)(et.e._mdf||rt)&&(lt.setAttribute("x2",at[0]),lt.setAttribute("y2",at[1]),ut&&!et.g._collapsable&&(et.of.setAttribute("x2",at[0]),et.of.setAttribute("y2",at[1])));else{var xt;if((et.s._mdf||et.e._mdf||rt)&&(xt=Math.sqrt(Math.pow(gt[0]-at[0],2)+Math.pow(gt[1]-at[1],2)),lt.setAttribute("r",xt),ut&&!et.g._collapsable&&et.of.setAttribute("r",xt)),et.e._mdf||et.h._mdf||et.a._mdf||rt){xt||(xt=Math.sqrt(Math.pow(gt[0]-at[0],2)+Math.pow(gt[1]-at[1],2)));var It=Math.atan2(at[1]-gt[1],at[0]-gt[0]),wt=et.h.v;wt>=1?wt=.99:wt<=-1&&(wt=-.99);var Wt=xt*wt,Ut=Math.cos(It+et.a.v)*Wt+gt[0],Ct=Math.sin(It+et.a.v)*Wt+gt[1];lt.setAttribute("fx",Ut),lt.setAttribute("fy",Ct),ut&&!et.g._collapsable&&(et.of.setAttribute("fx",Ut),et.of.setAttribute("fy",Ct))}}}function $(nt,et,rt){var lt=et.style,ut=et.d;ut&&(ut._mdf||rt)&&ut.dashStr&&(lt.pElem.setAttribute("stroke-dasharray",ut.dashStr),lt.pElem.setAttribute("stroke-dashoffset",ut.dashoffset[0])),et.c&&(et.c._mdf||rt)&&lt.pElem.setAttribute("stroke","rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||rt)&&lt.pElem.setAttribute("stroke-opacity",et.o.v),(et.w._mdf||rt)&&(lt.pElem.setAttribute("stroke-width",et.w.v),lt.msElem&&lt.msElem.setAttribute("stroke-width",et.w.v))}return s}();function SVGShapeElement(i,e,s){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(i,e,s),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var i,e=this.shapes.length,s,o,a=this.stylesList.length,c,h=[],d=!1;for(o=0;o<a;o+=1){for(c=this.stylesList[o],d=!1,h.length=0,i=0;i<e;i+=1)s=this.shapes[i],s.styles.indexOf(c)!==-1&&(h.push(s),d=s._isAnimated||d);h.length>1&&d&&this.setShapesAsAnimated(h)}},SVGShapeElement.prototype.setShapesAsAnimated=function(i){var e,s=i.length;for(e=0;e<s;e+=1)i[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(i,e){var s,o=new SVGStyleData(i,e),a=o.pElem;if(i.ty==="st")s=new SVGStrokeStyleData(this,i,o);else if(i.ty==="fl")s=new SVGFillStyleData(this,i,o);else if(i.ty==="gf"||i.ty==="gs"){var c=i.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;s=new c(this,i,o),this.globalData.defs.appendChild(s.gf),s.maskId&&(this.globalData.defs.appendChild(s.ms),this.globalData.defs.appendChild(s.of),a.setAttribute("mask","url("+getLocationHref()+"#"+s.maskId+")"))}else i.ty==="no"&&(s=new SVGNoStyleData(this,i,o));return(i.ty==="st"||i.ty==="gs")&&(a.setAttribute("stroke-linecap",lineCapEnum[i.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[i.lj||2]),a.setAttribute("fill-opacity","0"),i.lj===1&&a.setAttribute("stroke-miterlimit",i.ml)),i.r===2&&a.setAttribute("fill-rule","evenodd"),i.ln&&a.setAttribute("id",i.ln),i.cl&&a.setAttribute("class",i.cl),i.bm&&(a.style["mix-blend-mode"]=getBlendMode(i.bm)),this.stylesList.push(o),this.addToAnimatedContents(i,s),s},SVGShapeElement.prototype.createGroupElement=function(i){var e=new ShapeGroupData;return i.ln&&e.gr.setAttribute("id",i.ln),i.cl&&e.gr.setAttribute("class",i.cl),i.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(i.bm)),e},SVGShapeElement.prototype.createTransformElement=function(i,e){var s=TransformPropertyFactory.getTransformProperty(this,i,this),o=new SVGTransformData(s,s.o,e);return this.addToAnimatedContents(i,o),o},SVGShapeElement.prototype.createShapeElement=function(i,e,s){var o=4;i.ty==="rc"?o=5:i.ty==="el"?o=6:i.ty==="sr"&&(o=7);var a=ShapePropertyFactory.getShapeProp(this,i,o,this),c=new SVGShapeData(e,s,a);return this.shapes.push(c),this.addShapeToModifiers(c),this.addToAnimatedContents(i,c),c},SVGShapeElement.prototype.addToAnimatedContents=function(i,e){for(var s=0,o=this.animatedContents.length;s<o;){if(this.animatedContents[s].element===e)return;s+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(i),element:e,data:i})},SVGShapeElement.prototype.setElementStyles=function(i){var e=i.styles,s,o=this.stylesList.length;for(s=0;s<o;s+=1)this.stylesList[s].closed||e.push(this.stylesList[s])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var i,e=this.itemsData.length;for(i=0;i<e;i+=1)this.prevViewData[i]=this.itemsData[i];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,i=0;i<e;i+=1)this.dynamicProperties[i].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(i,e,s,o,a,c,h){var d=[].concat(c),g,_=i.length-1,$,nt,et=[],rt=[],lt,ut,gt;for(g=_;g>=0;g-=1){if(gt=this.searchProcessedElement(i[g]),gt?e[g]=s[gt-1]:i[g]._render=h,i[g].ty==="fl"||i[g].ty==="st"||i[g].ty==="gf"||i[g].ty==="gs"||i[g].ty==="no")gt?e[g].style.closed=!1:e[g]=this.createStyleElement(i[g],a),i[g]._render&&e[g].style.pElem.parentNode!==o&&o.appendChild(e[g].style.pElem),et.push(e[g].style);else if(i[g].ty==="gr"){if(!gt)e[g]=this.createGroupElement(i[g]);else for(nt=e[g].it.length,$=0;$<nt;$+=1)e[g].prevViewData[$]=e[g].it[$];this.searchShapes(i[g].it,e[g].it,e[g].prevViewData,e[g].gr,a+1,d,h),i[g]._render&&e[g].gr.parentNode!==o&&o.appendChild(e[g].gr)}else i[g].ty==="tr"?(gt||(e[g]=this.createTransformElement(i[g],o)),lt=e[g].transform,d.push(lt)):i[g].ty==="sh"||i[g].ty==="rc"||i[g].ty==="el"||i[g].ty==="sr"?(gt||(e[g]=this.createShapeElement(i[g],d,a)),this.setElementStyles(e[g])):i[g].ty==="tm"||i[g].ty==="rd"||i[g].ty==="ms"||i[g].ty==="pb"||i[g].ty==="zz"||i[g].ty==="op"?(gt?(ut=e[g],ut.closed=!1):(ut=ShapeModifiers.getModifier(i[g].ty),ut.init(this,i[g]),e[g]=ut,this.shapeModifiers.push(ut)),rt.push(ut)):i[g].ty==="rp"&&(gt?(ut=e[g],ut.closed=!0):(ut=ShapeModifiers.getModifier(i[g].ty),e[g]=ut,ut.init(this,i,g,e),this.shapeModifiers.push(ut),h=!1),rt.push(ut));this.addProcessedElement(i[g],g+1)}for(_=et.length,g=0;g<_;g+=1)et[g].closed=!0;for(_=rt.length,g=0;g<_;g+=1)rt[g].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var i,e=this.stylesList.length;for(i=0;i<e;i+=1)this.stylesList[i].reset();for(this.renderShape(),i=0;i<e;i+=1)(this.stylesList[i]._mdf||this._isFirstFrame)&&(this.stylesList[i].msElem&&(this.stylesList[i].msElem.setAttribute("d",this.stylesList[i].d),this.stylesList[i].d="M0 0"+this.stylesList[i].d),this.stylesList[i].pElem.setAttribute("d",this.stylesList[i].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var i,e=this.animatedContents.length,s;for(i=0;i<e;i+=1)s=this.animatedContents[i],(this._isFirstFrame||s.element._isAnimated)&&s.data!==!0&&s.fn(s.data,s.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(i,e,s,o,a,c){this.o=i,this.sw=e,this.sc=s,this.fc=o,this.m=a,this.p=c,this._mdf={o:!0,sw:!!e,sc:!!s,fc:!!o,m:!0,p:!0}}LetterProps.prototype.update=function(i,e,s,o,a,c){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var h=!1;return this.o!==i&&(this.o=i,this._mdf.o=!0,h=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,h=!0),this.sc!==s&&(this.sc=s,this._mdf.sc=!0,h=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,h=!0),this.m!==a&&(this.m=a,this._mdf.m=!0,h=!0),c.length&&(this.p[0]!==c[0]||this.p[1]!==c[1]||this.p[4]!==c[4]||this.p[5]!==c[5]||this.p[12]!==c[12]||this.p[13]!==c[13])&&(this.p=c,this._mdf.p=!0,h=!0),h};function TextProperty(i,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=i.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=i,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(i,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},TextProperty.prototype.setCurrentData=function(i){i.__complete||this.completeTextData(i),this.currentData=i,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(i){this.effectsSequence.push(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(i){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!i)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,s=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var o,a=this.effectsSequence.length,c=i||this.data.d.k[this.keysIndex].s;for(o=0;o<a;o+=1)s!==this.keysIndex?c=this.effectsSequence[o](c,c.t):c=this.effectsSequence[o](this.currentData,c.t);e!==c&&this.setCurrentData(c),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var i=this.data.d.k,e=this.elem.comp.renderedFrame,s=0,o=i.length;s<=o-1&&!(s===o-1||i[s+1].t>e);)s+=1;return this.keysIndex!==s&&(this.keysIndex=s),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(i){for(var e=[],s=0,o=i.length,a,c,h=!1,d=!1,g="";s<o;)h=d,d=!1,a=i.charCodeAt(s),g=i.charAt(s),FontManager.isCombinedCharacter(a)?h=!0:a>=55296&&a<=56319?FontManager.isRegionalFlag(i,s)?g=i.substr(s,14):(c=i.charCodeAt(s+1),c>=56320&&c<=57343&&(FontManager.isModifier(a,c)?(g=i.substr(s,2),h=!0):FontManager.isFlagEmoji(i.substr(s,4))?g=i.substr(s,4):g=i.substr(s,2))):a>56319?(c=i.charCodeAt(s+1),FontManager.isVariationSelector(a)&&(h=!0)):FontManager.isZeroWidthJoiner(a)&&(h=!0,d=!0),h?(e[e.length-1]+=g,h=!1):e.push(g),s+=g.length;return e},TextProperty.prototype.completeTextData=function(i){i.__complete=!0;var e=this.elem.globalData.fontManager,s=this.data,o=[],a,c,h,d=0,g,_=s.m.g,$=0,nt=0,et=0,rt=[],lt=0,ut=0,gt,at,st=e.getFontByName(i.f),ot,ct=0,Pt=getFontProperties(st);i.fWeight=Pt.weight,i.fStyle=Pt.style,i.finalSize=i.s,i.finalText=this.buildFinalText(i.t),c=i.finalText.length,i.finalLineHeight=i.lh;var At=i.tr/1e3*i.finalSize,yt;if(i.sz)for(var pt=!0,_t=i.sz[0],St=i.sz[1],xt,It;pt;){It=this.buildFinalText(i.t),xt=0,lt=0,c=It.length,At=i.tr/1e3*i.finalSize;var wt=-1;for(a=0;a<c;a+=1)yt=It[a].charCodeAt(0),h=!1,It[a]===" "?wt=a:(yt===13||yt===3)&&(lt=0,h=!0,xt+=i.finalLineHeight||i.finalSize*1.2),e.chars?(ot=e.getCharData(It[a],st.fStyle,st.fFamily),ct=h?0:ot.w*i.finalSize/100):ct=e.measureText(It[a],i.f,i.finalSize),lt+ct>_t&&It[a]!==" "?(wt===-1?c+=1:a=wt,xt+=i.finalLineHeight||i.finalSize*1.2,It.splice(a,wt===a?1:0,"\r"),wt=-1,lt=0):(lt+=ct,lt+=At);xt+=st.ascent*i.finalSize/100,this.canResize&&i.finalSize>this.minimumFontSize&&St<xt?(i.finalSize-=1,i.finalLineHeight=i.finalSize*i.lh/i.s):(i.finalText=It,c=i.finalText.length,pt=!1)}lt=-At,ct=0;var Wt=0,Ut;for(a=0;a<c;a+=1)if(h=!1,Ut=i.finalText[a],yt=Ut.charCodeAt(0),yt===13||yt===3?(Wt=0,rt.push(lt),ut=lt>ut?lt:ut,lt=-2*At,g="",h=!0,et+=1):g=Ut,e.chars?(ot=e.getCharData(Ut,st.fStyle,e.getFontByName(i.f).fFamily),ct=h?0:ot.w*i.finalSize/100):ct=e.measureText(g,i.f,i.finalSize),Ut===" "?Wt+=ct+At:(lt+=ct+At+Wt,Wt=0),o.push({l:ct,an:ct,add:$,n:h,anIndexes:[],val:g,line:et,animatorJustifyOffset:0}),_==2){if($+=ct,g===""||g===" "||a===c-1){for((g===""||g===" ")&&($-=ct);nt<=a;)o[nt].an=$,o[nt].ind=d,o[nt].extra=ct,nt+=1;d+=1,$=0}}else if(_==3){if($+=ct,g===""||a===c-1){for(g===""&&($-=ct);nt<=a;)o[nt].an=$,o[nt].ind=d,o[nt].extra=ct,nt+=1;$=0,d+=1}}else o[d].ind=d,o[d].extra=0,d+=1;if(i.l=o,ut=lt>ut?lt:ut,rt.push(lt),i.sz)i.boxWidth=i.sz[0],i.justifyOffset=0;else switch(i.boxWidth=ut,i.j){case 1:i.justifyOffset=-i.boxWidth;break;case 2:i.justifyOffset=-i.boxWidth/2;break;default:i.justifyOffset=0}i.lineWidths=rt;var Ct=s.a,kt,dt;at=Ct.length;var vt,Ft,Lt=[];for(gt=0;gt<at;gt+=1){for(kt=Ct[gt],kt.a.sc&&(i.strokeColorAnim=!0),kt.a.sw&&(i.strokeWidthAnim=!0),(kt.a.fc||kt.a.fh||kt.a.fs||kt.a.fb)&&(i.fillColorAnim=!0),Ft=0,vt=kt.s.b,a=0;a<c;a+=1)dt=o[a],dt.anIndexes[gt]=Ft,(vt==1&&dt.val!==""||vt==2&&dt.val!==""&&dt.val!==" "||vt==3&&(dt.n||dt.val==" "||a==c-1)||vt==4&&(dt.n||a==c-1))&&(kt.s.rn===1&&Lt.push(Ft),Ft+=1);s.a[gt].s.totalChars=Ft;var Yt=-1,Qt;if(kt.s.rn===1)for(a=0;a<c;a+=1)dt=o[a],Yt!=dt.anIndexes[gt]&&(Yt=dt.anIndexes[gt],Qt=Lt.splice(Math.floor(Math.random()*Lt.length),1)[0]),dt.anIndexes[gt]=Qt}i.yOffset=i.finalLineHeight||i.finalSize*1.2,i.ls=i.ls||0,i.ascent=st.ascent*i.finalSize/100},TextProperty.prototype.updateDocumentData=function(i,e){e=e===void 0?this.keysIndex:e;var s=this.copyData({},this.data.d.k[e].s);s=this.copyData(s,i),this.data.d.k[e].s=s,this.recalculate(e),this.setCurrentData(s),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(i){var e=this.data.d.k[i].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(i){this.canResize=i,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(i){this.minimumFontSize=Math.floor(i)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var i=Math.max,e=Math.min,s=Math.floor;function o(c,h){this._currentTextLength=-1,this.k=!1,this.data=h,this.elem=c,this.comp=c.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(c),this.s=PropertyFactory.getProp(c,h.s||{k:0},0,0,this),"e"in h?this.e=PropertyFactory.getProp(c,h.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(c,h.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(c,h.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(c,h.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(c,h.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(c,h.a,0,.01,this),this.dynamicProperties.length||this.getValue()}o.prototype={getMult:function(h){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var d=0,g=0,_=1,$=1;this.ne.v>0?d=this.ne.v/100:g=-this.ne.v/100,this.xe.v>0?_=1-this.xe.v/100:$=1+this.xe.v/100;var nt=BezierFactory.getBezierEasing(d,g,_,$).get,et=0,rt=this.finalS,lt=this.finalE,ut=this.data.sh;if(ut===2)lt===rt?et=h>=lt?1:0:et=i(0,e(.5/(lt-rt)+(h-rt)/(lt-rt),1)),et=nt(et);else if(ut===3)lt===rt?et=h>=lt?0:1:et=1-i(0,e(.5/(lt-rt)+(h-rt)/(lt-rt),1)),et=nt(et);else if(ut===4)lt===rt?et=0:(et=i(0,e(.5/(lt-rt)+(h-rt)/(lt-rt),1)),et<.5?et*=2:et=1-2*(et-.5)),et=nt(et);else if(ut===5){if(lt===rt)et=0;else{var gt=lt-rt;h=e(i(0,h+.5-rt),lt-rt);var at=-gt/2+h,st=gt/2;et=Math.sqrt(1-at*at/(st*st))}et=nt(et)}else ut===6?(lt===rt?et=0:(h=e(i(0,h+.5-rt),lt-rt),et=(1+Math.cos(Math.PI+Math.PI*2*h/(lt-rt)))/2),et=nt(et)):(h>=s(rt)&&(h-rt<0?et=i(0,e(e(lt,1)-(rt-h),1)):et=i(0,e(lt-h,1))),et=nt(et));if(this.sm.v!==100){var ot=this.sm.v*.01;ot===0&&(ot=1e-8);var ct=.5-ot*.5;et<ct?et=0:(et=(et-ct)/ot,et>1&&(et=1))}return et*this.a.v},getValue:function(h){this.iterateDynamicProperties(),this._mdf=h||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,h&&this.data.r===2&&(this.e.v=this._currentTextLength);var d=this.data.r===2?1:100/this.data.totalChars,g=this.o.v/d,_=this.s.v/d+g,$=this.e.v/d+g;if(_>$){var nt=_;_=$,$=nt}this.finalS=_,this.finalE=$}},extendPrototype([DynamicPropertyContainer],o);function a(c,h,d){return new o(c,h)}return{getTextSelectorProp:a}}();function TextAnimatorDataProperty(i,e,s){var o={propType:!1},a=PropertyFactory.getProp,c=e.a;this.a={r:c.r?a(i,c.r,0,degToRads,s):o,rx:c.rx?a(i,c.rx,0,degToRads,s):o,ry:c.ry?a(i,c.ry,0,degToRads,s):o,sk:c.sk?a(i,c.sk,0,degToRads,s):o,sa:c.sa?a(i,c.sa,0,degToRads,s):o,s:c.s?a(i,c.s,1,.01,s):o,a:c.a?a(i,c.a,1,0,s):o,o:c.o?a(i,c.o,0,.01,s):o,p:c.p?a(i,c.p,1,0,s):o,sw:c.sw?a(i,c.sw,0,0,s):o,sc:c.sc?a(i,c.sc,1,0,s):o,fc:c.fc?a(i,c.fc,1,0,s):o,fh:c.fh?a(i,c.fh,0,0,s):o,fs:c.fs?a(i,c.fs,0,.01,s):o,fb:c.fb?a(i,c.fb,0,.01,s):o,t:c.t?a(i,c.t,0,0,s):o},this.s=TextSelectorProp.getTextSelectorProp(i,e.s,s),this.s.t=e.s.t}function TextAnimatorProperty(i,e,s){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=i,this._renderType=e,this._elem=s,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(s)}TextAnimatorProperty.prototype.searchProperties=function(){var i,e=this._textData.a.length,s,o=PropertyFactory.getProp;for(i=0;i<e;i+=1)s=this._textData.a[i],this._animatorsData[i]=new TextAnimatorDataProperty(this._elem,s,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(i,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var s=this._moreOptions.alignment.v,o=this._animatorsData,a=this._textData,c=this.mHelper,h=this._renderType,d=this.renderedLetters.length,g,_,$,nt,et=i.l,rt,lt,ut,gt,at,st,ot,ct,Pt,At,yt,pt,_t,St,xt;if(this._hasMaskedPath){if(xt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var It=xt.v;this._pathData.r.v&&(It=It.reverse()),rt={tLength:0,segments:[]},nt=It._length-1;var wt;for(pt=0,$=0;$<nt;$+=1)wt=bez.buildBezierData(It.v[$],It.v[$+1],[It.o[$][0]-It.v[$][0],It.o[$][1]-It.v[$][1]],[It.i[$+1][0]-It.v[$+1][0],It.i[$+1][1]-It.v[$+1][1]]),rt.tLength+=wt.segmentLength,rt.segments.push(wt),pt+=wt.segmentLength;$=nt,xt.v.c&&(wt=bez.buildBezierData(It.v[$],It.v[0],[It.o[$][0]-It.v[$][0],It.o[$][1]-It.v[$][1]],[It.i[0][0]-It.v[0][0],It.i[0][1]-It.v[0][1]]),rt.tLength+=wt.segmentLength,rt.segments.push(wt),pt+=wt.segmentLength),this._pathData.pi=rt}if(rt=this._pathData.pi,lt=this._pathData.f.v,ot=0,st=1,gt=0,at=!0,At=rt.segments,lt<0&&xt.v.c)for(rt.tLength<Math.abs(lt)&&(lt=-Math.abs(lt)%rt.tLength),ot=At.length-1,Pt=At[ot].points,st=Pt.length-1;lt<0;)lt+=Pt[st].partialLength,st-=1,st<0&&(ot-=1,Pt=At[ot].points,st=Pt.length-1);Pt=At[ot].points,ct=Pt[st-1],ut=Pt[st],yt=ut.partialLength}nt=et.length,g=0,_=0;var Wt=i.finalSize*1.2*.714,Ut=!0,Ct,kt,dt,vt,Ft;vt=o.length;var Lt,Yt=-1,Qt,tr,Mt,mt=lt,Rt=ot,Ot=st,Gt=-1,Kt,Xt,ar,hr,Zt,pr,br,Tr,Sr="",zr=this.defaultPropsArray,Or;if(i.j===2||i.j===1){var Dr=0,Br=0,Pr=i.j===2?-.5:-1,Er=0,kr=!0;for($=0;$<nt;$+=1)if(et[$].n){for(Dr&&(Dr+=Br);Er<$;)et[Er].animatorJustifyOffset=Dr,Er+=1;Dr=0,kr=!0}else{for(dt=0;dt<vt;dt+=1)Ct=o[dt].a,Ct.t.propType&&(kr&&i.j===2&&(Br+=Ct.t.v*Pr),kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),Lt.length?Dr+=Ct.t.v*Lt[0]*Pr:Dr+=Ct.t.v*Lt*Pr);kr=!1}for(Dr&&(Dr+=Br);Er<$;)et[Er].animatorJustifyOffset=Dr,Er+=1}for($=0;$<nt;$+=1){if(c.reset(),Kt=1,et[$].n)g=0,_+=i.yOffset,_+=Ut?1:0,lt=mt,Ut=!1,this._hasMaskedPath&&(ot=Rt,st=Ot,Pt=At[ot].points,ct=Pt[st-1],ut=Pt[st],yt=ut.partialLength,gt=0),Sr="",Tr="",pr="",Or="",zr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Gt!==et[$].line){switch(i.j){case 1:lt+=pt-i.lineWidths[et[$].line];break;case 2:lt+=(pt-i.lineWidths[et[$].line])/2;break}Gt=et[$].line}Yt!==et[$].ind&&(et[Yt]&&(lt+=et[Yt].extra),lt+=et[$].an/2,Yt=et[$].ind),lt+=s[0]*et[$].an*.005;var dr=0;for(dt=0;dt<vt;dt+=1)Ct=o[dt].a,Ct.p.propType&&(kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),Lt.length?dr+=Ct.p.v[0]*Lt[0]:dr+=Ct.p.v[0]*Lt),Ct.a.propType&&(kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),Lt.length?dr+=Ct.a.v[0]*Lt[0]:dr+=Ct.a.v[0]*Lt);for(at=!0,this._pathData.a.v&&(lt=et[0].an*.5+(pt-this._pathData.f.v-et[0].an*.5-et[et.length-1].an*.5)*Yt/(nt-1),lt+=this._pathData.f.v);at;)gt+yt>=lt+dr||!Pt?(_t=(lt+dr-gt)/ut.partialLength,tr=ct.point[0]+(ut.point[0]-ct.point[0])*_t,Mt=ct.point[1]+(ut.point[1]-ct.point[1])*_t,c.translate(-s[0]*et[$].an*.005,-(s[1]*Wt)*.01),at=!1):Pt&&(gt+=ut.partialLength,st+=1,st>=Pt.length&&(st=0,ot+=1,At[ot]?Pt=At[ot].points:xt.v.c?(st=0,ot=0,Pt=At[ot].points):(gt-=ut.partialLength,Pt=null)),Pt&&(ct=ut,ut=Pt[st],yt=ut.partialLength));Qt=et[$].an/2-et[$].add,c.translate(-Qt,0,0)}else Qt=et[$].an/2-et[$].add,c.translate(-Qt,0,0),c.translate(-s[0]*et[$].an*.005,-s[1]*Wt*.01,0);for(dt=0;dt<vt;dt+=1)Ct=o[dt].a,Ct.t.propType&&(kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),(g!==0||i.j!==0)&&(this._hasMaskedPath?Lt.length?lt+=Ct.t.v*Lt[0]:lt+=Ct.t.v*Lt:Lt.length?g+=Ct.t.v*Lt[0]:g+=Ct.t.v*Lt));for(i.strokeWidthAnim&&(ar=i.sw||0),i.strokeColorAnim&&(i.sc?Xt=[i.sc[0],i.sc[1],i.sc[2]]:Xt=[0,0,0]),i.fillColorAnim&&i.fc&&(hr=[i.fc[0],i.fc[1],i.fc[2]]),dt=0;dt<vt;dt+=1)Ct=o[dt].a,Ct.a.propType&&(kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),Lt.length?c.translate(-Ct.a.v[0]*Lt[0],-Ct.a.v[1]*Lt[1],Ct.a.v[2]*Lt[2]):c.translate(-Ct.a.v[0]*Lt,-Ct.a.v[1]*Lt,Ct.a.v[2]*Lt));for(dt=0;dt<vt;dt+=1)Ct=o[dt].a,Ct.s.propType&&(kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),Lt.length?c.scale(1+(Ct.s.v[0]-1)*Lt[0],1+(Ct.s.v[1]-1)*Lt[1],1):c.scale(1+(Ct.s.v[0]-1)*Lt,1+(Ct.s.v[1]-1)*Lt,1));for(dt=0;dt<vt;dt+=1){if(Ct=o[dt].a,kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),Ct.sk.propType&&(Lt.length?c.skewFromAxis(-Ct.sk.v*Lt[0],Ct.sa.v*Lt[1]):c.skewFromAxis(-Ct.sk.v*Lt,Ct.sa.v*Lt)),Ct.r.propType&&(Lt.length?c.rotateZ(-Ct.r.v*Lt[2]):c.rotateZ(-Ct.r.v*Lt)),Ct.ry.propType&&(Lt.length?c.rotateY(Ct.ry.v*Lt[1]):c.rotateY(Ct.ry.v*Lt)),Ct.rx.propType&&(Lt.length?c.rotateX(Ct.rx.v*Lt[0]):c.rotateX(Ct.rx.v*Lt)),Ct.o.propType&&(Lt.length?Kt+=(Ct.o.v*Lt[0]-Kt)*Lt[0]:Kt+=(Ct.o.v*Lt-Kt)*Lt),i.strokeWidthAnim&&Ct.sw.propType&&(Lt.length?ar+=Ct.sw.v*Lt[0]:ar+=Ct.sw.v*Lt),i.strokeColorAnim&&Ct.sc.propType)for(Zt=0;Zt<3;Zt+=1)Lt.length?Xt[Zt]+=(Ct.sc.v[Zt]-Xt[Zt])*Lt[0]:Xt[Zt]+=(Ct.sc.v[Zt]-Xt[Zt])*Lt;if(i.fillColorAnim&&i.fc){if(Ct.fc.propType)for(Zt=0;Zt<3;Zt+=1)Lt.length?hr[Zt]+=(Ct.fc.v[Zt]-hr[Zt])*Lt[0]:hr[Zt]+=(Ct.fc.v[Zt]-hr[Zt])*Lt;Ct.fh.propType&&(Lt.length?hr=addHueToRGB(hr,Ct.fh.v*Lt[0]):hr=addHueToRGB(hr,Ct.fh.v*Lt)),Ct.fs.propType&&(Lt.length?hr=addSaturationToRGB(hr,Ct.fs.v*Lt[0]):hr=addSaturationToRGB(hr,Ct.fs.v*Lt)),Ct.fb.propType&&(Lt.length?hr=addBrightnessToRGB(hr,Ct.fb.v*Lt[0]):hr=addBrightnessToRGB(hr,Ct.fb.v*Lt))}}for(dt=0;dt<vt;dt+=1)Ct=o[dt].a,Ct.p.propType&&(kt=o[dt].s,Lt=kt.getMult(et[$].anIndexes[dt],a.a[dt].s.totalChars),this._hasMaskedPath?Lt.length?c.translate(0,Ct.p.v[1]*Lt[0],-Ct.p.v[2]*Lt[1]):c.translate(0,Ct.p.v[1]*Lt,-Ct.p.v[2]*Lt):Lt.length?c.translate(Ct.p.v[0]*Lt[0],Ct.p.v[1]*Lt[1],-Ct.p.v[2]*Lt[2]):c.translate(Ct.p.v[0]*Lt,Ct.p.v[1]*Lt,-Ct.p.v[2]*Lt));if(i.strokeWidthAnim&&(pr=ar<0?0:ar),i.strokeColorAnim&&(br="rgb("+Math.round(Xt[0]*255)+","+Math.round(Xt[1]*255)+","+Math.round(Xt[2]*255)+")"),i.fillColorAnim&&i.fc&&(Tr="rgb("+Math.round(hr[0]*255)+","+Math.round(hr[1]*255)+","+Math.round(hr[2]*255)+")"),this._hasMaskedPath){if(c.translate(0,-i.ls),c.translate(0,s[1]*Wt*.01+_,0),this._pathData.p.v){St=(ut.point[1]-ct.point[1])/(ut.point[0]-ct.point[0]);var vr=Math.atan(St)*180/Math.PI;ut.point[0]<ct.point[0]&&(vr+=180),c.rotate(-vr*Math.PI/180)}c.translate(tr,Mt,0),lt-=s[0]*et[$].an*.005,et[$+1]&&Yt!==et[$+1].ind&&(lt+=et[$].an/2,lt+=i.tr*.001*i.finalSize)}else{switch(c.translate(g,_,0),i.ps&&c.translate(i.ps[0],i.ps[1]+i.ascent,0),i.j){case 1:c.translate(et[$].animatorJustifyOffset+i.justifyOffset+(i.boxWidth-i.lineWidths[et[$].line]),0,0);break;case 2:c.translate(et[$].animatorJustifyOffset+i.justifyOffset+(i.boxWidth-i.lineWidths[et[$].line])/2,0,0);break}c.translate(0,-i.ls),c.translate(Qt,0,0),c.translate(s[0]*et[$].an*.005,s[1]*Wt*.01,0),g+=et[$].l+i.tr*.001*i.finalSize}h==="html"?Sr=c.toCSS():h==="svg"?Sr=c.to2dCSS():zr=[c.props[0],c.props[1],c.props[2],c.props[3],c.props[4],c.props[5],c.props[6],c.props[7],c.props[8],c.props[9],c.props[10],c.props[11],c.props[12],c.props[13],c.props[14],c.props[15]],Or=Kt}d<=$?(Ft=new LetterProps(Or,pr,br,Tr,Sr,zr),this.renderedLetters.push(Ft),d+=1,this.lettersChangedFlag=!0):(Ft=this.renderedLetters[$],this.lettersChangedFlag=Ft.update(Or,pr,br,Tr,Sr,zr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(i,e,s){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(i,e,s),this.textProperty=new TextProperty(this,i.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(i.t,this.renderType,this),this.initTransform(i,e,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(i){this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange)},ITextElement.prototype.createPathShape=function(i,e){var s,o=e.length,a,c="";for(s=0;s<o;s+=1)e[s].ty==="sh"&&(a=e[s].ks.k,c+=buildShapeString(a,a.i.length,!0,i));return c},ITextElement.prototype.updateDocumentData=function(i,e){this.textProperty.updateDocumentData(i,e)},ITextElement.prototype.canResizeFont=function(i){this.textProperty.canResizeFont(i)},ITextElement.prototype.setMinimumFontSize=function(i){this.textProperty.setMinimumFontSize(i)},ITextElement.prototype.applyTextPropertiesToMatrix=function(i,e,s,o,a){switch(i.ps&&e.translate(i.ps[0],i.ps[1]+i.ascent,0),e.translate(0,-i.ls,0),i.j){case 1:e.translate(i.justifyOffset+(i.boxWidth-i.lineWidths[s]),0,0);break;case 2:e.translate(i.justifyOffset+(i.boxWidth-i.lineWidths[s])/2,0,0);break}e.translate(o,a,0)},ITextElement.prototype.buildColor=function(i){return"rgb("+Math.round(i[0]*255)+","+Math.round(i[1]*255)+","+Math.round(i[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(i,e,s){this.textSpans=[],this.renderType="svg",this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(i){for(var e=0,s=i.length,o=[],a="";e<s;)i[e]==="\r"||i[e]===""?(o.push(a),a=""):a+=i[e],e+=1;return o.push(a),o},SVGTextLottieElement.prototype.buildShapeData=function(i,e){if(i.shapes&&i.shapes.length){var s=i.shapes[0];if(s.it){var o=s.it[s.it.length-1];o.s&&(o.s.k[0]=e,o.s.k[1]=e)}}return i},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var i,e,s=this.textProperty.currentData;this.renderedLetters=createSizedArray(s?s.l.length:0),s.fc?this.layerElement.setAttribute("fill",this.buildColor(s.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),s.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(s.sc)),this.layerElement.setAttribute("stroke-width",s.sw)),this.layerElement.setAttribute("font-size",s.finalSize);var o=this.globalData.fontManager.getFontByName(s.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var a=s.fWeight,c=s.fStyle;this.layerElement.setAttribute("font-style",c),this.layerElement.setAttribute("font-weight",a)}this.layerElement.setAttribute("aria-label",s.t);var h=s.l||[],d=!!this.globalData.fontManager.chars;e=h.length;var g,_=this.mHelper,$="",nt=this.data.singleShape,et=0,rt=0,lt=!0,ut=s.tr*.001*s.finalSize;if(nt&&!d&&!s.sz){var gt=this.textContainer,at="start";switch(s.j){case 1:at="end";break;case 2:at="middle";break;default:at="start";break}gt.setAttribute("text-anchor",at),gt.setAttribute("letter-spacing",ut);var st=this.buildTextContents(s.finalText);for(e=st.length,rt=s.ps?s.ps[1]+s.ascent:0,i=0;i<e;i+=1)g=this.textSpans[i].span||createNS("tspan"),g.textContent=st[i],g.setAttribute("x",0),g.setAttribute("y",rt),g.style.display="inherit",gt.appendChild(g),this.textSpans[i]||(this.textSpans[i]={span:null,glyph:null}),this.textSpans[i].span=g,rt+=s.finalLineHeight;this.layerElement.appendChild(gt)}else{var ot=this.textSpans.length,ct;for(i=0;i<e;i+=1){if(this.textSpans[i]||(this.textSpans[i]={span:null,childSpan:null,glyph:null}),!d||!nt||i===0){if(g=ot>i?this.textSpans[i].span:createNS(d?"g":"text"),ot<=i){if(g.setAttribute("stroke-linecap","butt"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit","4"),this.textSpans[i].span=g,d){var Pt=createNS("g");g.appendChild(Pt),this.textSpans[i].childSpan=Pt}this.textSpans[i].span=g,this.layerElement.appendChild(g)}g.style.display="inherit"}if(_.reset(),nt&&(h[i].n&&(et=-ut,rt+=s.yOffset,rt+=lt?1:0,lt=!1),this.applyTextPropertiesToMatrix(s,_,h[i].line,et,rt),et+=h[i].l||0,et+=ut),d){ct=this.globalData.fontManager.getCharData(s.finalText[i],o.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily);var At;if(ct.t===1)At=new SVGCompElement(ct.data,this.globalData,this);else{var yt=emptyShapeData;ct.data&&ct.data.shapes&&(yt=this.buildShapeData(ct.data,s.finalSize)),At=new SVGShapeElement(yt,this.globalData,this)}if(this.textSpans[i].glyph){var pt=this.textSpans[i].glyph;this.textSpans[i].childSpan.removeChild(pt.layerElement),pt.destroy()}this.textSpans[i].glyph=At,At._debug=!0,At.prepareFrame(0),At.renderFrame(),this.textSpans[i].childSpan.appendChild(At.layerElement),ct.t===1&&this.textSpans[i].childSpan.setAttribute("transform","scale("+s.finalSize/100+","+s.finalSize/100+")")}else nt&&g.setAttribute("transform","translate("+_.props[12]+","+_.props[13]+")"),g.textContent=h[i].val,g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}nt&&g&&g.setAttribute("d",$)}for(;i<this.textSpans.length;)this.textSpans[i].span.style.display="none",i+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var i=this.layerElement.getBBox();this.bbox={top:i.y,left:i.x,width:i.width,height:i.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var i,e=this.textSpans.length,s;for(this.renderedFrame=this.comp.renderedFrame,i=0;i<e;i+=1)s=this.textSpans[i].glyph,s&&(s.prepareFrame(this.comp.renderedFrame-this.data.st),s._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var i,e,s=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;e=o.length;var a,c,h;for(i=0;i<e;i+=1)o[i].n||(a=s[i],c=this.textSpans[i].span,h=this.textSpans[i].glyph,h&&h.renderFrame(),a._mdf.m&&c.setAttribute("transform",a.m),a._mdf.o&&c.setAttribute("opacity",a.o),a._mdf.sw&&c.setAttribute("stroke-width",a.sw),a._mdf.sc&&c.setAttribute("stroke",a.sc),a._mdf.fc&&c.setAttribute("fill",a.fc))}};function ISolidElement(i,e,s){this.initElement(i,e,s)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var i=createNS("rect");i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),this.layerElement.appendChild(i)};function NullElement(i,e,s){this.initFrame(),this.initBaseData(i,e,s),this.initFrame(),this.initTransform(i,e,s),this.initHierarchy()}NullElement.prototype.prepareFrame=function(i){this.prepareProperties(i,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(i){return new NullElement(i,this.globalData,this)},SVGRendererBase.prototype.createShape=function(i){return new SVGShapeElement(i,this.globalData,this)},SVGRendererBase.prototype.createText=function(i){return new SVGTextLottieElement(i,this.globalData,this)},SVGRendererBase.prototype.createImage=function(i){return new IImageElement(i,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(i){return new ISolidElement(i,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(i){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+i.w+" "+i.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",i.w),this.svgElement.setAttribute("height",i.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(i,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=i;var s=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",i.w),o.setAttribute("height",i.h),o.setAttribute("x",0),o.setAttribute("y",0);var a=createElementID();s.setAttribute("id",a),s.appendChild(o),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+a+")"),e.appendChild(s),this.layers=i.layers,this.elements=createSizedArray(i.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var i,e=this.layers?this.layers.length:0;for(i=0;i<e;i+=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(i){var e=0,s=this.layers.length;for(e=0;e<s;e+=1)if(this.layers[e].ind===i)return e;return-1},SVGRendererBase.prototype.buildItem=function(i){var e=this.elements;if(!(e[i]||this.layers[i].ty===99)){e[i]=!0;var s=this.createItem(this.layers[i]);if(e[i]=s,getExpressionsPlugin()&&(this.layers[i].ty===0&&this.globalData.projectInterface.registerComposition(s),s.initExpressions()),this.appendElementInPos(s,i),this.layers[i].tt){var o="tp"in this.layers[i]?this.findIndexByInd(this.layers[i].tp):i-1;if(o===-1)return;if(!this.elements[o]||this.elements[o]===!0)this.buildItem(o),this.addPendingElement(s);else{var a=e[o],c=a.getMatte(this.layers[i].tt);s.setMatte(c)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();if(i.checkParenting(),i.data.tt)for(var e=0,s=this.elements.length;e<s;){if(this.elements[e]===i){var o="tp"in i.data?this.findIndexByInd(i.data.tp):e-1,a=this.elements[o],c=a.getMatte(this.layers[e].tt);i.setMatte(c);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(i){if(!(this.renderedFrame===i||this.destroyed)){i===null?i=this.renderedFrame:this.renderedFrame=i,this.globalData.frameNum=i,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=i,this.globalData._mdf=!1;var e,s=this.layers.length;for(this.completeLayers||this.checkLayers(i),e=s-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(i-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<s;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(i,e){var s=i.getBaseElement();if(s){for(var o=0,a;o<e;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement()&&(a=this.elements[o].getBaseElement()),o+=1;a?this.layerElement.insertBefore(s,a):this.layerElement.appendChild(s)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(i,e,s){this.initFrame(),this.initBaseData(i,e,s),this.initTransform(i,e,s),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(i){if(this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=i/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var s,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),s=o-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&(this.elements[s].prepareFrame(this.renderedFrame-this.layers[s].st),this.elements[s]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var i,e=this.layers.length;for(i=0;i<e;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()},ICompElement.prototype.setElements=function(i){this.elements=i},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var i,e=this.layers.length;for(i=0;i<e;i+=1)this.elements[i]&&this.elements[i].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(i,e,s){this.layers=i.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(i,e,s),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(i){return new SVGCompElement(i,this.globalData,this)};function SVGRenderer(i,e){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var s="";if(e&&e.title){var o=createNS("title"),a=createElementID();o.setAttribute("id",a),o.textContent=e.title,this.svgElement.appendChild(o),s+=a}if(e&&e.description){var c=createNS("desc"),h=createElementID();c.setAttribute("id",h),c.textContent=e.description,this.svgElement.appendChild(c),s+=" "+h}s&&this.svgElement.setAttribute("aria-labelledby",s);var d=createNS("defs");this.svgElement.appendChild(d);var g=createNS("g");this.svgElement.appendChild(g),this.layerElement=g,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:d,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(i){return new SVGCompElement(i,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var s,o=e.length,a="_";for(s=0;s<o;s+=1)a+=e[s].transform.key+"_";var c=this.sequences[a];return c||(c={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[a]=c,this.sequenceList.push(c)),c},processSequence:function(e,s){for(var o=0,a=e.transforms.length,c=s;o<a&&!s;){if(e.transforms[o].transform.mProps._mdf){c=!0;break}o+=1}if(c)for(e.finalTransform.reset(),o=a-1;o>=0;o-=1)e.finalTransform.multiply(e.transforms[o].transform.mProps.v);e._mdf=c},processSequences:function(e){var s,o=this.sequenceList.length;for(s=0;s<o;s+=1)this.processSequence(this.sequenceList[s],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",s=null,o=null,a=null;function c(){var g=createNS("svg"),_=createNS("filter"),$=createNS("feColorMatrix");return _.setAttribute("id",e),$.setAttribute("type","matrix"),$.setAttribute("color-interpolation-filters","sRGB"),$.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),_.appendChild($),g.appendChild(_),g.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(g.style.display="none"),g}function h(){s||(a=c(),document.body.appendChild(a),s=createTag("canvas"),o=s.getContext("2d"),o.filter="url(#"+e+")",o.fillStyle="rgba(0,0,0,0)",o.fillRect(0,0,1,1))}function d(g){return s||h(),s.width=g.width,s.height=g.height,o.filter="url(#"+e+")",s}return{load:h,get:d}};function createCanvas(i,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(i,e);var s=createTag("canvas");return s.width=i,s.height=e,s}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(i){var e,s=i.data.ef?i.data.ef.length:0;this.filters=[];var o;for(e=0;e<s;e+=1){o=null;var a=i.data.ef[e].ty;if(registeredEffects[a]){var c=registeredEffects[a].effect;o=new c(i.effectsManager.effectElements[e],i)}o&&this.filters.push(o)}this.filters.length&&i.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(i){var e,s=this.filters.length;for(e=0;e<s;e+=1)this.filters[e].renderFrame(i)},CVEffects.prototype.getEffects=function(i){var e,s=this.filters.length,o=[];for(e=0;e<s;e+=1)this.filters[e].type===i&&o.push(this.filters[e]);return o};function registerEffect(i,e){registeredEffects[i]={effect:e}}function CVMaskElement(i,e){this.data=i,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var s,o=this.masksProperties.length,a=!1;for(s=0;s<o;s+=1)this.masksProperties[s].mode!=="n"&&(a=!0),this.viewData[s]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[s],3);this.hasMasks=a,a&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var i=this.element.finalTransform.mat,e=this.element.canvasContext,s,o=this.masksProperties.length,a,c,h;for(e.beginPath(),s=0;s<o;s+=1)if(this.masksProperties[s].mode!=="n"){this.masksProperties[s].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),h=this.viewData[s].v,a=i.applyToPointArray(h.v[0][0],h.v[0][1],0),e.moveTo(a[0],a[1]);var d,g=h._length;for(d=1;d<g;d+=1)c=i.applyToTriplePoints(h.o[d-1],h.i[d],h.v[d]),e.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);c=i.applyToTriplePoints(h.o[d-1],h.i[0],h.v[0]),e.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,s=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(s);var o=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(o),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var s=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=s}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],s=e.getContext("2d");this.clearCanvas(s),s.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],s=e.getContext("2d");this.clearCanvas(s),s.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var o=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(o.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var a=assetLoader.getLumaCanvas(this.canvasContext.canvas),c=a.getContext("2d");c.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(a,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var s=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(s),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(s),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(i,e,s,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var a=4;e.ty==="rc"?a=5:e.ty==="el"?a=6:e.ty==="sr"&&(a=7),this.sh=ShapePropertyFactory.getShapeProp(i,e,a,i);var c,h=s.length,d;for(c=0;c<h;c+=1)s[c].closed||(d={transforms:o.addTransformSequence(s[c].transforms),trNodes:[]},this.styledShapes.push(d),s[c].elements.push(d))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(i,e,s){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(i,e){var s={data:i,type:i.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:i.hd===!0},o={};if(i.ty==="fl"||i.ty==="st"?(o.c=PropertyFactory.getProp(this,i.c,1,255,this),o.c.k||(s.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):(i.ty==="gf"||i.ty==="gs")&&(o.s=PropertyFactory.getProp(this,i.s,1,null,this),o.e=PropertyFactory.getProp(this,i.e,1,null,this),o.h=PropertyFactory.getProp(this,i.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,i.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,i.g,this)),o.o=PropertyFactory.getProp(this,i.o,0,.01,this),i.ty==="st"||i.ty==="gs"){if(s.lc=lineCapEnum[i.lc||2],s.lj=lineJoinEnum[i.lj||2],i.lj==1&&(s.ml=i.ml),o.w=PropertyFactory.getProp(this,i.w,0,null,this),o.w.k||(s.wi=o.w.v),i.d){var a=new DashProperty(this,i.d,"canvas",this);o.d=a,o.d.k||(s.da=o.d.dashArray,s.do=o.d.dashoffset[0])}}else s.r=i.r===2?"evenodd":"nonzero";return this.stylesList.push(s),o.style=s,o},CVShapeElement.prototype.createGroupElement=function(){var i={it:[],prevViewData:[]};return i},CVShapeElement.prototype.createTransformElement=function(i){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,i.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,i,this)}};return e},CVShapeElement.prototype.createShapeElement=function(i){var e=new CVShapeData(this,i,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var i,e=this.itemsData.length;for(i=0;i<e;i+=1)this.prevViewData[i]=this.itemsData[i];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,i=0;i<e;i+=1)this.dynamicProperties[i].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(i){var e,s=this.stylesList.length;for(e=0;e<s;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(i)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var i,e=this.stylesList.length;for(i=0;i<e;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.pop()},CVShapeElement.prototype.closeStyles=function(i){var e,s=i.length;for(e=0;e<s;e+=1)i[e].closed=!0},CVShapeElement.prototype.searchShapes=function(i,e,s,o,a){var c,h=i.length-1,d,g,_=[],$=[],nt,et,rt,lt=[].concat(a);for(c=h;c>=0;c-=1){if(nt=this.searchProcessedElement(i[c]),nt?e[c]=s[nt-1]:i[c]._shouldRender=o,i[c].ty==="fl"||i[c].ty==="st"||i[c].ty==="gf"||i[c].ty==="gs")nt?e[c].style.closed=!1:e[c]=this.createStyleElement(i[c],lt),_.push(e[c].style);else if(i[c].ty==="gr"){if(!nt)e[c]=this.createGroupElement(i[c]);else for(g=e[c].it.length,d=0;d<g;d+=1)e[c].prevViewData[d]=e[c].it[d];this.searchShapes(i[c].it,e[c].it,e[c].prevViewData,o,lt)}else i[c].ty==="tr"?(nt||(rt=this.createTransformElement(i[c]),e[c]=rt),lt.push(e[c]),this.addTransformToStyleList(e[c])):i[c].ty==="sh"||i[c].ty==="rc"||i[c].ty==="el"||i[c].ty==="sr"?nt||(e[c]=this.createShapeElement(i[c])):i[c].ty==="tm"||i[c].ty==="rd"||i[c].ty==="pb"||i[c].ty==="zz"||i[c].ty==="op"?(nt?(et=e[c],et.closed=!1):(et=ShapeModifiers.getModifier(i[c].ty),et.init(this,i[c]),e[c]=et,this.shapeModifiers.push(et)),$.push(et)):i[c].ty==="rp"&&(nt?(et=e[c],et.closed=!0):(et=ShapeModifiers.getModifier(i[c].ty),e[c]=et,et.init(this,i,c,e),this.shapeModifiers.push(et),o=!1),$.push(et));this.addProcessedElement(i[c],c+1)}for(this.removeTransformFromStyleList(),this.closeStyles(_),h=$.length,c=0;c<h;c+=1)$[c].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(i,e){(i._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=i.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var i,e=this.stylesList.length,s,o,a,c,h,d,g=this.globalData.renderer,_=this.globalData.canvasContext,$,nt;for(i=0;i<e;i+=1)if(nt=this.stylesList[i],$=nt.type,!(($==="st"||$==="gs")&&nt.wi===0||!nt.data._shouldRender||nt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(g.save(),h=nt.elements,$==="st"||$==="gs"?(g.ctxStrokeStyle($==="st"?nt.co:nt.grd),g.ctxLineWidth(nt.wi),g.ctxLineCap(nt.lc),g.ctxLineJoin(nt.lj),g.ctxMiterLimit(nt.ml||0)):g.ctxFillStyle($==="fl"?nt.co:nt.grd),g.ctxOpacity(nt.coOp),$!=="st"&&$!=="gs"&&_.beginPath(),g.ctxTransform(nt.preTransforms.finalTransform.props),o=h.length,s=0;s<o;s+=1){for(($==="st"||$==="gs")&&(_.beginPath(),nt.da&&(_.setLineDash(nt.da),_.lineDashOffset=nt.do)),d=h[s].trNodes,c=d.length,a=0;a<c;a+=1)d[a].t==="m"?_.moveTo(d[a].p[0],d[a].p[1]):d[a].t==="c"?_.bezierCurveTo(d[a].pts[0],d[a].pts[1],d[a].pts[2],d[a].pts[3],d[a].pts[4],d[a].pts[5]):_.closePath();($==="st"||$==="gs")&&(g.ctxStroke(),nt.da&&_.setLineDash(this.dashResetter))}$!=="st"&&$!=="gs"&&this.globalData.renderer.ctxFill(nt.r),g.restore()}},CVShapeElement.prototype.renderShape=function(i,e,s,o){var a,c=e.length-1,h;for(h=i,a=c;a>=0;a-=1)e[a].ty==="tr"?(h=s[a].transform,this.renderShapeTransform(i,h)):e[a].ty==="sh"||e[a].ty==="el"||e[a].ty==="rc"||e[a].ty==="sr"?this.renderPath(e[a],s[a]):e[a].ty==="fl"?this.renderFill(e[a],s[a],h):e[a].ty==="st"?this.renderStroke(e[a],s[a],h):e[a].ty==="gf"||e[a].ty==="gs"?this.renderGradientFill(e[a],s[a],h):e[a].ty==="gr"?this.renderShape(h,e[a].it,s[a].it):e[a].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(i,e){if(this._isFirstFrame||e._mdf||i.transforms._mdf){var s=i.trNodes,o=e.paths,a,c,h,d=o._length;s.length=0;var g=i.transforms.finalTransform;for(h=0;h<d;h+=1){var _=o.shapes[h];if(_&&_.v){for(c=_._length,a=1;a<c;a+=1)a===1&&s.push({t:"m",p:g.applyToPointArray(_.v[0][0],_.v[0][1],0)}),s.push({t:"c",pts:g.applyToTriplePoints(_.o[a-1],_.i[a],_.v[a])});c===1&&s.push({t:"m",p:g.applyToPointArray(_.v[0][0],_.v[0][1],0)}),_.c&&c&&(s.push({t:"c",pts:g.applyToTriplePoints(_.o[a-1],_.i[0],_.v[0])}),s.push({t:"z"}))}}i.trNodes=s}},CVShapeElement.prototype.renderPath=function(i,e){if(i.hd!==!0&&i._shouldRender){var s,o=e.styledShapes.length;for(s=0;s<o;s+=1)this.renderStyledShape(e.styledShapes[s],e.sh)}},CVShapeElement.prototype.renderFill=function(i,e,s){var o=e.style;(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||s._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*s.opacity)},CVShapeElement.prototype.renderGradientFill=function(i,e,s){var o=e.style,a;if(!o.grd||e.g._mdf||e.s._mdf||e.e._mdf||i.t!==1&&(e.h._mdf||e.a._mdf)){var c=this.globalData.canvasContext,h=e.s.v,d=e.e.v;if(i.t===1)a=c.createLinearGradient(h[0],h[1],d[0],d[1]);else{var g=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),_=Math.atan2(d[1]-h[1],d[0]-h[0]),$=e.h.v;$>=1?$=.99:$<=-1&&($=-.99);var nt=g*$,et=Math.cos(_+e.a.v)*nt+h[0],rt=Math.sin(_+e.a.v)*nt+h[1];a=c.createRadialGradient(et,rt,0,h[0],h[1],g)}var lt,ut=i.g.p,gt=e.g.c,at=1;for(lt=0;lt<ut;lt+=1)e.g._hasOpacity&&e.g._collapsable&&(at=e.g.o[lt*2+1]),a.addColorStop(gt[lt*4]/100,"rgba("+gt[lt*4+1]+","+gt[lt*4+2]+","+gt[lt*4+3]+","+at+")");o.grd=a}o.coOp=e.o.v*s.opacity},CVShapeElement.prototype.renderStroke=function(i,e,s){var o=e.style,a=e.d;a&&(a._mdf||this._isFirstFrame)&&(o.da=a.dashArray,o.do=a.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||s._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*s.opacity),(e.w._mdf||this._isFirstFrame)&&(o.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(i,e,s){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i.l?i.l.length:0);var e=!1;i.fc?(e=!0,this.values.fill=this.buildColor(i.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var s=!1;i.sc&&(s=!0,this.values.stroke=this.buildColor(i.sc),this.values.sWidth=i.sw);var o=this.globalData.fontManager.getFontByName(i.f),a,c,h=i.l,d=this.mHelper;this.stroke=s,this.values.fValue=i.finalSize+"px "+this.globalData.fontManager.getFontByName(i.f).fFamily,c=i.finalText.length;var g,_,$,nt,et,rt,lt,ut,gt,at,st=this.data.singleShape,ot=i.tr*.001*i.finalSize,ct=0,Pt=0,At=!0,yt=0;for(a=0;a<c;a+=1){g=this.globalData.fontManager.getCharData(i.finalText[a],o.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),_=g&&g.data||{},d.reset(),st&&h[a].n&&(ct=-ot,Pt+=i.yOffset,Pt+=At?1:0,At=!1),et=_.shapes?_.shapes[0].it:[],lt=et.length,d.scale(i.finalSize/100,i.finalSize/100),st&&this.applyTextPropertiesToMatrix(i,d,h[a].line,ct,Pt),gt=createSizedArray(lt-1);var pt=0;for(rt=0;rt<lt;rt+=1)if(et[rt].ty==="sh"){for(nt=et[rt].ks.k.i.length,ut=et[rt].ks.k,at=[],$=1;$<nt;$+=1)$===1&&at.push(d.applyToX(ut.v[0][0],ut.v[0][1],0),d.applyToY(ut.v[0][0],ut.v[0][1],0)),at.push(d.applyToX(ut.o[$-1][0],ut.o[$-1][1],0),d.applyToY(ut.o[$-1][0],ut.o[$-1][1],0),d.applyToX(ut.i[$][0],ut.i[$][1],0),d.applyToY(ut.i[$][0],ut.i[$][1],0),d.applyToX(ut.v[$][0],ut.v[$][1],0),d.applyToY(ut.v[$][0],ut.v[$][1],0));at.push(d.applyToX(ut.o[$-1][0],ut.o[$-1][1],0),d.applyToY(ut.o[$-1][0],ut.o[$-1][1],0),d.applyToX(ut.i[0][0],ut.i[0][1],0),d.applyToY(ut.i[0][0],ut.i[0][1],0),d.applyToX(ut.v[0][0],ut.v[0][1],0),d.applyToY(ut.v[0][0],ut.v[0][1],0)),gt[pt]=at,pt+=1}st&&(ct+=h[a].l,ct+=ot),this.textSpans[yt]?this.textSpans[yt].elem=gt:this.textSpans[yt]={elem:gt},yt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var i=this.canvasContext;i.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,s,o,a,c,h,d=this.textAnimator.renderedLetters,g=this.textProperty.currentData.l;s=g.length;var _,$=null,nt=null,et=null,rt,lt,ut=this.globalData.renderer;for(e=0;e<s;e+=1)if(!g[e].n){if(_=d[e],_&&(ut.save(),ut.ctxTransform(_.p),ut.ctxOpacity(_.o)),this.fill){for(_&&_.fc?$!==_.fc&&(ut.ctxFillStyle(_.fc),$=_.fc):$!==this.values.fill&&($=this.values.fill,ut.ctxFillStyle(this.values.fill)),rt=this.textSpans[e].elem,a=rt.length,this.globalData.canvasContext.beginPath(),o=0;o<a;o+=1)for(lt=rt[o],h=lt.length,this.globalData.canvasContext.moveTo(lt[0],lt[1]),c=2;c<h;c+=6)this.globalData.canvasContext.bezierCurveTo(lt[c],lt[c+1],lt[c+2],lt[c+3],lt[c+4],lt[c+5]);this.globalData.canvasContext.closePath(),ut.ctxFill()}if(this.stroke){for(_&&_.sw?et!==_.sw&&(et=_.sw,ut.ctxLineWidth(_.sw)):et!==this.values.sWidth&&(et=this.values.sWidth,ut.ctxLineWidth(this.values.sWidth)),_&&_.sc?nt!==_.sc&&(nt=_.sc,ut.ctxStrokeStyle(_.sc)):nt!==this.values.stroke&&(nt=this.values.stroke,ut.ctxStrokeStyle(this.values.stroke)),rt=this.textSpans[e].elem,a=rt.length,this.globalData.canvasContext.beginPath(),o=0;o<a;o+=1)for(lt=rt[o],h=lt.length,this.globalData.canvasContext.moveTo(lt[0],lt[1]),c=2;c<h;c+=6)this.globalData.canvasContext.bezierCurveTo(lt[c],lt[c+1],lt[c+2],lt[c+3],lt[c+4],lt[c+5]);this.globalData.canvasContext.closePath(),ut.ctxStroke()}_&&this.globalData.renderer.restore()}};function CVImageElement(i,e,s){this.assetData=e.getAssetData(i.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var i=createTag("canvas");i.width=this.assetData.w,i.height=this.assetData.h;var e=i.getContext("2d"),s=this.img.width,o=this.img.height,a=s/o,c=this.assetData.w/this.assetData.h,h,d,g=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>c&&g==="xMidYMid slice"||a<c&&g!=="xMidYMid slice"?(d=o,h=d*c):(h=s,d=h/c),e.drawImage(this.img,(s-h)/2,(o-d)/2,h,d,0,0,this.assetData.w,this.assetData.h),this.img=i}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(i,e,s){this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(i){return new CVShapeElement(i,this.globalData,this)},CanvasRendererBase.prototype.createText=function(i){return new CVTextElement(i,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(i){return new CVImageElement(i,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(i){return new CVSolidElement(i,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(i){i[0]===1&&i[1]===0&&i[4]===0&&i[5]===1&&i[12]===0&&i[13]===0||this.canvasContext.transform(i[0],i[1],i[4],i[5],i[12],i[13])},CanvasRendererBase.prototype.ctxOpacity=function(i){this.canvasContext.globalAlpha*=i<0?0:i},CanvasRendererBase.prototype.ctxFillStyle=function(i){this.canvasContext.fillStyle=i},CanvasRendererBase.prototype.ctxStrokeStyle=function(i){this.canvasContext.strokeStyle=i},CanvasRendererBase.prototype.ctxLineWidth=function(i){this.canvasContext.lineWidth=i},CanvasRendererBase.prototype.ctxLineCap=function(i){this.canvasContext.lineCap=i},CanvasRendererBase.prototype.ctxLineJoin=function(i){this.canvasContext.lineJoin=i},CanvasRendererBase.prototype.ctxMiterLimit=function(i){this.canvasContext.miterLimit=i},CanvasRendererBase.prototype.ctxFill=function(i){this.canvasContext.fill(i)},CanvasRendererBase.prototype.ctxFillRect=function(i,e,s,o){this.canvasContext.fillRect(i,e,s,o)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(i){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}i&&(this.globalData.blendMode="source-over"),this.contextData.restore(i)},CanvasRendererBase.prototype.configAnimation=function(i){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var s="0px 0px 0px";e.transformOrigin=s,e.mozTransformOrigin=s,e.webkitTransformOrigin=s,e["-webkit-transform"]=s,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=i,this.layers=i.layers,this.transformCanvas={w:i.w,h:i.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(i,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(i.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(i,e){this.reset();var s,o;i?(s=i,o=e,this.canvasContext.canvas.width=s,this.canvasContext.canvas.height=o):(this.animationItem.wrapper&&this.animationItem.container?(s=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight):(s=this.canvasContext.canvas.width,o=this.canvasContext.canvas.height),this.canvasContext.canvas.width=s*this.renderConfig.dpr,this.canvasContext.canvas.height=o*this.renderConfig.dpr);var a,c;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var h=this.renderConfig.preserveAspectRatio.split(" "),d=h[1]||"meet",g=h[0]||"xMidYMid",_=g.substr(0,4),$=g.substr(4);a=s/o,c=this.transformCanvas.w/this.transformCanvas.h,c>a&&d==="meet"||c<a&&d==="slice"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr)),_==="xMid"&&(c<a&&d==="meet"||c>a&&d==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(o/this.transformCanvas.h))/2*this.renderConfig.dpr:_==="xMax"&&(c<a&&d==="meet"||c>a&&d==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(o/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,$==="YMid"&&(c>a&&d==="meet"||c<a&&d==="slice")?this.transformCanvas.ty=(o-this.transformCanvas.h*(s/this.transformCanvas.w))/2*this.renderConfig.dpr:$==="YMax"&&(c>a&&d==="meet"||c<a&&d==="slice")?this.transformCanvas.ty=(o-this.transformCanvas.h*(s/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=o/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var i,e=this.layers?this.layers.length:0;for(i=e-1;i>=0;i-=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(i,e){if(!(this.renderedFrame===i&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||i===-1)){this.renderedFrame=i,this.globalData.frameNum=i-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=i;var s,o=this.layers.length;for(this.completeLayers||this.checkLayers(i),s=o-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].prepareFrame(i-this.layers[s].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),s=o-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(i){var e=this.elements;if(!(e[i]||this.layers[i].ty===99)){var s=this.createItem(this.layers[i],this,this.globalData);e[i]=s,s.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();i.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var i,e=15;for(i=0;i<e;i+=1){var s=new CanvasContext;this.stack[i]=s}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var i=this._length*2,e=0;for(e=this._length;e<i;e+=1)this.stack[e]=new CanvasContext;this._length=i},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(i){this.cArrPos-=1;var e=this.stack[this.cArrPos],s=e.transform,o,a=this.cTr.props;for(o=0;o<16;o+=1)a[o]=s[o];if(i){this.nativeContext.restore();var c=this.stack[this.cArrPos+1];this.appliedFillStyle=c.fillStyle,this.appliedStrokeStyle=c.strokeStyle,this.appliedLineWidth=c.lineWidth,this.appliedLineCap=c.lineCap,this.appliedLineJoin=c.lineJoin,this.appliedMiterLimit=c.miterLimit}this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),(i||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(i){i&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var s=this.stack[this.cArrPos],o;for(o=0;o<16;o+=1)s.transform[o]=e[o];this.cArrPos+=1;var a=this.stack[this.cArrPos];a.opacity=s.opacity,a.fillStyle=s.fillStyle,a.strokeStyle=s.strokeStyle,a.lineWidth=s.lineWidth,a.lineCap=s.lineCap,a.lineJoin=s.lineJoin,a.miterLimit=s.miterLimit},CVContextData.prototype.setOpacity=function(i){this.stack[this.cArrPos].opacity=i},CVContextData.prototype.setContext=function(i){this.nativeContext=i},CVContextData.prototype.fillStyle=function(i){this.stack[this.cArrPos].fillStyle!==i&&(this.currentFillStyle=i,this.stack[this.cArrPos].fillStyle=i)},CVContextData.prototype.strokeStyle=function(i){this.stack[this.cArrPos].strokeStyle!==i&&(this.currentStrokeStyle=i,this.stack[this.cArrPos].strokeStyle=i)},CVContextData.prototype.lineWidth=function(i){this.stack[this.cArrPos].lineWidth!==i&&(this.currentLineWidth=i,this.stack[this.cArrPos].lineWidth=i)},CVContextData.prototype.lineCap=function(i){this.stack[this.cArrPos].lineCap!==i&&(this.currentLineCap=i,this.stack[this.cArrPos].lineCap=i)},CVContextData.prototype.lineJoin=function(i){this.stack[this.cArrPos].lineJoin!==i&&(this.currentLineJoin=i,this.stack[this.cArrPos].lineJoin=i)},CVContextData.prototype.miterLimit=function(i){this.stack[this.cArrPos].miterLimit!==i&&(this.currentMiterLimit=i,this.stack[this.cArrPos].miterLimit=i)},CVContextData.prototype.transform=function(i){this.transformMat.cloneFromProps(i);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var s=e.props;this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13])},CVContextData.prototype.opacity=function(i){var e=this.stack[this.cArrPos].opacity;e*=i<0?0:i,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==i&&(this.nativeContext.globalAlpha=i,this.currentOpacity=i),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(i){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(i)},CVContextData.prototype.fillRect=function(i,e,s,o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(i,e,s,o)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(i,e,s){this.completeLayers=!1,this.layers=i.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(i,e,s),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var i=this.canvasContext;i.beginPath(),i.moveTo(0,0),i.lineTo(this.data.w,0),i.lineTo(this.data.w,this.data.h),i.lineTo(0,this.data.h),i.lineTo(0,0),i.clip();var e,s=this.layers.length;for(e=s-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var i,e=this.layers.length;for(i=e-1;i>=0;i-=1)this.elements[i]&&this.elements[i].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(i){return new CVCompElement(i,this.globalData,this)};function CanvasRenderer(i,e){this.animationItem=i,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(i){return new CVCompElement(i,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var s=this.finalTransform.mat.toCSS();e.transform=s,e.webkitTransform=s}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(i,e,s){this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var i;this.data.hasMask?(i=createNS("rect"),i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(i=createTag("div"),i.style.width=this.data.sw+"px",i.style.height=this.data.sh+"px",i.style.backgroundColor=this.data.sc),this.layerElement.appendChild(i)};function HShapeElement(i,e,s){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(i,e,s),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var i;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),i=this.svgElement;else{i=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.appendChild(this.shapesContainer),this.layerElement.appendChild(i)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=i},HShapeElement.prototype.getTransformedPoint=function(i,e){var s,o=i.length;for(s=0;s<o;s+=1)e=i[s].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(i,e){var s=i.sh.v,o=i.transformers,a,c=s._length,h,d,g,_;if(!(c<=1)){for(a=0;a<c-1;a+=1)h=this.getTransformedPoint(o,s.v[a]),d=this.getTransformedPoint(o,s.o[a]),g=this.getTransformedPoint(o,s.i[a+1]),_=this.getTransformedPoint(o,s.v[a+1]),this.checkBounds(h,d,g,_,e);s.c&&(h=this.getTransformedPoint(o,s.v[a]),d=this.getTransformedPoint(o,s.o[a]),g=this.getTransformedPoint(o,s.i[0]),_=this.getTransformedPoint(o,s.v[0]),this.checkBounds(h,d,g,_,e))}},HShapeElement.prototype.checkBounds=function(i,e,s,o,a){this.getBoundsOfCurve(i,e,s,o);var c=this.shapeBoundingBox;a.x=bmMin(c.left,a.x),a.xMax=bmMax(c.right,a.xMax),a.y=bmMin(c.top,a.y),a.yMax=bmMax(c.bottom,a.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(i,e,s,o){for(var a=[[i[0],o[0]],[i[1],o[1]]],c,h,d,g,_,$,nt,et=0;et<2;++et)h=6*i[et]-12*e[et]+6*s[et],c=-3*i[et]+9*e[et]-9*s[et]+3*o[et],d=3*e[et]-3*i[et],h|=0,c|=0,d|=0,c===0&&h===0||(c===0?(g=-d/h,g>0&&g<1&&a[et].push(this.calculateF(g,i,e,s,o,et))):(_=h*h-4*d*c,_>=0&&($=(-h+bmSqrt(_))/(2*c),$>0&&$<1&&a[et].push(this.calculateF($,i,e,s,o,et)),nt=(-h-bmSqrt(_))/(2*c),nt>0&&nt<1&&a[et].push(this.calculateF(nt,i,e,s,o,et)))));this.shapeBoundingBox.left=bmMin.apply(null,a[0]),this.shapeBoundingBox.top=bmMin.apply(null,a[1]),this.shapeBoundingBox.right=bmMax.apply(null,a[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,a[1])},HShapeElement.prototype.calculateF=function(i,e,s,o,a,c){return bmPow(1-i,3)*e[c]+3*bmPow(1-i,2)*i*s[c]+3*(1-i)*bmPow(i,2)*o[c]+bmPow(i,3)*a[c]},HShapeElement.prototype.calculateBoundingBox=function(i,e){var s,o=i.length;for(s=0;s<o;s+=1)i[s]&&i[s].sh?this.calculateShapeBoundingBox(i[s],e):i[s]&&i[s].it?this.calculateBoundingBox(i[s].it,e):i[s]&&i[s].style&&i[s].w&&this.expandStrokeBoundingBox(i[s].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(i,e){var s=0;if(i.keyframes){for(var o=0;o<i.keyframes.length;o+=1){var a=i.keyframes[o].s;a>s&&(s=a)}s*=i.mult}else s=i.v*i.mult;e.x-=s,e.xMax+=s,e.y-=s,e.yMax+=s},HShapeElement.prototype.currentBoxContains=function(i){return this.currentBBox.x<=i.x&&this.currentBBox.y<=i.y&&this.currentBBox.width+this.currentBBox.x>=i.x+i.width&&this.currentBBox.height+this.currentBBox.y>=i.y+i.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var i=this.tempBoundingBox,e=999999;if(i.x=e,i.xMax=-e,i.y=e,i.yMax=-e,this.calculateBoundingBox(this.itemsData,i),i.width=i.xMax<i.x?0:i.xMax-i.x,i.height=i.yMax<i.y?0:i.yMax-i.y,this.currentBoxContains(i))return;var s=!1;if(this.currentBBox.w!==i.width&&(this.currentBBox.w=i.width,this.shapeCont.setAttribute("width",i.width),s=!0),this.currentBBox.h!==i.height&&(this.currentBBox.h=i.height,this.shapeCont.setAttribute("height",i.height),s=!0),s||this.currentBBox.x!==i.x||this.currentBBox.y!==i.y){this.currentBBox.w=i.width,this.currentBBox.h=i.height,this.currentBBox.x=i.x,this.currentBBox.y=i.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,a="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=a,o.webkitTransform=a}}};function HTextElement(i,e,s){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var i=createNS("g");this.maskedElement.appendChild(i),this.innerElem=i}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i.l?i.l.length:0);var e=this.innerElem.style,s=i.fc?this.buildColor(i.fc):"rgba(0,0,0,0)";e.fill=s,e.color=s,i.sc&&(e.stroke=this.buildColor(i.sc),e.strokeWidth=i.sw+"px");var o=this.globalData.fontManager.getFontByName(i.f);if(!this.globalData.fontManager.chars)if(e.fontSize=i.finalSize+"px",e.lineHeight=i.finalSize+"px",o.fClass)this.innerElem.className=o.fClass;else{e.fontFamily=o.fFamily;var a=i.fWeight,c=i.fStyle;e.fontStyle=c,e.fontWeight=a}var h,d,g=i.l;d=g.length;var _,$,nt,et=this.mHelper,rt,lt="",ut=0;for(h=0;h<d;h+=1){if(this.globalData.fontManager.chars?(this.textPaths[ut]?_=this.textPaths[ut]:(_=createNS("path"),_.setAttribute("stroke-linecap",lineCapEnum[1]),_.setAttribute("stroke-linejoin",lineJoinEnum[2]),_.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[ut]?($=this.textSpans[ut],nt=$.children[0]):($=createTag("div"),$.style.lineHeight=0,nt=createNS("svg"),nt.appendChild(_),styleDiv($)))):this.isMasked?_=this.textPaths[ut]?this.textPaths[ut]:createNS("text"):this.textSpans[ut]?($=this.textSpans[ut],_=this.textPaths[ut]):($=createTag("span"),styleDiv($),_=createTag("span"),styleDiv(_),$.appendChild(_)),this.globalData.fontManager.chars){var gt=this.globalData.fontManager.getCharData(i.finalText[h],o.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),at;if(gt?at=gt.data:at=null,et.reset(),at&&at.shapes&&at.shapes.length&&(rt=at.shapes[0].it,et.scale(i.finalSize/100,i.finalSize/100),lt=this.createPathShape(et,rt),_.setAttribute("d",lt)),this.isMasked)this.innerElem.appendChild(_);else{if(this.innerElem.appendChild($),at&&at.shapes){document.body.appendChild(nt);var st=nt.getBBox();nt.setAttribute("width",st.width+2),nt.setAttribute("height",st.height+2),nt.setAttribute("viewBox",st.x-1+" "+(st.y-1)+" "+(st.width+2)+" "+(st.height+2));var ot=nt.style,ct="translate("+(st.x-1)+"px,"+(st.y-1)+"px)";ot.transform=ct,ot.webkitTransform=ct,g[h].yOffset=st.y-1}else nt.setAttribute("width",1),nt.setAttribute("height",1);$.appendChild(nt)}}else if(_.textContent=g[h].val,_.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(_);else{this.innerElem.appendChild($);var Pt=_.style,At="translate3d(0,"+-i.finalSize/1.2+"px,0)";Pt.transform=At,Pt.webkitTransform=At}this.isMasked?this.textSpans[ut]=_:this.textSpans[ut]=$,this.textSpans[ut].style.display="block",this.textPaths[ut]=_,ut+=1}for(;ut<this.textSpans.length;)this.textSpans[ut].style.display="none",ut+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var i;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),i=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";i.transform=e,i.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var s,o,a=0,c=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;o=h.length;var d,g,_;for(s=0;s<o;s+=1)h[s].n?a+=1:(g=this.textSpans[s],_=this.textPaths[s],d=c[a],a+=1,d._mdf.m&&(this.isMasked?g.setAttribute("transform",d.m):(g.style.webkitTransform=d.m,g.style.transform=d.m)),g.style.opacity=d.o,d.sw&&d._mdf.sw&&_.setAttribute("stroke-width",d.sw),d.sc&&d._mdf.sc&&_.setAttribute("stroke",d.sc),d.fc&&d._mdf.fc&&(_.setAttribute("fill",d.fc),_.style.color=d.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var $=this.innerElem.getBBox();this.currentBBox.w!==$.width&&(this.currentBBox.w=$.width,this.svgElement.setAttribute("width",$.width)),this.currentBBox.h!==$.height&&(this.currentBBox.h=$.height,this.svgElement.setAttribute("height",$.height));var nt=1;if(this.currentBBox.w!==$.width+nt*2||this.currentBBox.h!==$.height+nt*2||this.currentBBox.x!==$.x-nt||this.currentBBox.y!==$.y-nt){this.currentBBox.w=$.width+nt*2,this.currentBBox.h=$.height+nt*2,this.currentBBox.x=$.x-nt,this.currentBBox.y=$.y-nt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),i=this.svgElement.style;var et="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=et,i.webkitTransform=et}}}};function HCameraElement(i,e,s){this.initFrame(),this.initBaseData(i,e,s),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,i.pe,0,0,this),i.ks.p.s?(this.px=o(this,i.ks.p.x,1,0,this),this.py=o(this,i.ks.p.y,1,0,this),this.pz=o(this,i.ks.p.z,1,0,this)):this.p=o(this,i.ks.p,1,0,this),i.ks.a&&(this.a=o(this,i.ks.a,1,0,this)),i.ks.or.k.length&&i.ks.or.k[0].to){var a,c=i.ks.or.k.length;for(a=0;a<c;a+=1)i.ks.or.k[a].to=null,i.ks.or.k[a].ti=null}this.or=o(this,i.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,i.ks.rx,0,degToRads,this),this.ry=o(this,i.ks.ry,0,degToRads,this),this.rz=o(this,i.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var i,e=this.comp.threeDElements.length,s,o,a;for(i=0;i<e;i+=1)if(s=this.comp.threeDElements[i],s.type==="3d"){o=s.perspectiveElem.style,a=s.container.style;var c=this.pe.v+"px",h="0px 0px 0px",d="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.perspective=c,o.webkitPerspective=c,a.transformOrigin=h,a.mozTransformOrigin=h,a.webkitTransformOrigin=h,o.transform=d,o.webkitTransform=d}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var i=this._isFirstFrame,e,s;if(this.hierarchy)for(s=this.hierarchy.length,e=0;e<s;e+=1)i=this.hierarchy[e].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(s=this.hierarchy.length-1,e=s;e>=0;e-=1){var o=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var a;this.p?a=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:a=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var c=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)),h=[a[0]/c,a[1]/c,a[2]/c],d=Math.sqrt(h[2]*h[2]+h[0]*h[0]),g=Math.atan2(h[1],d),_=Math.atan2(h[0],-h[2]);this.mat.rotateY(_).rotateX(-g)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var $=!this._prevMat.equals(this.mat);if(($||this.pe._mdf)&&this.comp.threeDElements){s=this.comp.threeDElements.length;var nt,et,rt;for(e=0;e<s;e+=1)if(nt=this.comp.threeDElements[e],nt.type==="3d"){if($){var lt=this.mat.toCSS();rt=nt.container.style,rt.transform=lt,rt.webkitTransform=lt}this.pe._mdf&&(et=nt.perspectiveElem.style,et.perspective=this.pe.v+"px",et.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(i){this.prepareProperties(i,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(i,e,s){this.assetData=e.getAssetData(i.refId),this.initElement(i,e,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var i=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=i,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(i,e){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();i.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(i,e){var s=i.getBaseElement();if(s){var o=this.layers[e];if(!o.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(s,e);else{for(var a=0,c,h,d;a<e;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement&&(h=this.elements[a],d=this.layers[a].ddd?this.getThreeDContainerByPos(a):h.getBaseElement(),c=d||c),a+=1;c?(!o.ddd||!this.supports3d)&&this.layerElement.insertBefore(s,c):(!o.ddd||!this.supports3d)&&this.layerElement.appendChild(s)}else this.addTo3dContainer(s,e)}},HybridRendererBase.prototype.createShape=function(i){return this.supports3d?new HShapeElement(i,this.globalData,this):new SVGShapeElement(i,this.globalData,this)},HybridRendererBase.prototype.createText=function(i){return this.supports3d?new HTextElement(i,this.globalData,this):new SVGTextLottieElement(i,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(i){return this.camera=new HCameraElement(i,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(i){return this.supports3d?new HImageElement(i,this.globalData,this):new IImageElement(i,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(i){return this.supports3d?new HSolidElement(i,this.globalData,this):new ISolidElement(i,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(i){for(var e=0,s=this.threeDElements.length;e<s;){if(this.threeDElements[e].startPos<=i&&this.threeDElements[e].endPos>=i)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(i,e){var s=createTag("div"),o,a;styleDiv(s);var c=createTag("div");if(styleDiv(c),e==="3d"){o=s.style,o.width=this.globalData.compSize.w+"px",o.height=this.globalData.compSize.h+"px";var h="50% 50%";o.webkitTransformOrigin=h,o.mozTransformOrigin=h,o.transformOrigin=h,a=c.style;var d="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";a.transform=d,a.webkitTransform=d}s.appendChild(c);var g={container:c,perspectiveElem:s,startPos:i,endPos:i,type:e};return this.threeDElements.push(g),g},HybridRendererBase.prototype.build3dContainers=function(){var i,e=this.layers.length,s,o="";for(i=0;i<e;i+=1)this.layers[i].ddd&&this.layers[i].ty!==3?(o!=="3d"&&(o="3d",s=this.createThreeDContainer(i,"3d")),s.endPos=Math.max(s.endPos,i)):(o!=="2d"&&(o="2d",s=this.createThreeDContainer(i,"2d")),s.endPos=Math.max(s.endPos,i));for(e=this.threeDElements.length,i=e-1;i>=0;i-=1)this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(i,e){for(var s=0,o=this.threeDElements.length;s<o;){if(e<=this.threeDElements[s].endPos){for(var a=this.threeDElements[s].startPos,c;a<e;)this.elements[a]&&this.elements[a].getBaseElement&&(c=this.elements[a].getBaseElement()),a+=1;c?this.threeDElements[s].container.insertBefore(i,c):this.threeDElements[s].container.appendChild(i);break}s+=1}},HybridRendererBase.prototype.configAnimation=function(i){var e=createTag("div"),s=this.animationItem.wrapper,o=e.style;o.width=i.w+"px",o.height=i.h+"px",this.resizerElem=e,styleDiv(e),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),s.appendChild(e),o.overflow="hidden";var a=createNS("svg");a.setAttribute("width","1"),a.setAttribute("height","1"),styleDiv(a),this.resizerElem.appendChild(a);var c=createNS("defs");a.appendChild(c),this.data=i,this.setupGlobalData(i,a),this.globalData.defs=c,this.layers=i.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var i,e=this.layers?this.layers.length:0;for(i=0;i<e;i+=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var i=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,s=i/e,o=this.globalData.compSize.w/this.globalData.compSize.h,a,c,h,d;o>s?(a=i/this.globalData.compSize.w,c=i/this.globalData.compSize.w,h=0,d=(e-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(a=e/this.globalData.compSize.h,c=e/this.globalData.compSize.h,h=(i-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,d=0);var g=this.resizerElem.style;g.webkitTransform="matrix3d("+a+",0,0,0,0,"+c+",0,0,0,0,1,0,"+h+","+d+",0,1)",g.transform=g.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var i=this.globalData.compSize.w,e=this.globalData.compSize.h,s,o=this.threeDElements.length;for(s=0;s<o;s+=1){var a=this.threeDElements[s].perspectiveElem.style;a.webkitPerspective=Math.sqrt(Math.pow(i,2)+Math.pow(e,2))+"px",a.perspective=a.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(i){var e,s=i.length,o=createTag("div");for(e=0;e<s;e+=1)if(i[e].xt){var a=this.createComp(i[e],o,this.globalData.comp,null);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}};function HCompElement(i,e,s){this.layers=i.layers,this.supports3d=!i.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(i,e,s),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(i,e){for(var s=0,o;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(o=this.elements[s].getBaseElement()),s+=1;o?this.layerElement.insertBefore(i,o):this.layerElement.appendChild(i)},HCompElement.prototype.createComp=function(i){return this.supports3d?new HCompElement(i,this.globalData,this):new SVGCompElement(i,this.globalData,this)};function HybridRenderer(i,e){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(i){return this.supports3d?new HCompElement(i,this.globalData,this):new SVGCompElement(i,this.globalData,this)};var CompExpressionInterface=function(){return function(i){function e(s){for(var o=0,a=i.layers.length;o<a;){if(i.layers[o].nm===s||i.layers[o].ind===s)return i.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(e,"_name",{value:i.data.nm}),e.layer=e,e.pixelAspect=1,e.height=i.data.h||i.globalData.compSize.h,e.width=i.data.w||i.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/i.globalData.frameRate,e.displayStartTime=0,e.numLayers=i.layers.length,e}}();function _typeof$2(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(s){return typeof s}:_typeof$2=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$2(i)}function seedRandom(i,e){var s=this,o=256,a=6,c=52,h="random",d=e.pow(o,a),g=e.pow(2,c),_=g*2,$=o-1,nt;function et(ot,ct,Pt){var At=[];ct=ct===!0?{entropy:!0}:ct||{};var yt=gt(ut(ct.entropy?[ot,st(i)]:ot===null?at():ot,3),At),pt=new rt(At),_t=function(){for(var xt=pt.g(a),It=d,wt=0;xt<g;)xt=(xt+wt)*o,It*=o,wt=pt.g(1);for(;xt>=_;)xt/=2,It/=2,wt>>>=1;return(xt+wt)/It};return _t.int32=function(){return pt.g(4)|0},_t.quick=function(){return pt.g(4)/4294967296},_t.double=_t,gt(st(pt.S),i),(ct.pass||Pt||function(St,xt,It,wt){return wt&&(wt.S&&lt(wt,pt),St.state=function(){return lt(pt,{})}),It?(e[h]=St,xt):St})(_t,yt,"global"in ct?ct.global:this==e,ct.state)}e["seed"+h]=et;function rt(ot){var ct,Pt=ot.length,At=this,yt=0,pt=At.i=At.j=0,_t=At.S=[];for(Pt||(ot=[Pt++]);yt<o;)_t[yt]=yt++;for(yt=0;yt<o;yt++)_t[yt]=_t[pt=$&pt+ot[yt%Pt]+(ct=_t[yt])],_t[pt]=ct;At.g=function(St){for(var xt,It=0,wt=At.i,Wt=At.j,Ut=At.S;St--;)xt=Ut[wt=$&wt+1],It=It*o+Ut[$&(Ut[wt]=Ut[Wt=$&Wt+xt])+(Ut[Wt]=xt)];return At.i=wt,At.j=Wt,It}}function lt(ot,ct){return ct.i=ot.i,ct.j=ot.j,ct.S=ot.S.slice(),ct}function ut(ot,ct){var Pt=[],At=_typeof$2(ot),yt;if(ct&&At=="object")for(yt in ot)try{Pt.push(ut(ot[yt],ct-1))}catch{}return Pt.length?Pt:At=="string"?ot:ot+"\0"}function gt(ot,ct){for(var Pt=ot+"",At,yt=0;yt<Pt.length;)ct[$&yt]=$&(At^=ct[$&yt]*19)+Pt.charCodeAt(yt++);return st(ct)}function at(){try{var ot=new Uint8Array(o);return(s.crypto||s.msCrypto).getRandomValues(ot),st(ot)}catch{var ct=s.navigator,Pt=ct&&ct.plugins;return[+new Date,s,Pt,s.screen,st(i)]}}function st(ot){return String.fromCharCode.apply(0,ot)}gt(e.random(),i)}function initialize$2(i){seedRandom([],i)}var propTypes={SHAPE:"shape"};function _typeof$1(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(s){return typeof s}:_typeof$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(i)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(i){return i.constructor===Array||i.constructor===Float32Array}function isNumerable(i,e){return i==="number"||e instanceof Number||i==="boolean"||i==="string"}function $bm_neg(i){var e=_typeof$1(i);if(e==="number"||i instanceof Number||e==="boolean")return-i;if($bm_isInstanceOfArray(i)){var s,o=i.length,a=[];for(s=0;s<o;s+=1)a[s]=-i[s];return a}return i.propType?i.v:-i}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(i,e){var s=_typeof$1(i),o=_typeof$1(e);if(isNumerable(s,i)&&isNumerable(o,e)||s==="string"||o==="string")return i+e;if($bm_isInstanceOfArray(i)&&isNumerable(o,e))return i=i.slice(0),i[0]+=e,i;if(isNumerable(s,i)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=i+e[0],e;if($bm_isInstanceOfArray(i)&&$bm_isInstanceOfArray(e)){for(var a=0,c=i.length,h=e.length,d=[];a<c||a<h;)(typeof i[a]=="number"||i[a]instanceof Number)&&(typeof e[a]=="number"||e[a]instanceof Number)?d[a]=i[a]+e[a]:d[a]=e[a]===void 0?i[a]:i[a]||e[a],a+=1;return d}return 0}var add=sum;function sub(i,e){var s=_typeof$1(i),o=_typeof$1(e);if(isNumerable(s,i)&&isNumerable(o,e))return s==="string"&&(i=parseInt(i,10)),o==="string"&&(e=parseInt(e,10)),i-e;if($bm_isInstanceOfArray(i)&&isNumerable(o,e))return i=i.slice(0),i[0]-=e,i;if(isNumerable(s,i)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=i-e[0],e;if($bm_isInstanceOfArray(i)&&$bm_isInstanceOfArray(e)){for(var a=0,c=i.length,h=e.length,d=[];a<c||a<h;)(typeof i[a]=="number"||i[a]instanceof Number)&&(typeof e[a]=="number"||e[a]instanceof Number)?d[a]=i[a]-e[a]:d[a]=e[a]===void 0?i[a]:i[a]||e[a],a+=1;return d}return 0}function mul(i,e){var s=_typeof$1(i),o=_typeof$1(e),a;if(isNumerable(s,i)&&isNumerable(o,e))return i*e;var c,h;if($bm_isInstanceOfArray(i)&&isNumerable(o,e)){for(h=i.length,a=createTypedArray("float32",h),c=0;c<h;c+=1)a[c]=i[c]*e;return a}if(isNumerable(s,i)&&$bm_isInstanceOfArray(e)){for(h=e.length,a=createTypedArray("float32",h),c=0;c<h;c+=1)a[c]=i*e[c];return a}return 0}function div(i,e){var s=_typeof$1(i),o=_typeof$1(e),a;if(isNumerable(s,i)&&isNumerable(o,e))return i/e;var c,h;if($bm_isInstanceOfArray(i)&&isNumerable(o,e)){for(h=i.length,a=createTypedArray("float32",h),c=0;c<h;c+=1)a[c]=i[c]/e;return a}if(isNumerable(s,i)&&$bm_isInstanceOfArray(e)){for(h=e.length,a=createTypedArray("float32",h),c=0;c<h;c+=1)a[c]=i/e[c];return a}return 0}function mod(i,e){return typeof i=="string"&&(i=parseInt(i,10)),typeof e=="string"&&(e=parseInt(e,10)),i%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(i,e,s){if(e>s){var o=s;s=e,e=o}return Math.min(Math.max(i,e),s)}function radiansToDegrees(i){return i/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(i){return i*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(i,e){if(typeof i=="number"||i instanceof Number)return e=e||0,Math.abs(i-e);e||(e=helperLengthArray);var s,o=Math.min(i.length,e.length),a=0;for(s=0;s<o;s+=1)a+=Math.pow(e[s]-i[s],2);return Math.sqrt(a)}function normalize(i){return div(i,length(i))}function rgbToHsl(i){var e=i[0],s=i[1],o=i[2],a=Math.max(e,s,o),c=Math.min(e,s,o),h,d,g=(a+c)/2;if(a===c)h=0,d=0;else{var _=a-c;switch(d=g>.5?_/(2-a-c):_/(a+c),a){case e:h=(s-o)/_+(s<o?6:0);break;case s:h=(o-e)/_+2;break;case o:h=(e-s)/_+4;break}h/=6}return[h,d,g,i[3]]}function hue2rgb(i,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(e-i)*6*s:s<1/2?e:s<2/3?i+(e-i)*(2/3-s)*6:i}function hslToRgb(i){var e=i[0],s=i[1],o=i[2],a,c,h;if(s===0)a=o,h=o,c=o;else{var d=o<.5?o*(1+s):o+s-o*s,g=2*o-d;a=hue2rgb(g,d,e+1/3),c=hue2rgb(g,d,e),h=hue2rgb(g,d,e-1/3)}return[a,c,h,i[3]]}function linear(i,e,s,o,a){if((o===void 0||a===void 0)&&(o=e,a=s,e=0,s=1),s<e){var c=s;s=e,e=c}if(i<=e)return o;if(i>=s)return a;var h=s===e?0:(i-e)/(s-e);if(!o.length)return o+(a-o)*h;var d,g=o.length,_=createTypedArray("float32",g);for(d=0;d<g;d+=1)_[d]=o[d]+(a[d]-o[d])*h;return _}function random(i,e){if(e===void 0&&(i===void 0?(i=0,e=1):(e=i,i=void 0)),e.length){var s,o=e.length;i||(i=createTypedArray("float32",o));var a=createTypedArray("float32",o),c=BMMath.random();for(s=0;s<o;s+=1)a[s]=i[s]+c*(e[s]-i[s]);return a}i===void 0&&(i=0);var h=BMMath.random();return i+h*(e-i)}function createPath(i,e,s,o){var a,c=i.length,h=shapePool.newElement();h.setPathData(!!o,c);var d=[0,0],g,_;for(a=0;a<c;a+=1)g=e&&e[a]?e[a]:d,_=s&&s[a]?s[a]:d,h.setTripleAt(i[a][0],i[a][1],_[0]+i[a][0],_[1]+i[a][1],g[0]+i[a][0],g[1]+i[a][1],a,!0);return h}function initiateExpression(elem,data,property){function noOp(i){return i}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function i(e,s){var o,a,c=this.pv.length?this.pv.length:1,h=createTypedArray("float32",c);e=5;var d=Math.floor(time*e);for(o=0,a=0;o<d;){for(a=0;a<c;a+=1)h[a]+=-s+s*2*BMMath.random();o+=1}var g=time*e,_=g-Math.floor(g),$=createTypedArray("float32",c);if(c>1){for(a=0;a<c;a+=1)$[a]=this.pv[a]+h[a]+(-s+s*2*BMMath.random())*_;return $}return this.pv+h[0]+(-s+s*2*BMMath.random())*_}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(i,e){return loopIn(i,e,!0)}function loopOutDuration(i,e){return loopOut(i,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(i,e){var s=[e[0]-i[0],e[1]-i[1],e[2]-i[2]],o=Math.atan2(s[0],Math.sqrt(s[1]*s[1]+s[2]*s[2]))/degToRads,a=-Math.atan2(s[1],s[2])/degToRads;return[a,o,0]}function easeOut(i,e,s,o,a){return applyEase(easeOutBez,i,e,s,o,a)}function easeIn(i,e,s,o,a){return applyEase(easeInBez,i,e,s,o,a)}function ease(i,e,s,o,a){return applyEase(easeInOutBez,i,e,s,o,a)}function applyEase(i,e,s,o,a,c){a===void 0?(a=s,c=o):e=(e-s)/(o-s),e>1?e=1:e<0&&(e=0);var h=i(e);if($bm_isInstanceOfArray(a)){var d,g=a.length,_=createTypedArray("float32",g);for(d=0;d<g;d+=1)_[d]=(c[d]-a[d])*h+a[d];return _}return(c-a)*h+a}function nearestKey(i){var e,s=data.k.length,o,a;if(!data.k.length||typeof data.k[0]=="number")o=0,a=0;else if(o=-1,i*=elem.comp.globalData.frameRate,i<data.k[0].t)o=1,a=data.k[0].t;else{for(e=0;e<s-1;e+=1)if(i===data.k[e].t){o=e+1,a=data.k[e].t;break}else if(i>data.k[e].t&&i<data.k[e+1].t){i-data.k[e].t>data.k[e+1].t-i?(o=e+2,a=data.k[e+1].t):(o=e+1,a=data.k[e].t);break}o===-1&&(o=e+1,a=data.k[e].t)}var c={};return c.index=o,c.time=a/elem.comp.globalData.frameRate,c}function key(i){var e,s,o;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+i);i-=1,e={time:data.k[i].t/elem.comp.globalData.frameRate,value:[]};var a=Object.prototype.hasOwnProperty.call(data.k[i],"s")?data.k[i].s:data.k[i-1].e;for(o=a.length,s=0;s<o;s+=1)e[s]=a[s],e.value[s]=a[s];return e}function framesToTime(i,e){return e||(e=elem.comp.globalData.frameRate),i/e}function timeToFrames(i,e){return!i&&i!==0&&(i=time),e||(e=elem.comp.globalData.frameRate),i*e}function seedRandom(i){BMMath.seedrandom(randSeed+i)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(i,e){return typeof value=="string"?e===void 0?value.substring(i):value.substring(i,e):""}function substr(i,e){return typeof value=="string"?e===void 0?value.substr(i):value.substr(i,e):""}function posterizeTime(i){time=i===0?0:Math.floor(time*i)/i,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(i){return value=i,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var i={};i.initExpressions=e,i.resetFrame=ExpressionManager.resetFrame;function e(s){var o=0,a=[];function c(){o+=1}function h(){o-=1,o===0&&g()}function d(_){a.indexOf(_)===-1&&a.push(_)}function g(){var _,$=a.length;for(_=0;_<$;_+=1)a[_].release();a.length=0}s.renderer.compInterface=CompExpressionInterface(s.renderer),s.renderer.globalData.projectInterface.registerComposition(s.renderer),s.renderer.globalData.pushExpression=c,s.renderer.globalData.popExpression=h,s.renderer.globalData.registerExpressionProperty=d}return i}(),MaskManagerInterface=function(){function i(s,o){this._mask=s,this._data=o}Object.defineProperty(i.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(i.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(o){var a=createSizedArray(o.viewData.length),c,h=o.viewData.length;for(c=0;c<h;c+=1)a[c]=new i(o.viewData[c],o.masksProperties[c]);var d=function(_){for(c=0;c<h;){if(o.masksProperties[c].nm===_)return a[c];c+=1}return null};return d};return e}(),ExpressionPropertyInterface=function(){var i={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function s(h,d,g){Object.defineProperty(h,"velocity",{get:function(){return d.getVelocityAtTime(d.comp.currentFrame)}}),h.numKeys=d.keyframes?d.keyframes.length:0,h.key=function(_){if(!h.numKeys)return 0;var $="";"s"in d.keyframes[_-1]?$=d.keyframes[_-1].s:"e"in d.keyframes[_-2]?$=d.keyframes[_-2].e:$=d.keyframes[_-2].s;var nt=g==="unidimensional"?new Number($):Object.assign({},$);return nt.time=d.keyframes[_-1].t/d.elem.comp.globalData.frameRate,nt.value=g==="unidimensional"?$[0]:$,nt},h.valueAtTime=d.getValueAtTime,h.speedAtTime=d.getSpeedAtTime,h.velocityAtTime=d.getVelocityAtTime,h.propertyGroup=d.propertyGroup}function o(h){(!h||!("pv"in h))&&(h=i);var d=1/h.mult,g=h.pv*d,_=new Number(g);return _.value=g,s(_,h,"unidimensional"),function(){return h.k&&h.getValue(),g=h.v*d,_.value!==g&&(_=new Number(g),_.value=g,s(_,h,"unidimensional")),_}}function a(h){(!h||!("pv"in h))&&(h=e);var d=1/h.mult,g=h.data&&h.data.l||h.pv.length,_=createTypedArray("float32",g),$=createTypedArray("float32",g);return _.value=$,s(_,h,"multidimensional"),function(){h.k&&h.getValue();for(var nt=0;nt<g;nt+=1)$[nt]=h.v[nt]*d,_[nt]=$[nt];return _}}function c(){return i}return function(h){return h?h.propType==="unidimensional"?o(h):a(h):c}}(),TransformExpressionInterface=function(){return function(i){function e(h){switch(h){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(i.r||i.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(i.rz||i.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(i.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(i.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(i.s)});var s,o,a,c;return i.p?c=ExpressionPropertyInterface(i.p):(s=ExpressionPropertyInterface(i.px),o=ExpressionPropertyInterface(i.py),i.pz&&(a=ExpressionPropertyInterface(i.pz))),Object.defineProperty(e,"position",{get:function(){return i.p?c():[s(),o(),a?a():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(i.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(i.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(i.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(i.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(i.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(i.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(i.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(i.or)}),e}}(),LayerExpressionInterface=function(){function i(_){var $=new Matrix;if(_!==void 0){var nt=this._elem.finalTransform.mProp.getValueAtTime(_);nt.clone($)}else{var et=this._elem.finalTransform.mProp;et.applyToMatrix($)}return $}function e(_,$){var nt=this.getMatrix($);return nt.props[12]=0,nt.props[13]=0,nt.props[14]=0,this.applyPoint(nt,_)}function s(_,$){var nt=this.getMatrix($);return this.applyPoint(nt,_)}function o(_,$){var nt=this.getMatrix($);return nt.props[12]=0,nt.props[13]=0,nt.props[14]=0,this.invertPoint(nt,_)}function a(_,$){var nt=this.getMatrix($);return this.invertPoint(nt,_)}function c(_,$){if(this._elem.hierarchy&&this._elem.hierarchy.length){var nt,et=this._elem.hierarchy.length;for(nt=0;nt<et;nt+=1)this._elem.hierarchy[nt].finalTransform.mProp.applyToMatrix(_)}return _.applyToPointArray($[0],$[1],$[2]||0)}function h(_,$){if(this._elem.hierarchy&&this._elem.hierarchy.length){var nt,et=this._elem.hierarchy.length;for(nt=0;nt<et;nt+=1)this._elem.hierarchy[nt].finalTransform.mProp.applyToMatrix(_)}return _.inversePoint($)}function d(_){var $=new Matrix;if($.reset(),this._elem.finalTransform.mProp.applyToMatrix($),this._elem.hierarchy&&this._elem.hierarchy.length){var nt,et=this._elem.hierarchy.length;for(nt=0;nt<et;nt+=1)this._elem.hierarchy[nt].finalTransform.mProp.applyToMatrix($);return $.inversePoint(_)}return $.inversePoint(_)}function g(){return[1,1,1,1]}return function(_){var $;function nt(ut){rt.mask=new MaskManagerInterface(ut,_)}function et(ut){rt.effect=ut}function rt(ut){switch(ut){case"ADBE Root Vectors Group":case"Contents":case 2:return rt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return $;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return rt.effect;case"ADBE Text Properties":return rt.textInterface;default:return null}}rt.getMatrix=i,rt.invertPoint=h,rt.applyPoint=c,rt.toWorld=s,rt.toWorldVec=e,rt.fromWorld=a,rt.fromWorldVec=o,rt.toComp=s,rt.fromComp=d,rt.sampleImage=g,rt.sourceRectAtTime=_.sourceRectAtTime.bind(_),rt._elem=_,$=TransformExpressionInterface(_.finalTransform.mProp);var lt=getDescriptor($,"anchorPoint");return Object.defineProperties(rt,{hasParent:{get:function(){return _.hierarchy.length}},parent:{get:function(){return _.hierarchy[0].layerInterface}},rotation:getDescriptor($,"rotation"),scale:getDescriptor($,"scale"),position:getDescriptor($,"position"),opacity:getDescriptor($,"opacity"),anchorPoint:lt,anchor_point:lt,transform:{get:function(){return $}},active:{get:function(){return _.isInRange}}}),rt.startTime=_.data.st,rt.index=_.data.ind,rt.source=_.data.refId,rt.height=_.data.ty===0?_.data.h:100,rt.width=_.data.ty===0?_.data.w:100,rt.inPoint=_.data.ip/_.comp.globalData.frameRate,rt.outPoint=_.data.op/_.comp.globalData.frameRate,rt._name=_.data.nm,rt.registerMaskInterface=nt,rt.registerEffectsInterface=et,rt}}(),propertyGroupFactory=function(){return function(i,e){return function(s){return s=s===void 0?1:s,s<=0?i:e(s-1)}}}(),PropertyInterface=function(){return function(i,e){var s={_name:i};function o(a){return a=a===void 0?1:a,a<=0?s:e(a-1)}return o}}(),EffectsExpressionInterface=function(){var i={createEffectsInterface:e};function e(a,c){if(a.effectsManager){var h=[],d=a.data.ef,g,_=a.effectsManager.effectElements.length;for(g=0;g<_;g+=1)h.push(s(d[g],a.effectsManager.effectElements[g],c,a));var $=a.data.ef||[],nt=function(rt){for(g=0,_=$.length;g<_;){if(rt===$[g].nm||rt===$[g].mn||rt===$[g].ix)return h[g];g+=1}return null};return Object.defineProperty(nt,"numProperties",{get:function(){return $.length}}),nt}return null}function s(a,c,h,d){function g(rt){for(var lt=a.ef,ut=0,gt=lt.length;ut<gt;){if(rt===lt[ut].nm||rt===lt[ut].mn||rt===lt[ut].ix)return lt[ut].ty===5?$[ut]:$[ut]();ut+=1}throw new Error}var _=propertyGroupFactory(g,h),$=[],nt,et=a.ef.length;for(nt=0;nt<et;nt+=1)a.ef[nt].ty===5?$.push(s(a.ef[nt],c.effectElements[nt],c.effectElements[nt].propertyGroup,d)):$.push(o(c.effectElements[nt],a.ef[nt].ty,d,_));return a.mn==="ADBE Color Control"&&Object.defineProperty(g,"color",{get:function(){return $[0]()}}),Object.defineProperties(g,{numProperties:{get:function(){return a.np}},_name:{value:a.nm},propertyGroup:{value:_}}),g.enabled=a.en!==0,g.active=g.enabled,g}function o(a,c,h,d){var g=ExpressionPropertyInterface(a.p);function _(){return c===10?h.comp.compInterface(a.p.v):g()}return a.p.setGroupProperty&&a.p.setGroupProperty(PropertyInterface("",d)),_}return i}(),ShapePathInterface=function(){return function(e,s,o){var a=s.sh;function c(d){return d==="Shape"||d==="shape"||d==="Path"||d==="path"||d==="ADBE Vector Shape"||d===2?c.path:null}var h=propertyGroupFactory(c,o);return a.setGroupProperty(PropertyInterface("Path",h)),Object.defineProperties(c,{path:{get:function(){return a.k&&a.getValue(),a}},shape:{get:function(){return a.k&&a.getValue(),a}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:o}}),c}}(),ShapeExpressionInterface=function(){function i(lt,ut,gt){var at=[],st,ot=lt?lt.length:0;for(st=0;st<ot;st+=1)lt[st].ty==="gr"?at.push(s(lt[st],ut[st],gt)):lt[st].ty==="fl"?at.push(o(lt[st],ut[st],gt)):lt[st].ty==="st"?at.push(h(lt[st],ut[st],gt)):lt[st].ty==="tm"?at.push(d(lt[st],ut[st],gt)):lt[st].ty==="tr"||(lt[st].ty==="el"?at.push(_(lt[st],ut[st],gt)):lt[st].ty==="sr"?at.push($(lt[st],ut[st],gt)):lt[st].ty==="sh"?at.push(ShapePathInterface(lt[st],ut[st],gt)):lt[st].ty==="rc"?at.push(nt(lt[st],ut[st],gt)):lt[st].ty==="rd"?at.push(et(lt[st],ut[st],gt)):lt[st].ty==="rp"?at.push(rt(lt[st],ut[st],gt)):lt[st].ty==="gf"?at.push(a(lt[st],ut[st],gt)):at.push(c(lt[st],ut[st])));return at}function e(lt,ut,gt){var at,st=function(Pt){for(var At=0,yt=at.length;At<yt;){if(at[At]._name===Pt||at[At].mn===Pt||at[At].propertyIndex===Pt||at[At].ix===Pt||at[At].ind===Pt)return at[At];At+=1}return typeof Pt=="number"?at[Pt-1]:null};st.propertyGroup=propertyGroupFactory(st,gt),at=i(lt.it,ut.it,st.propertyGroup),st.numProperties=at.length;var ot=g(lt.it[lt.it.length-1],ut.it[ut.it.length-1],st.propertyGroup);return st.transform=ot,st.propertyIndex=lt.cix,st._name=lt.nm,st}function s(lt,ut,gt){var at=function(Pt){switch(Pt){case"ADBE Vectors Group":case"Contents":case 2:return at.content;default:return at.transform}};at.propertyGroup=propertyGroupFactory(at,gt);var st=e(lt,ut,at.propertyGroup),ot=g(lt.it[lt.it.length-1],ut.it[ut.it.length-1],at.propertyGroup);return at.content=st,at.transform=ot,Object.defineProperty(at,"_name",{get:function(){return lt.nm}}),at.numProperties=lt.np,at.propertyIndex=lt.ix,at.nm=lt.nm,at.mn=lt.mn,at}function o(lt,ut,gt){function at(st){return st==="Color"||st==="color"?at.color:st==="Opacity"||st==="opacity"?at.opacity:null}return Object.defineProperties(at,{color:{get:ExpressionPropertyInterface(ut.c)},opacity:{get:ExpressionPropertyInterface(ut.o)},_name:{value:lt.nm},mn:{value:lt.mn}}),ut.c.setGroupProperty(PropertyInterface("Color",gt)),ut.o.setGroupProperty(PropertyInterface("Opacity",gt)),at}function a(lt,ut,gt){function at(st){return st==="Start Point"||st==="start point"?at.startPoint:st==="End Point"||st==="end point"?at.endPoint:st==="Opacity"||st==="opacity"?at.opacity:null}return Object.defineProperties(at,{startPoint:{get:ExpressionPropertyInterface(ut.s)},endPoint:{get:ExpressionPropertyInterface(ut.e)},opacity:{get:ExpressionPropertyInterface(ut.o)},type:{get:function(){return"a"}},_name:{value:lt.nm},mn:{value:lt.mn}}),ut.s.setGroupProperty(PropertyInterface("Start Point",gt)),ut.e.setGroupProperty(PropertyInterface("End Point",gt)),ut.o.setGroupProperty(PropertyInterface("Opacity",gt)),at}function c(){function lt(){return null}return lt}function h(lt,ut,gt){var at=propertyGroupFactory(yt,gt),st=propertyGroupFactory(At,at);function ot(pt){Object.defineProperty(At,lt.d[pt].nm,{get:ExpressionPropertyInterface(ut.d.dataProps[pt].p)})}var ct,Pt=lt.d?lt.d.length:0,At={};for(ct=0;ct<Pt;ct+=1)ot(ct),ut.d.dataProps[ct].p.setGroupProperty(st);function yt(pt){return pt==="Color"||pt==="color"?yt.color:pt==="Opacity"||pt==="opacity"?yt.opacity:pt==="Stroke Width"||pt==="stroke width"?yt.strokeWidth:null}return Object.defineProperties(yt,{color:{get:ExpressionPropertyInterface(ut.c)},opacity:{get:ExpressionPropertyInterface(ut.o)},strokeWidth:{get:ExpressionPropertyInterface(ut.w)},dash:{get:function(){return At}},_name:{value:lt.nm},mn:{value:lt.mn}}),ut.c.setGroupProperty(PropertyInterface("Color",at)),ut.o.setGroupProperty(PropertyInterface("Opacity",at)),ut.w.setGroupProperty(PropertyInterface("Stroke Width",at)),yt}function d(lt,ut,gt){function at(ot){return ot===lt.e.ix||ot==="End"||ot==="end"?at.end:ot===lt.s.ix?at.start:ot===lt.o.ix?at.offset:null}var st=propertyGroupFactory(at,gt);return at.propertyIndex=lt.ix,ut.s.setGroupProperty(PropertyInterface("Start",st)),ut.e.setGroupProperty(PropertyInterface("End",st)),ut.o.setGroupProperty(PropertyInterface("Offset",st)),at.propertyIndex=lt.ix,at.propertyGroup=gt,Object.defineProperties(at,{start:{get:ExpressionPropertyInterface(ut.s)},end:{get:ExpressionPropertyInterface(ut.e)},offset:{get:ExpressionPropertyInterface(ut.o)},_name:{value:lt.nm}}),at.mn=lt.mn,at}function g(lt,ut,gt){function at(ot){return lt.a.ix===ot||ot==="Anchor Point"?at.anchorPoint:lt.o.ix===ot||ot==="Opacity"?at.opacity:lt.p.ix===ot||ot==="Position"?at.position:lt.r.ix===ot||ot==="Rotation"||ot==="ADBE Vector Rotation"?at.rotation:lt.s.ix===ot||ot==="Scale"?at.scale:lt.sk&&lt.sk.ix===ot||ot==="Skew"?at.skew:lt.sa&&lt.sa.ix===ot||ot==="Skew Axis"?at.skewAxis:null}var st=propertyGroupFactory(at,gt);return ut.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",st)),ut.transform.mProps.p.setGroupProperty(PropertyInterface("Position",st)),ut.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",st)),ut.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",st)),ut.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",st)),ut.transform.mProps.sk&&(ut.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",st)),ut.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",st))),ut.transform.op.setGroupProperty(PropertyInterface("Opacity",st)),Object.defineProperties(at,{opacity:{get:ExpressionPropertyInterface(ut.transform.mProps.o)},position:{get:ExpressionPropertyInterface(ut.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(ut.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(ut.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(ut.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(ut.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(ut.transform.mProps.sa)},_name:{value:lt.nm}}),at.ty="tr",at.mn=lt.mn,at.propertyGroup=gt,at}function _(lt,ut,gt){function at(ct){return lt.p.ix===ct?at.position:lt.s.ix===ct?at.size:null}var st=propertyGroupFactory(at,gt);at.propertyIndex=lt.ix;var ot=ut.sh.ty==="tm"?ut.sh.prop:ut.sh;return ot.s.setGroupProperty(PropertyInterface("Size",st)),ot.p.setGroupProperty(PropertyInterface("Position",st)),Object.defineProperties(at,{size:{get:ExpressionPropertyInterface(ot.s)},position:{get:ExpressionPropertyInterface(ot.p)},_name:{value:lt.nm}}),at.mn=lt.mn,at}function $(lt,ut,gt){function at(ct){return lt.p.ix===ct?at.position:lt.r.ix===ct?at.rotation:lt.pt.ix===ct?at.points:lt.or.ix===ct||ct==="ADBE Vector Star Outer Radius"?at.outerRadius:lt.os.ix===ct?at.outerRoundness:lt.ir&&(lt.ir.ix===ct||ct==="ADBE Vector Star Inner Radius")?at.innerRadius:lt.is&&lt.is.ix===ct?at.innerRoundness:null}var st=propertyGroupFactory(at,gt),ot=ut.sh.ty==="tm"?ut.sh.prop:ut.sh;return at.propertyIndex=lt.ix,ot.or.setGroupProperty(PropertyInterface("Outer Radius",st)),ot.os.setGroupProperty(PropertyInterface("Outer Roundness",st)),ot.pt.setGroupProperty(PropertyInterface("Points",st)),ot.p.setGroupProperty(PropertyInterface("Position",st)),ot.r.setGroupProperty(PropertyInterface("Rotation",st)),lt.ir&&(ot.ir.setGroupProperty(PropertyInterface("Inner Radius",st)),ot.is.setGroupProperty(PropertyInterface("Inner Roundness",st))),Object.defineProperties(at,{position:{get:ExpressionPropertyInterface(ot.p)},rotation:{get:ExpressionPropertyInterface(ot.r)},points:{get:ExpressionPropertyInterface(ot.pt)},outerRadius:{get:ExpressionPropertyInterface(ot.or)},outerRoundness:{get:ExpressionPropertyInterface(ot.os)},innerRadius:{get:ExpressionPropertyInterface(ot.ir)},innerRoundness:{get:ExpressionPropertyInterface(ot.is)},_name:{value:lt.nm}}),at.mn=lt.mn,at}function nt(lt,ut,gt){function at(ct){return lt.p.ix===ct?at.position:lt.r.ix===ct?at.roundness:lt.s.ix===ct||ct==="Size"||ct==="ADBE Vector Rect Size"?at.size:null}var st=propertyGroupFactory(at,gt),ot=ut.sh.ty==="tm"?ut.sh.prop:ut.sh;return at.propertyIndex=lt.ix,ot.p.setGroupProperty(PropertyInterface("Position",st)),ot.s.setGroupProperty(PropertyInterface("Size",st)),ot.r.setGroupProperty(PropertyInterface("Rotation",st)),Object.defineProperties(at,{position:{get:ExpressionPropertyInterface(ot.p)},roundness:{get:ExpressionPropertyInterface(ot.r)},size:{get:ExpressionPropertyInterface(ot.s)},_name:{value:lt.nm}}),at.mn=lt.mn,at}function et(lt,ut,gt){function at(ct){return lt.r.ix===ct||ct==="Round Corners 1"?at.radius:null}var st=propertyGroupFactory(at,gt),ot=ut;return at.propertyIndex=lt.ix,ot.rd.setGroupProperty(PropertyInterface("Radius",st)),Object.defineProperties(at,{radius:{get:ExpressionPropertyInterface(ot.rd)},_name:{value:lt.nm}}),at.mn=lt.mn,at}function rt(lt,ut,gt){function at(ct){return lt.c.ix===ct||ct==="Copies"?at.copies:lt.o.ix===ct||ct==="Offset"?at.offset:null}var st=propertyGroupFactory(at,gt),ot=ut;return at.propertyIndex=lt.ix,ot.c.setGroupProperty(PropertyInterface("Copies",st)),ot.o.setGroupProperty(PropertyInterface("Offset",st)),Object.defineProperties(at,{copies:{get:ExpressionPropertyInterface(ot.c)},offset:{get:ExpressionPropertyInterface(ot.o)},_name:{value:lt.nm}}),at.mn=lt.mn,at}return function(lt,ut,gt){var at;function st(ct){if(typeof ct=="number")return ct=ct===void 0?1:ct,ct===0?gt:at[ct-1];for(var Pt=0,At=at.length;Pt<At;){if(at[Pt]._name===ct)return at[Pt];Pt+=1}return null}function ot(){return gt}return st.propertyGroup=propertyGroupFactory(st,ot),at=i(lt,ut,st.propertyGroup),st.numProperties=at.length,st._name="Contents",st}}(),TextExpressionInterface=function(){return function(i){var e;function s(o){switch(o){case"ADBE Text Document":return s.sourceText;default:return null}}return Object.defineProperty(s,"sourceText",{get:function(){i.textProperty.getValue();var a=i.textProperty.currentData.t;return(!e||a!==e.value)&&(e=new String(a),e.value=a||new String(a),Object.defineProperty(e,"style",{get:function(){return{fillColor:i.textProperty.currentData.fc}}})),e}}),s}}();function _typeof(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(s){return typeof s}:_typeof=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(i)}var FootageInterface=function(){var i=function(o){var a="",c=o.getFootageData();function h(){return a="",c=o.getFootageData(),d}function d(g){if(c[g])return a=g,c=c[g],_typeof(c)==="object"?d:c;var _=g.indexOf(a);if(_!==-1){var $=parseInt(g.substr(_+a.length),10);return c=c[$],_typeof(c)==="object"?d:c}return""}return h},e=function(o){function a(c){return c==="Outline"?a.outlineInterface():null}return a._name="Outline",a.outlineInterface=i(o),a};return function(s){function o(a){return a==="Data"?o.dataInterface:null}return o._name="Data",o.dataInterface=e(s),o}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(i){return interfaces[i]||null}var expressionHelpers=function(){function i(h,d,g){d.x&&(g.k=!0,g.x=!0,g.initiateExpression=ExpressionManager.initiateExpression,g.effectsSequence.push(g.initiateExpression(h,d,g).bind(g)))}function e(h){return h*=this.elem.globalData.frameRate,h-=this.offsetTime,h!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<h?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(h,this._cachingAtTime),this._cachingAtTime.lastFrame=h),this._cachingAtTime.value}function s(h){var d=-.01,g=this.getValueAtTime(h),_=this.getValueAtTime(h+d),$=0;if(g.length){var nt;for(nt=0;nt<g.length;nt+=1)$+=Math.pow(_[nt]-g[nt],2);$=Math.sqrt($)*100}else $=0;return $}function o(h){if(this.vel!==void 0)return this.vel;var d=-.001,g=this.getValueAtTime(h),_=this.getValueAtTime(h+d),$;if(g.length){$=createTypedArray("float32",g.length);var nt;for(nt=0;nt<g.length;nt+=1)$[nt]=(_[nt]-g[nt])/d}else $=(_-g)/d;return $}function a(){return this.pv}function c(h){this.propertyGroup=h}return{searchExpressions:i,getSpeedAtTime:s,getVelocityAtTime:o,getValueAtTime:e,getStaticValueAtTime:a,setGroupProperty:c}}();function addPropertyDecorator(){function i(et,rt,lt){if(!this.k||!this.keyframes)return this.pv;et=et?et.toLowerCase():"";var ut=this.comp.renderedFrame,gt=this.keyframes,at=gt[gt.length-1].t;if(ut<=at)return this.pv;var st,ot;lt?(rt?st=Math.abs(at-this.elem.comp.globalData.frameRate*rt):st=Math.max(0,at-this.elem.data.ip),ot=at-st):((!rt||rt>gt.length-1)&&(rt=gt.length-1),ot=gt[gt.length-1-rt].t,st=at-ot);var ct,Pt,At;if(et==="pingpong"){var yt=Math.floor((ut-ot)/st);if(yt%2!==0)return this.getValueAtTime((st-(ut-ot)%st+ot)/this.comp.globalData.frameRate,0)}else if(et==="offset"){var pt=this.getValueAtTime(ot/this.comp.globalData.frameRate,0),_t=this.getValueAtTime(at/this.comp.globalData.frameRate,0),St=this.getValueAtTime(((ut-ot)%st+ot)/this.comp.globalData.frameRate,0),xt=Math.floor((ut-ot)/st);if(this.pv.length){for(At=new Array(pt.length),Pt=At.length,ct=0;ct<Pt;ct+=1)At[ct]=(_t[ct]-pt[ct])*xt+St[ct];return At}return(_t-pt)*xt+St}else if(et==="continue"){var It=this.getValueAtTime(at/this.comp.globalData.frameRate,0),wt=this.getValueAtTime((at-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(At=new Array(It.length),Pt=At.length,ct=0;ct<Pt;ct+=1)At[ct]=It[ct]+(It[ct]-wt[ct])*((ut-at)/this.comp.globalData.frameRate)/5e-4;return At}return It+(It-wt)*((ut-at)/.001)}return this.getValueAtTime(((ut-ot)%st+ot)/this.comp.globalData.frameRate,0)}function e(et,rt,lt){if(!this.k)return this.pv;et=et?et.toLowerCase():"";var ut=this.comp.renderedFrame,gt=this.keyframes,at=gt[0].t;if(ut>=at)return this.pv;var st,ot;lt?(rt?st=Math.abs(this.elem.comp.globalData.frameRate*rt):st=Math.max(0,this.elem.data.op-at),ot=at+st):((!rt||rt>gt.length-1)&&(rt=gt.length-1),ot=gt[rt].t,st=ot-at);var ct,Pt,At;if(et==="pingpong"){var yt=Math.floor((at-ut)/st);if(yt%2===0)return this.getValueAtTime(((at-ut)%st+at)/this.comp.globalData.frameRate,0)}else if(et==="offset"){var pt=this.getValueAtTime(at/this.comp.globalData.frameRate,0),_t=this.getValueAtTime(ot/this.comp.globalData.frameRate,0),St=this.getValueAtTime((st-(at-ut)%st+at)/this.comp.globalData.frameRate,0),xt=Math.floor((at-ut)/st)+1;if(this.pv.length){for(At=new Array(pt.length),Pt=At.length,ct=0;ct<Pt;ct+=1)At[ct]=St[ct]-(_t[ct]-pt[ct])*xt;return At}return St-(_t-pt)*xt}else if(et==="continue"){var It=this.getValueAtTime(at/this.comp.globalData.frameRate,0),wt=this.getValueAtTime((at+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(At=new Array(It.length),Pt=At.length,ct=0;ct<Pt;ct+=1)At[ct]=It[ct]+(It[ct]-wt[ct])*(at-ut)/.001;return At}return It+(It-wt)*(at-ut)/.001}return this.getValueAtTime((st-((at-ut)%st+at))/this.comp.globalData.frameRate,0)}function s(et,rt){if(!this.k)return this.pv;if(et=(et||.4)*.5,rt=Math.floor(rt||5),rt<=1)return this.pv;var lt=this.comp.renderedFrame/this.comp.globalData.frameRate,ut=lt-et,gt=lt+et,at=rt>1?(gt-ut)/(rt-1):1,st=0,ot=0,ct;this.pv.length?ct=createTypedArray("float32",this.pv.length):ct=0;for(var Pt;st<rt;){if(Pt=this.getValueAtTime(ut+st*at),this.pv.length)for(ot=0;ot<this.pv.length;ot+=1)ct[ot]+=Pt[ot];else ct+=Pt;st+=1}if(this.pv.length)for(ot=0;ot<this.pv.length;ot+=1)ct[ot]/=rt;else ct/=rt;return ct}function o(et){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var rt=this._transformCachingAtTime.v;if(rt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var lt=this.a.getValueAtTime(et);rt.translate(-lt[0]*this.a.mult,-lt[1]*this.a.mult,lt[2]*this.a.mult)}if(this.appliedTransformations<2){var ut=this.s.getValueAtTime(et);rt.scale(ut[0]*this.s.mult,ut[1]*this.s.mult,ut[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var gt=this.sk.getValueAtTime(et),at=this.sa.getValueAtTime(et);rt.skewFromAxis(-gt*this.sk.mult,at*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var st=this.r.getValueAtTime(et);rt.rotate(-st*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ot=this.rz.getValueAtTime(et),ct=this.ry.getValueAtTime(et),Pt=this.rx.getValueAtTime(et),At=this.or.getValueAtTime(et);rt.rotateZ(-ot*this.rz.mult).rotateY(ct*this.ry.mult).rotateX(Pt*this.rx.mult).rotateZ(-At[2]*this.or.mult).rotateY(At[1]*this.or.mult).rotateX(At[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var yt=this.px.getValueAtTime(et),pt=this.py.getValueAtTime(et);if(this.data.p.z){var _t=this.pz.getValueAtTime(et);rt.translate(yt*this.px.mult,pt*this.py.mult,-_t*this.pz.mult)}else rt.translate(yt*this.px.mult,pt*this.py.mult,0)}else{var St=this.p.getValueAtTime(et);rt.translate(St[0]*this.p.mult,St[1]*this.p.mult,-St[2]*this.p.mult)}return rt}function a(){return this.v.clone(new Matrix)}var c=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(et,rt,lt){var ut=c(et,rt,lt);return ut.dynamicProperties.length?ut.getValueAtTime=o.bind(ut):ut.getValueAtTime=a.bind(ut),ut.setGroupProperty=expressionHelpers.setGroupProperty,ut};var h=PropertyFactory.getProp;PropertyFactory.getProp=function(et,rt,lt,ut,gt){var at=h(et,rt,lt,ut,gt);at.kf?at.getValueAtTime=expressionHelpers.getValueAtTime.bind(at):at.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(at),at.setGroupProperty=expressionHelpers.setGroupProperty,at.loopOut=i,at.loopIn=e,at.smooth=s,at.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(at),at.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(at),at.numKeys=rt.a===1?rt.k.length:0,at.propertyIndex=rt.ix;var st=0;return lt!==0&&(st=createTypedArray("float32",rt.a===1?rt.k[0].s.length:rt.k.length)),at._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:st},expressionHelpers.searchExpressions(et,rt,at),at.k&&gt.addDynamicProperty(at),at};function d(et){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),et*=this.elem.globalData.frameRate,et-=this.offsetTime,et!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<et?this._caching.lastIndex:0,this._cachingAtTime.lastTime=et,this.interpolateShape(et,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var g=ShapePropertyFactory.getConstructorFunction(),_=ShapePropertyFactory.getKeyframedConstructorFunction();function $(){}$.prototype={vertices:function(rt,lt){this.k&&this.getValue();var ut=this.v;lt!==void 0&&(ut=this.getValueAtTime(lt,0));var gt,at=ut._length,st=ut[rt],ot=ut.v,ct=createSizedArray(at);for(gt=0;gt<at;gt+=1)rt==="i"||rt==="o"?ct[gt]=[st[gt][0]-ot[gt][0],st[gt][1]-ot[gt][1]]:ct[gt]=[st[gt][0],st[gt][1]];return ct},points:function(rt){return this.vertices("v",rt)},inTangents:function(rt){return this.vertices("i",rt)},outTangents:function(rt){return this.vertices("o",rt)},isClosed:function(){return this.v.c},pointOnPath:function(rt,lt){var ut=this.v;lt!==void 0&&(ut=this.getValueAtTime(lt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(ut));for(var gt=this._segmentsLength,at=gt.lengths,st=gt.totalLength*rt,ot=0,ct=at.length,Pt=0,At;ot<ct;){if(Pt+at[ot].addedLength>st){var yt=ot,pt=ut.c&&ot===ct-1?0:ot+1,_t=(st-Pt)/at[ot].addedLength;At=bez.getPointInSegment(ut.v[yt],ut.v[pt],ut.o[yt],ut.i[pt],_t,at[ot]);break}else Pt+=at[ot].addedLength;ot+=1}return At||(At=ut.c?[ut.v[0][0],ut.v[0][1]]:[ut.v[ut._length-1][0],ut.v[ut._length-1][1]]),At},vectorOnPath:function(rt,lt,ut){rt==1?rt=this.v.c:rt==0&&(rt=.999);var gt=this.pointOnPath(rt,lt),at=this.pointOnPath(rt+.001,lt),st=at[0]-gt[0],ot=at[1]-gt[1],ct=Math.sqrt(Math.pow(st,2)+Math.pow(ot,2));if(ct===0)return[0,0];var Pt=ut==="tangent"?[st/ct,ot/ct]:[-ot/ct,st/ct];return Pt},tangentOnPath:function(rt,lt){return this.vectorOnPath(rt,lt,"tangent")},normalOnPath:function(rt,lt){return this.vectorOnPath(rt,lt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([$],g),extendPrototype([$],_),_.prototype.getValueAtTime=d,_.prototype.initiateExpression=ExpressionManager.initiateExpression;var nt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(et,rt,lt,ut,gt){var at=nt(et,rt,lt,ut,gt);return at.propertyIndex=rt.ix,at.lock=!1,lt===3?expressionHelpers.searchExpressions(et,rt.pt,at):lt===4&&expressionHelpers.searchExpressions(et,rt.ks,at),at.k&&et.addDynamicProperty(at),at}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function i(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,s){var o=this.calculateExpression(s);if(e.t!==o){var a={};return this.copyData(a,e),a.t=o.toString(),a.__complete=!1,a}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),s=this.searchExpressions();return this.kf=e||s,this.kf},TextProperty.prototype.searchExpressions=i}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function i(e,s){var o=createNS("feMerge");o.setAttribute("result",e);var a,c;for(c=0;c<s.length;c+=1)a=createNS("feMergeNode"),a.setAttribute("in",s[c]),o.appendChild(a),o.appendChild(a);return o}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(i,e,s,o,a){this.filterManager=e;var c=createNS("feColorMatrix");c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","linearRGB"),c.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=c,c.setAttribute("result",o+"_tint_1"),i.appendChild(c),c=createNS("feColorMatrix"),c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),c.setAttribute("result",o+"_tint_2"),i.appendChild(c),this.matrixFilter=c;var h=this.createMergeNode(o,[a,o+"_tint_1",o+"_tint_2"]);i.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+o+" 0"),this.matrixFilter.setAttribute("values",s[0]-e[0]+" 0 0 0 "+e[0]+" "+(s[1]-e[1])+" 0 0 0 "+e[1]+" "+(s[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(i,e,s,o){this.filterManager=e;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",o),i.appendChild(a),this.matrixFilter=a}SVGFillFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,s=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+s+" 0")}};function SVGStrokeEffect(i,e,s){this.initialized=!1,this.filterManager=e,this.elem=s,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var i=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,s,o,a;for(this.filterManager.effectElements[1].p.v===1?(a=this.elem.maskManager.masksProperties.length,o=0):(o=this.filterManager.effectElements[0].p.v-1,a=o+1),s=createNS("g"),s.setAttribute("fill","none"),s.setAttribute("stroke-linecap","round"),s.setAttribute("stroke-dashoffset",1),o;o<a;o+=1)e=createNS("path"),s.appendChild(e),this.paths.push({p:e,m:o});if(this.filterManager.effectElements[10].p.v===3){var c=createNS("mask"),h=createElementID();c.setAttribute("id",h),c.setAttribute("mask-type","alpha"),c.appendChild(s),this.elem.globalData.defs.appendChild(c);var d=createNS("g");for(d.setAttribute("mask","url("+getLocationHref()+"#"+h+")");i[0];)d.appendChild(i[0]);this.elem.layerElement.appendChild(d),this.masker=c,s.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(s),this.elem.layerElement.removeAttribute("mask"),s.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=s},SVGStrokeEffect.prototype.renderFrame=function(i){this.initialized||this.initialize();var e,s=this.paths.length,o,a;for(e=0;e<s;e+=1)if(this.paths[e].m!==-1&&(o=this.elem.maskManager.viewData[this.paths[e].m],a=this.paths[e].p,(i||this.filterManager._mdf||o.prop._mdf)&&a.setAttribute("d",o.lastPath),i||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||o.prop._mdf)){var c;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var h=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,d=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,g=a.getTotalLength();c="0 0 0 "+g*h+" ";var _=g*(d-h),$=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,nt=Math.floor(_/$),et;for(et=0;et<nt;et+=1)c+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";c+="0 "+g*10+" 0 0"}else c="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;a.setAttribute("stroke-dasharray",c)}if((i||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(i||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(i||this.filterManager.effectElements[3].p._mdf)){var rt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(rt[0]*255)+","+bmFloor(rt[1]*255)+","+bmFloor(rt[2]*255)+")")}};function SVGTritoneFilter(i,e,s,o){this.filterManager=e;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.appendChild(a);var c=createNS("feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("result",o),this.matrixFilter=c;var h=createNS("feFuncR");h.setAttribute("type","table"),c.appendChild(h),this.feFuncR=h;var d=createNS("feFuncG");d.setAttribute("type","table"),c.appendChild(d),this.feFuncG=d;var g=createNS("feFuncB");g.setAttribute("type","table"),c.appendChild(g),this.feFuncB=g,i.appendChild(c)}SVGTritoneFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,a=o[0]+" "+s[0]+" "+e[0],c=o[1]+" "+s[1]+" "+e[1],h=o[2]+" "+s[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",a),this.feFuncG.setAttribute("tableValues",c),this.feFuncB.setAttribute("tableValues",h)}};function SVGProLevelsFilter(i,e,s,o){this.filterManager=e;var a=this.filterManager.effectElements,c=createNS("feComponentTransfer");(a[10].p.k||a[10].p.v!==0||a[11].p.k||a[11].p.v!==1||a[12].p.k||a[12].p.v!==1||a[13].p.k||a[13].p.v!==0||a[14].p.k||a[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",c)),(a[17].p.k||a[17].p.v!==0||a[18].p.k||a[18].p.v!==1||a[19].p.k||a[19].p.v!==1||a[20].p.k||a[20].p.v!==0||a[21].p.k||a[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",c)),(a[24].p.k||a[24].p.v!==0||a[25].p.k||a[25].p.v!==1||a[26].p.k||a[26].p.v!==1||a[27].p.k||a[27].p.v!==0||a[28].p.k||a[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",c)),(a[31].p.k||a[31].p.v!==0||a[32].p.k||a[32].p.v!==1||a[33].p.k||a[33].p.v!==1||a[34].p.k||a[34].p.v!==0||a[35].p.k||a[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",c)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(c.setAttribute("color-interpolation-filters","sRGB"),i.appendChild(c)),(a[3].p.k||a[3].p.v!==0||a[4].p.k||a[4].p.v!==1||a[5].p.k||a[5].p.v!==1||a[6].p.k||a[6].p.v!==0||a[7].p.k||a[7].p.v!==1)&&(c=createNS("feComponentTransfer"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("result",o),i.appendChild(c),this.feFuncRComposed=this.createFeFunc("feFuncR",c),this.feFuncGComposed=this.createFeFunc("feFuncG",c),this.feFuncBComposed=this.createFeFunc("feFuncB",c))}SVGProLevelsFilter.prototype.createFeFunc=function(i,e){var s=createNS(i);return s.setAttribute("type","table"),e.appendChild(s),s},SVGProLevelsFilter.prototype.getTableValue=function(i,e,s,o,a){for(var c=0,h=256,d,g=Math.min(i,e),_=Math.max(i,e),$=Array.call(null,{length:h}),nt,et=0,rt=a-o,lt=e-i;c<=256;)d=c/256,d<=g?nt=lt<0?a:o:d>=_?nt=lt<0?o:a:nt=o+rt*Math.pow((d-i)/lt,1/s),$[et]=nt,et+=1,c+=256/(h-1);return $.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var e,s=this.filterManager.effectElements;this.feFuncRComposed&&(i||s[3].p._mdf||s[4].p._mdf||s[5].p._mdf||s[6].p._mdf||s[7].p._mdf)&&(e=this.getTableValue(s[3].p.v,s[4].p.v,s[5].p.v,s[6].p.v,s[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(i||s[10].p._mdf||s[11].p._mdf||s[12].p._mdf||s[13].p._mdf||s[14].p._mdf)&&(e=this.getTableValue(s[10].p.v,s[11].p.v,s[12].p.v,s[13].p.v,s[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(i||s[17].p._mdf||s[18].p._mdf||s[19].p._mdf||s[20].p._mdf||s[21].p._mdf)&&(e=this.getTableValue(s[17].p.v,s[18].p.v,s[19].p.v,s[20].p.v,s[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(i||s[24].p._mdf||s[25].p._mdf||s[26].p._mdf||s[27].p._mdf||s[28].p._mdf)&&(e=this.getTableValue(s[24].p.v,s[25].p.v,s[26].p.v,s[27].p.v,s[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(i||s[31].p._mdf||s[32].p._mdf||s[33].p._mdf||s[34].p._mdf||s[35].p._mdf)&&(e=this.getTableValue(s[31].p.v,s[32].p.v,s[33].p.v,s[34].p.v,s[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(i,e,s,o,a){var c=e.container.globalData.renderConfig.filterSize,h=e.data.fs||c;i.setAttribute("x",h.x||c.x),i.setAttribute("y",h.y||c.y),i.setAttribute("width",h.width||c.width),i.setAttribute("height",h.height||c.height),this.filterManager=e;var d=createNS("feGaussianBlur");d.setAttribute("in","SourceAlpha"),d.setAttribute("result",o+"_drop_shadow_1"),d.setAttribute("stdDeviation","0"),this.feGaussianBlur=d,i.appendChild(d);var g=createNS("feOffset");g.setAttribute("dx","25"),g.setAttribute("dy","0"),g.setAttribute("in",o+"_drop_shadow_1"),g.setAttribute("result",o+"_drop_shadow_2"),this.feOffset=g,i.appendChild(g);var _=createNS("feFlood");_.setAttribute("flood-color","#00ff00"),_.setAttribute("flood-opacity","1"),_.setAttribute("result",o+"_drop_shadow_3"),this.feFlood=_,i.appendChild(_);var $=createNS("feComposite");$.setAttribute("in",o+"_drop_shadow_3"),$.setAttribute("in2",o+"_drop_shadow_2"),$.setAttribute("operator","in"),$.setAttribute("result",o+"_drop_shadow_4"),i.appendChild($);var nt=this.createMergeNode(o,[o+"_drop_shadow_4",a]);i.appendChild(nt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){if((i||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),i||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((i||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),i||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var s=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,a=s*Math.cos(o),c=s*Math.sin(o);this.feOffset.setAttribute("dx",a),this.feOffset.setAttribute("dy",c)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(i,e,s){this.initialized=!1,this.filterManager=e,this.filterElem=i,this.elem=s,s.matteElement=createNS("g"),s.matteElement.appendChild(s.layerElement),s.matteElement.appendChild(s.transformedElement),s.baseElement=s.matteElement}SVGMatte3Effect.prototype.findSymbol=function(i){for(var e=0,s=_svgMatteSymbols.length;e<s;){if(_svgMatteSymbols[e]===i)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(i,e){var s=i.layerElement.parentNode;if(s){for(var o=s.children,a=0,c=o.length;a<c&&o[a]!==i.layerElement;)a+=1;var h;a<=c-2&&(h=o[a+1]);var d=createNS("use");d.setAttribute("href","#"+e),h?s.insertBefore(d,h):s.appendChild(d)}},SVGMatte3Effect.prototype.setElementAsMask=function(i,e){if(!this.findSymbol(e)){var s=createElementID(),o=createNS("mask");o.setAttribute("id",e.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var a=i.globalData.defs;a.appendChild(o);var c=createNS("symbol");c.setAttribute("id",s),this.replaceInParent(e,s),c.appendChild(e.layerElement),a.appendChild(c);var h=createNS("use");h.setAttribute("href","#"+s),o.appendChild(h),e.data.hd=!1,e.show()}i.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var i=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,s=0,o=e.length;s<o;)e[s]&&e[s].data.ind===i&&this.setElementAsMask(this.elem,e[s]),s+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(i,e,s,o){i.setAttribute("x","-100%"),i.setAttribute("y","-100%"),i.setAttribute("width","300%"),i.setAttribute("height","300%"),this.filterManager=e;var a=createNS("feGaussianBlur");a.setAttribute("result",o),i.appendChild(a),this.feGaussianBlur=a}SVGGaussianBlurEffect.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var e=.3,s=this.filterManager.effectElements[0].p.v*e,o=this.filterManager.effectElements[1].p.v,a=o==3?0:s,c=o==2?0:s;this.feGaussianBlur.setAttribute("stdDeviation",a+" "+c);var h=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",h)}};function TransformEffect(){}TransformEffect.prototype.init=function(i){this.effectsManager=i,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(i){if(this._opMdf=!1,this._mdf=!1,i||this.effectsManager._mdf){var e=this.effectsManager.effectElements,s=e[0].p.v,o=e[1].p.v,a=e[2].p.v===1,c=e[3].p.v,h=a?c:e[4].p.v,d=e[5].p.v,g=e[6].p.v,_=e[7].p.v;this.matrix.reset(),this.matrix.translate(-s[0],-s[1],s[2]),this.matrix.scale(h*.01,c*.01,1),this.matrix.rotate(-_*degToRads),this.matrix.skewFromAxis(-d*degToRads,(g+90)*degToRads),this.matrix.translate(o[0],o[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(i,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(i){this.init(i)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(i){const e=[];let s=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?e[s++]=a:a<2048?(e[s++]=a>>6|192,e[s++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),e[s++]=a>>18|240,e[s++]=a>>12&63|128,e[s++]=a>>6&63|128,e[s++]=a&63|128):(e[s++]=a>>12|224,e[s++]=a>>6&63|128,e[s++]=a&63|128)}return e},byteArrayToString=function(i){const e=[];let s=0,o=0;for(;s<i.length;){const a=i[s++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[s++];e[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[s++],h=i[s++],d=i[s++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;e[o++]=String.fromCharCode(55296+(g>>10)),e[o++]=String.fromCharCode(56320+(g&1023))}else{const c=i[s++],h=i[s++];e[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,d=h?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,$=c>>2,nt=(c&3)<<4|d>>4;let et=(d&15)<<2|_>>6,rt=_&63;g||(rt=64,h||(et=64)),o.push(s[$],s[nt],s[et],s[rt])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(stringToByteArray$1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):byteArrayToString(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=s[i.charAt(a++)],d=a<i.length?s[i.charAt(a)]:0;++a;const _=a<i.length?s[i.charAt(a)]:64;++a;const nt=a<i.length?s[i.charAt(a)]:64;if(++a,c==null||d==null||_==null||nt==null)throw new DecodeBase64StringError;const et=c<<2|d>>4;if(o.push(et),_!==64){const rt=d<<4&240|_>>2;if(o.push(rt),nt!==64){const lt=_<<6&192|nt;o.push(lt)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(i){const e=stringToByteArray$1(i);return base64.encodeByteArray(e,!0)},base64urlEncodeWithoutPadding=function(i){return base64Encode(i).replace(/\./g,"")},base64Decode=function(i){try{return base64.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const i=define_process_env_default.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&base64Decode(i[1]);return e&&JSON.parse(e)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},getDefaultEmulatorHost=i=>{var e,s;return(s=(e=getDefaults())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[i]},getDefaultEmulatorHostnameAndPort=i=>{const e=getDefaultEmulatorHost(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),o]:[e.substring(0,s),o]},getDefaultAppConfig=()=>{var i;return(i=getDefaults())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,o)=>{s?this.reject(s):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},o=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[base64urlEncodeWithoutPadding(JSON.stringify(s)),base64urlEncodeWithoutPadding(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isNode(){var i;const e=(i=getDefaults())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((i,e)=>{try{let s=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),s||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{s=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(e,s,o){super(s),this.code=e,this.customData=o,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(e,s,o){this.service=e,this.serviceName=s,this.errors=o}create(e,...s){const o=s[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?replaceTemplate(c,o):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new FirebaseError(a,d,o)}}function replaceTemplate(i,e){return i.replace(PATTERN,(s,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual(i,e){if(i===e)return!0;const s=Object.keys(i),o=Object.keys(e);for(const a of s){if(!o.includes(a))return!1;const c=i[a],h=e[a];if(isObject(c)&&isObject(h)){if(!deepEqual(c,h))return!1}else if(c!==h)return!1}for(const a of o)if(!s.includes(a))return!1;return!0}function isObject(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(i){return i&&i._delegate?i._delegate:i}let Component$1=class{constructor(e,s,o){this.name=e,this.instanceFactory=s,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const o=new Deferred;if(this.instancesDeferred.set(s,o),this.isInitialized(s)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:s});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(e=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=DEFAULT_ENTRY_NAME$1){return this.instances.has(e)}getOptions(e=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:s});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);o===d&&h.resolve(a)}return a}onInit(e,s){var o;const a=this.normalizeInstanceIdentifier(s),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,s){const o=this.onInitCallbacks.get(s);if(o)for(const a of o)try{a(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(e),options:s}),this.instances.set(e,o),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME$1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(i){return i===DEFAULT_ENTRY_NAME$1?void 0:i}function isComponentEager(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new Provider(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(i,e,...s)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),a=ConsoleMethod[e];if(a)console[a](`[${o}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Logger{constructor(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?levelStringToEnum[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...e),this._logHandler(this,LogLevel.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...e),this._logHandler(this,LogLevel.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...e),this._logHandler(this,LogLevel.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...e),this._logHandler(this,LogLevel.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...e),this._logHandler(this,LogLevel.ERROR,...e)}}const instanceOfAny=(i,e)=>e.some(s=>i instanceof s);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(i){const e=new Promise((s,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{s(wrap(i.result)),a()},h=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(s=>{s instanceof IDBCursor&&cursorRequestMap.set(s,i)}).catch(()=>{}),reverseTransformCache.set(e,i),e}function cacheDonePromiseForTransaction(i){if(transactionDoneMap.has(i))return;const e=new Promise((s,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{s(),a()},h=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});transactionDoneMap.set(i,e)}let idbProxyTraps={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return transactionDoneMap.get(i);if(e==="objectStoreNames")return i.objectStoreNames||transactionStoreNamesMap.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return wrap(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function replaceTraps(i){idbProxyTraps=i(idbProxyTraps)}function wrapFunction(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const o=i.call(unwrap(this),e,...s);return transactionStoreNamesMap.set(o,e.sort?e.sort():[e]),wrap(o)}:getCursorAdvanceMethods().includes(i)?function(...e){return i.apply(unwrap(this),e),wrap(cursorRequestMap.get(this))}:function(...e){return wrap(i.apply(unwrap(this),e))}}function transformCachableValue(i){return typeof i=="function"?wrapFunction(i):(i instanceof IDBTransaction&&cacheDonePromiseForTransaction(i),instanceOfAny(i,getIdbProxyableTypes())?new Proxy(i,idbProxyTraps):i)}function wrap(i){if(i instanceof IDBRequest)return promisifyRequest(i);if(transformCache.has(i))return transformCache.get(i);const e=transformCachableValue(i);return e!==i&&(transformCache.set(i,e),reverseTransformCache.set(e,i)),e}const unwrap=i=>reverseTransformCache.get(i);function openDB(i,e,{blocked:s,upgrade:o,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),d=wrap(h);return o&&h.addEventListener("upgradeneeded",g=>{o(wrap(h.result),g.oldVersion,g.newVersion,wrap(h.transaction),g)}),s&&h.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),d.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(cachedMethods.get(e))return cachedMethods.get(e);const s=e.replace(/FromIndex$/,""),o=e!==s,a=writeMethods.includes(s);if(!(s in(o?IDBIndex:IDBObjectStore).prototype)||!(a||readMethods.includes(s)))return;const c=async function(h,...d){const g=this.transaction(h,a?"readwrite":"readonly");let _=g.store;return o&&(_=_.index(d.shift())),(await Promise.all([_[s](...d),a&&g.done]))[0]};return cachedMethods.set(e,c),c}replaceTraps(i=>({...i,get:(e,s,o)=>getMethod(e,s)||i.get(e,s,o),has:(e,s)=>!!getMethod(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(isVersionServiceProvider(s)){const o=s.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(s=>s).join(" ")}}function isVersionServiceProvider(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const name$q="@firebase/app",version$1="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$p="@firebase/app-compat",name$o="@firebase/analytics-compat",name$n="@firebase/analytics",name$m="@firebase/app-check-compat",name$l="@firebase/app-check",name$k="@firebase/auth",name$j="@firebase/auth-compat",name$i="@firebase/database",name$h="@firebase/data-connect",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2="@firebase/vertexai-preview",name$1="@firebase/firestore-compat",name$r="firebase",version$2="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$q]:"fire-core",[name$p]:"fire-core-compat",[name$n]:"fire-analytics",[name$o]:"fire-analytics-compat",[name$l]:"fire-app-check",[name$m]:"fire-app-check-compat",[name$k]:"fire-auth",[name$j]:"fire-auth-compat",[name$i]:"fire-rtdb",[name$h]:"fire-data-connect",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1]:"fire-fst-compat",[name$2]:"fire-vertex","fire-js":"fire-js",[name$r]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(i,e){try{i.container.addComponent(e)}catch(s){logger.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function _registerComponent(i){const e=i.name;if(_components.has(e))return logger.debug(`There were multiple attempts to register component ${e}.`),!1;_components.set(e,i);for(const s of _apps.values())_addComponent(s,i);for(const s of _serverApps.values())_addComponent(s,i);return!0}function _getProvider(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(e,s,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Component$1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},e),a=o.name;if(typeof a!="string"||!a)throw ERROR_FACTORY.create("bad-app-name",{appName:String(a)});if(s||(s=getDefaultAppConfig()),!s)throw ERROR_FACTORY.create("no-options");const c=_apps.get(a);if(c){if(deepEqual(s,c.options)&&deepEqual(o,c.config))return c;throw ERROR_FACTORY.create("duplicate-app",{appName:a})}const h=new ComponentContainer(a);for(const g of _components.values())h.addComponent(g);const d=new FirebaseAppImpl(s,o,h);return _apps.set(a,d),d}function getApp(i=DEFAULT_ENTRY_NAME){const e=_apps.get(i);if(!e&&i===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!e)throw ERROR_FACTORY.create("no-app",{appName:i});return e}function registerVersion(i,e,s){var o;let a=(o=PLATFORM_LOG_STRING[i])!==null&&o!==void 0?o:i;s&&(a+=`-${s}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const d=[`Unable to register library "${a}" with version "${e}":`];c&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),logger.warn(d.join(" "));return}_registerComponent(new Component$1(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(STORE_NAME)}catch(s){console.warn(s)}}}}).catch(i=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:i.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(i){try{const s=(await getDbPromise()).transaction(STORE_NAME),o=await s.objectStore(STORE_NAME).get(computeKey(i));return await s.done,o}catch(e){if(e instanceof FirebaseError)logger.warn(e.message);else{const s=ERROR_FACTORY.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});logger.warn(s.message)}}}async function writeHeartbeatsToIndexedDB(i,e){try{const o=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await o.objectStore(STORE_NAME).put(e,computeKey(i)),await o.done}catch(s){if(s instanceof FirebaseError)logger.warn(s.message);else{const o=ERROR_FACTORY.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});logger.warn(o.message)}}}function computeKey(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(s),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,s;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=getUTCDateString();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache))}catch(o){logger.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=getUTCDateString(),{heartbeatsToSend:o,unsentEntries:a}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),c=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=s,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return logger.warn(s),""}}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(i,e=MAX_HEADER_BYTES){const s=[];let o=i.slice();for(const a of i){const c=s.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),countBytes(s)>e){c.dates.pop();break}}else if(s.push({agent:a.agent,dates:[a.date]}),countBytes(s)>e){s.pop();break}o=o.slice(1)}return{heartbeatsToSend:s,unsentEntries:o}}class HeartbeatStorageImpl{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await readHeartbeatsFromIndexedDB(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const a=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function countBytes(i){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(i){_registerComponent(new Component$1("platform-logger",e=>new PlatformLoggerServiceImpl(e),"PRIVATE")),_registerComponent(new Component$1("heartbeat",e=>new HeartbeatServiceImpl(e),"PRIVATE")),registerVersion(name$q,version$1,i),registerVersion(name$q,version$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name="firebase",version="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name,version,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(yt,pt){function _t(){}_t.prototype=pt.prototype,yt.D=pt.prototype,yt.prototype=new _t,yt.prototype.constructor=yt,yt.C=function(St,xt,It){for(var wt=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)wt[Wt-2]=arguments[Wt];return pt.prototype[xt].apply(St,wt)}}function s(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,s),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(yt,pt,_t){_t||(_t=0);var St=Array(16);if(typeof pt=="string")for(var xt=0;16>xt;++xt)St[xt]=pt.charCodeAt(_t++)|pt.charCodeAt(_t++)<<8|pt.charCodeAt(_t++)<<16|pt.charCodeAt(_t++)<<24;else for(xt=0;16>xt;++xt)St[xt]=pt[_t++]|pt[_t++]<<8|pt[_t++]<<16|pt[_t++]<<24;pt=yt.g[0],_t=yt.g[1],xt=yt.g[2];var It=yt.g[3],wt=pt+(It^_t&(xt^It))+St[0]+3614090360&4294967295;pt=_t+(wt<<7&4294967295|wt>>>25),wt=It+(xt^pt&(_t^xt))+St[1]+3905402710&4294967295,It=pt+(wt<<12&4294967295|wt>>>20),wt=xt+(_t^It&(pt^_t))+St[2]+606105819&4294967295,xt=It+(wt<<17&4294967295|wt>>>15),wt=_t+(pt^xt&(It^pt))+St[3]+3250441966&4294967295,_t=xt+(wt<<22&4294967295|wt>>>10),wt=pt+(It^_t&(xt^It))+St[4]+4118548399&4294967295,pt=_t+(wt<<7&4294967295|wt>>>25),wt=It+(xt^pt&(_t^xt))+St[5]+1200080426&4294967295,It=pt+(wt<<12&4294967295|wt>>>20),wt=xt+(_t^It&(pt^_t))+St[6]+2821735955&4294967295,xt=It+(wt<<17&4294967295|wt>>>15),wt=_t+(pt^xt&(It^pt))+St[7]+4249261313&4294967295,_t=xt+(wt<<22&4294967295|wt>>>10),wt=pt+(It^_t&(xt^It))+St[8]+1770035416&4294967295,pt=_t+(wt<<7&4294967295|wt>>>25),wt=It+(xt^pt&(_t^xt))+St[9]+2336552879&4294967295,It=pt+(wt<<12&4294967295|wt>>>20),wt=xt+(_t^It&(pt^_t))+St[10]+4294925233&4294967295,xt=It+(wt<<17&4294967295|wt>>>15),wt=_t+(pt^xt&(It^pt))+St[11]+2304563134&4294967295,_t=xt+(wt<<22&4294967295|wt>>>10),wt=pt+(It^_t&(xt^It))+St[12]+1804603682&4294967295,pt=_t+(wt<<7&4294967295|wt>>>25),wt=It+(xt^pt&(_t^xt))+St[13]+4254626195&4294967295,It=pt+(wt<<12&4294967295|wt>>>20),wt=xt+(_t^It&(pt^_t))+St[14]+2792965006&4294967295,xt=It+(wt<<17&4294967295|wt>>>15),wt=_t+(pt^xt&(It^pt))+St[15]+1236535329&4294967295,_t=xt+(wt<<22&4294967295|wt>>>10),wt=pt+(xt^It&(_t^xt))+St[1]+4129170786&4294967295,pt=_t+(wt<<5&4294967295|wt>>>27),wt=It+(_t^xt&(pt^_t))+St[6]+3225465664&4294967295,It=pt+(wt<<9&4294967295|wt>>>23),wt=xt+(pt^_t&(It^pt))+St[11]+643717713&4294967295,xt=It+(wt<<14&4294967295|wt>>>18),wt=_t+(It^pt&(xt^It))+St[0]+3921069994&4294967295,_t=xt+(wt<<20&4294967295|wt>>>12),wt=pt+(xt^It&(_t^xt))+St[5]+3593408605&4294967295,pt=_t+(wt<<5&4294967295|wt>>>27),wt=It+(_t^xt&(pt^_t))+St[10]+38016083&4294967295,It=pt+(wt<<9&4294967295|wt>>>23),wt=xt+(pt^_t&(It^pt))+St[15]+3634488961&4294967295,xt=It+(wt<<14&4294967295|wt>>>18),wt=_t+(It^pt&(xt^It))+St[4]+3889429448&4294967295,_t=xt+(wt<<20&4294967295|wt>>>12),wt=pt+(xt^It&(_t^xt))+St[9]+568446438&4294967295,pt=_t+(wt<<5&4294967295|wt>>>27),wt=It+(_t^xt&(pt^_t))+St[14]+3275163606&4294967295,It=pt+(wt<<9&4294967295|wt>>>23),wt=xt+(pt^_t&(It^pt))+St[3]+4107603335&4294967295,xt=It+(wt<<14&4294967295|wt>>>18),wt=_t+(It^pt&(xt^It))+St[8]+1163531501&4294967295,_t=xt+(wt<<20&4294967295|wt>>>12),wt=pt+(xt^It&(_t^xt))+St[13]+2850285829&4294967295,pt=_t+(wt<<5&4294967295|wt>>>27),wt=It+(_t^xt&(pt^_t))+St[2]+4243563512&4294967295,It=pt+(wt<<9&4294967295|wt>>>23),wt=xt+(pt^_t&(It^pt))+St[7]+1735328473&4294967295,xt=It+(wt<<14&4294967295|wt>>>18),wt=_t+(It^pt&(xt^It))+St[12]+2368359562&4294967295,_t=xt+(wt<<20&4294967295|wt>>>12),wt=pt+(_t^xt^It)+St[5]+4294588738&4294967295,pt=_t+(wt<<4&4294967295|wt>>>28),wt=It+(pt^_t^xt)+St[8]+2272392833&4294967295,It=pt+(wt<<11&4294967295|wt>>>21),wt=xt+(It^pt^_t)+St[11]+1839030562&4294967295,xt=It+(wt<<16&4294967295|wt>>>16),wt=_t+(xt^It^pt)+St[14]+4259657740&4294967295,_t=xt+(wt<<23&4294967295|wt>>>9),wt=pt+(_t^xt^It)+St[1]+2763975236&4294967295,pt=_t+(wt<<4&4294967295|wt>>>28),wt=It+(pt^_t^xt)+St[4]+1272893353&4294967295,It=pt+(wt<<11&4294967295|wt>>>21),wt=xt+(It^pt^_t)+St[7]+4139469664&4294967295,xt=It+(wt<<16&4294967295|wt>>>16),wt=_t+(xt^It^pt)+St[10]+3200236656&4294967295,_t=xt+(wt<<23&4294967295|wt>>>9),wt=pt+(_t^xt^It)+St[13]+681279174&4294967295,pt=_t+(wt<<4&4294967295|wt>>>28),wt=It+(pt^_t^xt)+St[0]+3936430074&4294967295,It=pt+(wt<<11&4294967295|wt>>>21),wt=xt+(It^pt^_t)+St[3]+3572445317&4294967295,xt=It+(wt<<16&4294967295|wt>>>16),wt=_t+(xt^It^pt)+St[6]+76029189&4294967295,_t=xt+(wt<<23&4294967295|wt>>>9),wt=pt+(_t^xt^It)+St[9]+3654602809&4294967295,pt=_t+(wt<<4&4294967295|wt>>>28),wt=It+(pt^_t^xt)+St[12]+3873151461&4294967295,It=pt+(wt<<11&4294967295|wt>>>21),wt=xt+(It^pt^_t)+St[15]+530742520&4294967295,xt=It+(wt<<16&4294967295|wt>>>16),wt=_t+(xt^It^pt)+St[2]+3299628645&4294967295,_t=xt+(wt<<23&4294967295|wt>>>9),wt=pt+(xt^(_t|~It))+St[0]+4096336452&4294967295,pt=_t+(wt<<6&4294967295|wt>>>26),wt=It+(_t^(pt|~xt))+St[7]+1126891415&4294967295,It=pt+(wt<<10&4294967295|wt>>>22),wt=xt+(pt^(It|~_t))+St[14]+2878612391&4294967295,xt=It+(wt<<15&4294967295|wt>>>17),wt=_t+(It^(xt|~pt))+St[5]+4237533241&4294967295,_t=xt+(wt<<21&4294967295|wt>>>11),wt=pt+(xt^(_t|~It))+St[12]+1700485571&4294967295,pt=_t+(wt<<6&4294967295|wt>>>26),wt=It+(_t^(pt|~xt))+St[3]+2399980690&4294967295,It=pt+(wt<<10&4294967295|wt>>>22),wt=xt+(pt^(It|~_t))+St[10]+4293915773&4294967295,xt=It+(wt<<15&4294967295|wt>>>17),wt=_t+(It^(xt|~pt))+St[1]+2240044497&4294967295,_t=xt+(wt<<21&4294967295|wt>>>11),wt=pt+(xt^(_t|~It))+St[8]+1873313359&4294967295,pt=_t+(wt<<6&4294967295|wt>>>26),wt=It+(_t^(pt|~xt))+St[15]+4264355552&4294967295,It=pt+(wt<<10&4294967295|wt>>>22),wt=xt+(pt^(It|~_t))+St[6]+2734768916&4294967295,xt=It+(wt<<15&4294967295|wt>>>17),wt=_t+(It^(xt|~pt))+St[13]+1309151649&4294967295,_t=xt+(wt<<21&4294967295|wt>>>11),wt=pt+(xt^(_t|~It))+St[4]+4149444226&4294967295,pt=_t+(wt<<6&4294967295|wt>>>26),wt=It+(_t^(pt|~xt))+St[11]+3174756917&4294967295,It=pt+(wt<<10&4294967295|wt>>>22),wt=xt+(pt^(It|~_t))+St[2]+718787259&4294967295,xt=It+(wt<<15&4294967295|wt>>>17),wt=_t+(It^(xt|~pt))+St[9]+3951481745&4294967295,yt.g[0]=yt.g[0]+pt&4294967295,yt.g[1]=yt.g[1]+(xt+(wt<<21&4294967295|wt>>>11))&4294967295,yt.g[2]=yt.g[2]+xt&4294967295,yt.g[3]=yt.g[3]+It&4294967295}o.prototype.u=function(yt,pt){pt===void 0&&(pt=yt.length);for(var _t=pt-this.blockSize,St=this.B,xt=this.h,It=0;It<pt;){if(xt==0)for(;It<=_t;)a(this,yt,It),It+=this.blockSize;if(typeof yt=="string"){for(;It<pt;)if(St[xt++]=yt.charCodeAt(It++),xt==this.blockSize){a(this,St),xt=0;break}}else for(;It<pt;)if(St[xt++]=yt[It++],xt==this.blockSize){a(this,St),xt=0;break}}this.h=xt,this.o+=pt},o.prototype.v=function(){var yt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);yt[0]=128;for(var pt=1;pt<yt.length-8;++pt)yt[pt]=0;var _t=8*this.o;for(pt=yt.length-8;pt<yt.length;++pt)yt[pt]=_t&255,_t/=256;for(this.u(yt),yt=Array(16),pt=_t=0;4>pt;++pt)for(var St=0;32>St;St+=8)yt[_t++]=this.g[pt]>>>St&255;return yt};function c(yt,pt){var _t=d;return Object.prototype.hasOwnProperty.call(_t,yt)?_t[yt]:_t[yt]=pt(yt)}function h(yt,pt){this.h=pt;for(var _t=[],St=!0,xt=yt.length-1;0<=xt;xt--){var It=yt[xt]|0;St&&It==pt||(_t[xt]=It,St=!1)}this.g=_t}var d={};function g(yt){return-128<=yt&&128>yt?c(yt,function(pt){return new h([pt|0],0>pt?-1:0)}):new h([yt|0],0>yt?-1:0)}function _(yt){if(isNaN(yt)||!isFinite(yt))return nt;if(0>yt)return gt(_(-yt));for(var pt=[],_t=1,St=0;yt>=_t;St++)pt[St]=yt/_t|0,_t*=4294967296;return new h(pt,0)}function $(yt,pt){if(yt.length==0)throw Error("number format error: empty string");if(pt=pt||10,2>pt||36<pt)throw Error("radix out of range: "+pt);if(yt.charAt(0)=="-")return gt($(yt.substring(1),pt));if(0<=yt.indexOf("-"))throw Error('number format error: interior "-" character');for(var _t=_(Math.pow(pt,8)),St=nt,xt=0;xt<yt.length;xt+=8){var It=Math.min(8,yt.length-xt),wt=parseInt(yt.substring(xt,xt+It),pt);8>It?(It=_(Math.pow(pt,It)),St=St.j(It).add(_(wt))):(St=St.j(_t),St=St.add(_(wt)))}return St}var nt=g(0),et=g(1),rt=g(16777216);i=h.prototype,i.m=function(){if(ut(this))return-gt(this).m();for(var yt=0,pt=1,_t=0;_t<this.g.length;_t++){var St=this.i(_t);yt+=(0<=St?St:4294967296+St)*pt,pt*=4294967296}return yt},i.toString=function(yt){if(yt=yt||10,2>yt||36<yt)throw Error("radix out of range: "+yt);if(lt(this))return"0";if(ut(this))return"-"+gt(this).toString(yt);for(var pt=_(Math.pow(yt,6)),_t=this,St="";;){var xt=ct(_t,pt).g;_t=at(_t,xt.j(pt));var It=((0<_t.g.length?_t.g[0]:_t.h)>>>0).toString(yt);if(_t=xt,lt(_t))return It+St;for(;6>It.length;)It="0"+It;St=It+St}},i.i=function(yt){return 0>yt?0:yt<this.g.length?this.g[yt]:this.h};function lt(yt){if(yt.h!=0)return!1;for(var pt=0;pt<yt.g.length;pt++)if(yt.g[pt]!=0)return!1;return!0}function ut(yt){return yt.h==-1}i.l=function(yt){return yt=at(this,yt),ut(yt)?-1:lt(yt)?0:1};function gt(yt){for(var pt=yt.g.length,_t=[],St=0;St<pt;St++)_t[St]=~yt.g[St];return new h(_t,~yt.h).add(et)}i.abs=function(){return ut(this)?gt(this):this},i.add=function(yt){for(var pt=Math.max(this.g.length,yt.g.length),_t=[],St=0,xt=0;xt<=pt;xt++){var It=St+(this.i(xt)&65535)+(yt.i(xt)&65535),wt=(It>>>16)+(this.i(xt)>>>16)+(yt.i(xt)>>>16);St=wt>>>16,It&=65535,wt&=65535,_t[xt]=wt<<16|It}return new h(_t,_t[_t.length-1]&-2147483648?-1:0)};function at(yt,pt){return yt.add(gt(pt))}i.j=function(yt){if(lt(this)||lt(yt))return nt;if(ut(this))return ut(yt)?gt(this).j(gt(yt)):gt(gt(this).j(yt));if(ut(yt))return gt(this.j(gt(yt)));if(0>this.l(rt)&&0>yt.l(rt))return _(this.m()*yt.m());for(var pt=this.g.length+yt.g.length,_t=[],St=0;St<2*pt;St++)_t[St]=0;for(St=0;St<this.g.length;St++)for(var xt=0;xt<yt.g.length;xt++){var It=this.i(St)>>>16,wt=this.i(St)&65535,Wt=yt.i(xt)>>>16,Ut=yt.i(xt)&65535;_t[2*St+2*xt]+=wt*Ut,st(_t,2*St+2*xt),_t[2*St+2*xt+1]+=It*Ut,st(_t,2*St+2*xt+1),_t[2*St+2*xt+1]+=wt*Wt,st(_t,2*St+2*xt+1),_t[2*St+2*xt+2]+=It*Wt,st(_t,2*St+2*xt+2)}for(St=0;St<pt;St++)_t[St]=_t[2*St+1]<<16|_t[2*St];for(St=pt;St<2*pt;St++)_t[St]=0;return new h(_t,0)};function st(yt,pt){for(;(yt[pt]&65535)!=yt[pt];)yt[pt+1]+=yt[pt]>>>16,yt[pt]&=65535,pt++}function ot(yt,pt){this.g=yt,this.h=pt}function ct(yt,pt){if(lt(pt))throw Error("division by zero");if(lt(yt))return new ot(nt,nt);if(ut(yt))return pt=ct(gt(yt),pt),new ot(gt(pt.g),gt(pt.h));if(ut(pt))return pt=ct(yt,gt(pt)),new ot(gt(pt.g),pt.h);if(30<yt.g.length){if(ut(yt)||ut(pt))throw Error("slowDivide_ only works with positive integers.");for(var _t=et,St=pt;0>=St.l(yt);)_t=Pt(_t),St=Pt(St);var xt=At(_t,1),It=At(St,1);for(St=At(St,2),_t=At(_t,2);!lt(St);){var wt=It.add(St);0>=wt.l(yt)&&(xt=xt.add(_t),It=wt),St=At(St,1),_t=At(_t,1)}return pt=at(yt,xt.j(pt)),new ot(xt,pt)}for(xt=nt;0<=yt.l(pt);){for(_t=Math.max(1,Math.floor(yt.m()/pt.m())),St=Math.ceil(Math.log(_t)/Math.LN2),St=48>=St?1:Math.pow(2,St-48),It=_(_t),wt=It.j(pt);ut(wt)||0<wt.l(yt);)_t-=St,It=_(_t),wt=It.j(pt);lt(It)&&(It=et),xt=xt.add(It),yt=at(yt,wt)}return new ot(xt,yt)}i.A=function(yt){return ct(this,yt).h},i.and=function(yt){for(var pt=Math.max(this.g.length,yt.g.length),_t=[],St=0;St<pt;St++)_t[St]=this.i(St)&yt.i(St);return new h(_t,this.h&yt.h)},i.or=function(yt){for(var pt=Math.max(this.g.length,yt.g.length),_t=[],St=0;St<pt;St++)_t[St]=this.i(St)|yt.i(St);return new h(_t,this.h|yt.h)},i.xor=function(yt){for(var pt=Math.max(this.g.length,yt.g.length),_t=[],St=0;St<pt;St++)_t[St]=this.i(St)^yt.i(St);return new h(_t,this.h^yt.h)};function Pt(yt){for(var pt=yt.g.length+1,_t=[],St=0;St<pt;St++)_t[St]=yt.i(St)<<1|yt.i(St-1)>>>31;return new h(_t,yt.h)}function At(yt,pt){var _t=pt>>5;pt%=32;for(var St=yt.g.length-_t,xt=[],It=0;It<St;It++)xt[It]=0<pt?yt.i(It+_t)>>>pt|yt.i(It+_t+1)<<32-pt:yt.i(It+_t);return new h(xt,yt.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Md5=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=$,Integer=h}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,WebChannel,EventType,ErrorCode,Stat,Event,getStatEventTarget,createWebChannelTransport;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(j,ht,Et){return j==Array.prototype||j==Object.prototype||(j[ht]=Et.value),j};function s(j){j=[typeof globalThis=="object"&&globalThis,j,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var ht=0;ht<j.length;++ht){var Et=j[ht];if(Et&&Et.Math==Math)return Et}throw Error("Cannot find global object")}var o=s(this);function a(j,ht){if(ht)e:{var Et=o;j=j.split(".");for(var bt=0;bt<j.length-1;bt++){var jt=j[bt];if(!(jt in Et))break e;Et=Et[jt]}j=j[j.length-1],bt=Et[j],ht=ht(bt),ht!=bt&&ht!=null&&e(Et,j,{configurable:!0,writable:!0,value:ht})}}function c(j,ht){j instanceof String&&(j+="");var Et=0,bt=!1,jt={next:function(){if(!bt&&Et<j.length){var Ht=Et++;return{value:ht(Ht,j[Ht]),done:!1}}return bt=!0,{done:!0,value:void 0}}};return jt[Symbol.iterator]=function(){return jt},jt}a("Array.prototype.values",function(j){return j||function(){return c(this,function(ht,Et){return Et})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(j){var ht=typeof j;return ht=ht!="object"?ht:j?Array.isArray(j)?"array":ht:"null",ht=="array"||ht=="object"&&typeof j.length=="number"}function _(j){var ht=typeof j;return ht=="object"&&j!=null||ht=="function"}function $(j,ht,Et){return j.call.apply(j.bind,arguments)}function nt(j,ht,Et){if(!j)throw Error();if(2<arguments.length){var bt=Array.prototype.slice.call(arguments,2);return function(){var jt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(jt,bt),j.apply(ht,jt)}}return function(){return j.apply(ht,arguments)}}function et(j,ht,Et){return et=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$:nt,et.apply(null,arguments)}function rt(j,ht){var Et=Array.prototype.slice.call(arguments,1);return function(){var bt=Et.slice();return bt.push.apply(bt,arguments),j.apply(this,bt)}}function lt(j,ht){function Et(){}Et.prototype=ht.prototype,j.aa=ht.prototype,j.prototype=new Et,j.prototype.constructor=j,j.Qb=function(bt,jt,Ht){for(var ir=Array(arguments.length-2),Fr=2;Fr<arguments.length;Fr++)ir[Fr-2]=arguments[Fr];return ht.prototype[jt].apply(bt,ir)}}function ut(j){const ht=j.length;if(0<ht){const Et=Array(ht);for(let bt=0;bt<ht;bt++)Et[bt]=j[bt];return Et}return[]}function gt(j,ht){for(let Et=1;Et<arguments.length;Et++){const bt=arguments[Et];if(g(bt)){const jt=j.length||0,Ht=bt.length||0;j.length=jt+Ht;for(let ir=0;ir<Ht;ir++)j[jt+ir]=bt[ir]}else j.push(bt)}}class at{constructor(ht,Et){this.i=ht,this.j=Et,this.h=0,this.g=null}get(){let ht;return 0<this.h?(this.h--,ht=this.g,this.g=ht.next,ht.next=null):ht=this.i(),ht}}function st(j){return/^[\s\xa0]*$/.test(j)}function ot(){var j=d.navigator;return j&&(j=j.userAgent)?j:""}function ct(j){return ct[" "](j),j}ct[" "]=function(){};var Pt=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function At(j,ht,Et){for(const bt in j)ht.call(Et,j[bt],bt,j)}function yt(j,ht){for(const Et in j)ht.call(void 0,j[Et],Et,j)}function pt(j){const ht={};for(const Et in j)ht[Et]=j[Et];return ht}const _t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function St(j,ht){let Et,bt;for(let jt=1;jt<arguments.length;jt++){bt=arguments[jt];for(Et in bt)j[Et]=bt[Et];for(let Ht=0;Ht<_t.length;Ht++)Et=_t[Ht],Object.prototype.hasOwnProperty.call(bt,Et)&&(j[Et]=bt[Et])}}function xt(j){var ht=1;j=j.split(":");const Et=[];for(;0<ht&&j.length;)Et.push(j.shift()),ht--;return j.length&&Et.push(j.join(":")),Et}function It(j){d.setTimeout(()=>{throw j},0)}function wt(){var j=vt;let ht=null;return j.g&&(ht=j.g,j.g=j.g.next,j.g||(j.h=null),ht.next=null),ht}class Wt{constructor(){this.h=this.g=null}add(ht,Et){const bt=Ut.get();bt.set(ht,Et),this.h?this.h.next=bt:this.g=bt,this.h=bt}}var Ut=new at(()=>new Ct,j=>j.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(ht,Et){this.h=ht,this.g=Et,this.next=null}reset(){this.next=this.g=this.h=null}}let kt,dt=!1,vt=new Wt,Ft=()=>{const j=d.Promise.resolve(void 0);kt=()=>{j.then(Lt)}};var Lt=()=>{for(var j;j=wt();){try{j.h.call(j.g)}catch(Et){It(Et)}var ht=Ut;ht.j(j),100>ht.h&&(ht.h++,j.next=ht.g,ht.g=j)}dt=!1};function Yt(){this.s=this.s,this.C=this.C}Yt.prototype.s=!1,Yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qt(j,ht){this.type=j,this.g=this.target=ht,this.defaultPrevented=!1}Qt.prototype.h=function(){this.defaultPrevented=!0};var tr=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var j=!1,ht=Object.defineProperty({},"passive",{get:function(){j=!0}});try{const Et=()=>{};d.addEventListener("test",Et,ht),d.removeEventListener("test",Et,ht)}catch{}return j}();function Mt(j,ht){if(Qt.call(this,j?j.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,j){var Et=this.type=j.type,bt=j.changedTouches&&j.changedTouches.length?j.changedTouches[0]:null;if(this.target=j.target||j.srcElement,this.g=ht,ht=j.relatedTarget){if(Pt){e:{try{ct(ht.nodeName);var jt=!0;break e}catch{}jt=!1}jt||(ht=null)}}else Et=="mouseover"?ht=j.fromElement:Et=="mouseout"&&(ht=j.toElement);this.relatedTarget=ht,bt?(this.clientX=bt.clientX!==void 0?bt.clientX:bt.pageX,this.clientY=bt.clientY!==void 0?bt.clientY:bt.pageY,this.screenX=bt.screenX||0,this.screenY=bt.screenY||0):(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0),this.button=j.button,this.key=j.key||"",this.ctrlKey=j.ctrlKey,this.altKey=j.altKey,this.shiftKey=j.shiftKey,this.metaKey=j.metaKey,this.pointerId=j.pointerId||0,this.pointerType=typeof j.pointerType=="string"?j.pointerType:mt[j.pointerType]||"",this.state=j.state,this.i=j,j.defaultPrevented&&Mt.aa.h.call(this)}}lt(Mt,Qt);var mt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var j=this.i;j.preventDefault?j.preventDefault():j.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function Gt(j,ht,Et,bt,jt){this.listener=j,this.proxy=null,this.src=ht,this.type=Et,this.capture=!!bt,this.ha=jt,this.key=++Ot,this.da=this.fa=!1}function Kt(j){j.da=!0,j.listener=null,j.proxy=null,j.src=null,j.ha=null}function Xt(j){this.src=j,this.g={},this.h=0}Xt.prototype.add=function(j,ht,Et,bt,jt){var Ht=j.toString();j=this.g[Ht],j||(j=this.g[Ht]=[],this.h++);var ir=hr(j,ht,bt,jt);return-1<ir?(ht=j[ir],Et||(ht.fa=!1)):(ht=new Gt(ht,this.src,Ht,!!bt,jt),ht.fa=Et,j.push(ht)),ht};function ar(j,ht){var Et=ht.type;if(Et in j.g){var bt=j.g[Et],jt=Array.prototype.indexOf.call(bt,ht,void 0),Ht;(Ht=0<=jt)&&Array.prototype.splice.call(bt,jt,1),Ht&&(Kt(ht),j.g[Et].length==0&&(delete j.g[Et],j.h--))}}function hr(j,ht,Et,bt){for(var jt=0;jt<j.length;++jt){var Ht=j[jt];if(!Ht.da&&Ht.listener==ht&&Ht.capture==!!Et&&Ht.ha==bt)return jt}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),pr={};function br(j,ht,Et,bt,jt){if(Array.isArray(ht)){for(var Ht=0;Ht<ht.length;Ht++)br(j,ht[Ht],Et,bt,jt);return null}return Et=kr(Et),j&&j[Rt]?j.K(ht,Et,_(bt)?!!bt.capture:!!bt,jt):Tr(j,ht,Et,!1,bt,jt)}function Tr(j,ht,Et,bt,jt,Ht){if(!ht)throw Error("Invalid event type");var ir=_(jt)?!!jt.capture:!!jt,Fr=Pr(j);if(Fr||(j[Zt]=Fr=new Xt(j)),Et=Fr.add(ht,Et,bt,ir,Ht),Et.proxy)return Et;if(bt=Sr(),Et.proxy=bt,bt.src=j,bt.listener=Et,j.addEventListener)tr||(jt=ir),jt===void 0&&(jt=!1),j.addEventListener(ht.toString(),bt,jt);else if(j.attachEvent)j.attachEvent(Dr(ht.toString()),bt);else if(j.addListener&&j.removeListener)j.addListener(bt);else throw Error("addEventListener and attachEvent are unavailable.");return Et}function Sr(){function j(Et){return ht.call(j.src,j.listener,Et)}const ht=Br;return j}function zr(j,ht,Et,bt,jt){if(Array.isArray(ht))for(var Ht=0;Ht<ht.length;Ht++)zr(j,ht[Ht],Et,bt,jt);else bt=_(bt)?!!bt.capture:!!bt,Et=kr(Et),j&&j[Rt]?(j=j.i,ht=String(ht).toString(),ht in j.g&&(Ht=j.g[ht],Et=hr(Ht,Et,bt,jt),-1<Et&&(Kt(Ht[Et]),Array.prototype.splice.call(Ht,Et,1),Ht.length==0&&(delete j.g[ht],j.h--)))):j&&(j=Pr(j))&&(ht=j.g[ht.toString()],j=-1,ht&&(j=hr(ht,Et,bt,jt)),(Et=-1<j?ht[j]:null)&&Or(Et))}function Or(j){if(typeof j!="number"&&j&&!j.da){var ht=j.src;if(ht&&ht[Rt])ar(ht.i,j);else{var Et=j.type,bt=j.proxy;ht.removeEventListener?ht.removeEventListener(Et,bt,j.capture):ht.detachEvent?ht.detachEvent(Dr(Et),bt):ht.addListener&&ht.removeListener&&ht.removeListener(bt),(Et=Pr(ht))?(ar(Et,j),Et.h==0&&(Et.src=null,ht[Zt]=null)):Kt(j)}}}function Dr(j){return j in pr?pr[j]:pr[j]="on"+j}function Br(j,ht){if(j.da)j=!0;else{ht=new Mt(ht,this);var Et=j.listener,bt=j.ha||j.src;j.fa&&Or(j),j=Et.call(bt,ht)}return j}function Pr(j){return j=j[Zt],j instanceof Xt?j:null}var Er="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(j){return typeof j=="function"?j:(j[Er]||(j[Er]=function(ht){return j.handleEvent(ht)}),j[Er])}function dr(){Yt.call(this),this.i=new Xt(this),this.M=this,this.F=null}lt(dr,Yt),dr.prototype[Rt]=!0,dr.prototype.removeEventListener=function(j,ht,Et,bt){zr(this,j,ht,Et,bt)};function vr(j,ht){var Et,bt=j.F;if(bt)for(Et=[];bt;bt=bt.F)Et.push(bt);if(j=j.M,bt=ht.type||ht,typeof ht=="string")ht=new Qt(ht,j);else if(ht instanceof Qt)ht.target=ht.target||j;else{var jt=ht;ht=new Qt(bt,j),St(ht,jt)}if(jt=!0,Et)for(var Ht=Et.length-1;0<=Ht;Ht--){var ir=ht.g=Et[Ht];jt=Vr(ir,bt,!0,ht)&&jt}if(ir=ht.g=j,jt=Vr(ir,bt,!0,ht)&&jt,jt=Vr(ir,bt,!1,ht)&&jt,Et)for(Ht=0;Ht<Et.length;Ht++)ir=ht.g=Et[Ht],jt=Vr(ir,bt,!1,ht)&&jt}dr.prototype.N=function(){if(dr.aa.N.call(this),this.i){var j=this.i,ht;for(ht in j.g){for(var Et=j.g[ht],bt=0;bt<Et.length;bt++)Kt(Et[bt]);delete j.g[ht],j.h--}}this.F=null},dr.prototype.K=function(j,ht,Et,bt){return this.i.add(String(j),ht,!1,Et,bt)},dr.prototype.L=function(j,ht,Et,bt){return this.i.add(String(j),ht,!0,Et,bt)};function Vr(j,ht,Et,bt){if(ht=j.i.g[String(ht)],!ht)return!0;ht=ht.concat();for(var jt=!0,Ht=0;Ht<ht.length;++Ht){var ir=ht[Ht];if(ir&&!ir.da&&ir.capture==Et){var Fr=ir.listener,Kr=ir.ha||ir.src;ir.fa&&ar(j.i,ir),jt=Fr.call(Kr,bt)!==!1&&jt}}return jt&&!bt.defaultPrevented}function gn(j,ht,Et){if(typeof j=="function")Et&&(j=et(j,Et));else if(j&&typeof j.handleEvent=="function")j=et(j.handleEvent,j);else throw Error("Invalid listener argument");return 2147483647<Number(ht)?-1:d.setTimeout(j,ht||0)}function An(j){j.g=gn(()=>{j.g=null,j.i&&(j.i=!1,An(j))},j.l);const ht=j.h;j.h=null,j.m.apply(null,ht)}class Vo extends Yt{constructor(ht,Et){super(),this.m=ht,this.l=Et,this.h=null,this.i=!1,this.g=null}j(ht){this.h=arguments,this.g?this.i=!0:An(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(j){Yt.call(this),this.h=j,this.g={}}lt(Kn,Yt);var ts=[];function Ms(j){At(j.g,function(ht,Et){this.g.hasOwnProperty(Et)&&Or(ht)},j),j.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),Ms(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=d.JSON.stringify,Ds=d.JSON.parse,so=class{stringify(j){return d.JSON.stringify(j,void 0)}parse(j){return d.JSON.parse(j,void 0)}};function gs(){}gs.prototype.h=null;function Fs(j){return j.h||(j.h=j.i())}function Ls(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Os(){Qt.call(this,"d")}lt(Os,Qt);function Ns(){Qt.call(this,"c")}lt(Ns,Qt);var Fn={},Bs=null;function mr(){return Bs=Bs||new dr}Fn.La="serverreachability";function oo(j){Qt.call(this,Fn.La,j)}lt(oo,Qt);function Ln(j){const ht=mr();vr(ht,new oo(ht))}Fn.STAT_EVENT="statevent";function js(j,ht){Qt.call(this,Fn.STAT_EVENT,j),this.stat=ht}lt(js,Qt);function Wr(j){const ht=mr();vr(ht,new js(ht,j))}Fn.Ma="timingevent";function ao(j,ht){Qt.call(this,Fn.Ma,j),this.size=ht}lt(ao,Qt);function vn(j,ht){if(typeof j!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){j()},ht)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function lr(j,ht,Et,bt,jt,Ht){j.info(function(){if(j.g)if(Ht)for(var ir="",Fr=Ht.split("&"),Kr=0;Kr<Fr.length;Kr++){var Ar=Fr[Kr].split("=");if(1<Ar.length){var Hr=Ar[0];Ar=Ar[1];var Yr=Hr.split("_");ir=2<=Yr.length&&Yr[1]=="type"?ir+(Hr+"="+Ar+"&"):ir+(Hr+"=redacted&")}}else ir=null;else ir=Ht;return"XMLHTTP REQ ("+bt+") [attempt "+jt+"]: "+ht+`
`+Et+`
`+ir})}function $s(j,ht,Et,bt,jt,Ht,ir){j.info(function(){return"XMLHTTP RESP ("+bt+") [ attempt "+jt+"]: "+ht+`
`+Et+`
`+Ht+" "+ir})}function on(j,ht,Et,bt){j.info(function(){return"XMLHTTP TEXT ("+ht+"): "+uo(j,Et)+(bt?" "+bt:"")})}function lo(j,ht){j.info(function(){return"TIMEOUT: "+ht})}Yn.prototype.info=function(){};function uo(j,ht){if(!j.g)return ht;if(!ht)return null;try{var Et=JSON.parse(ht);if(Et){for(j=0;j<Et.length;j++)if(Array.isArray(Et[j])){var bt=Et[j];if(!(2>bt.length)){var jt=bt[1];if(Array.isArray(jt)&&!(1>jt.length)){var Ht=jt[0];if(Ht!="noop"&&Ht!="stop"&&Ht!="close")for(var ir=1;ir<jt.length;ir++)jt[ir]=""}}}}return cn(Et)}catch{return ht}}var On={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vs;function Nn(){}lt(Nn,gs),Nn.prototype.g=function(){return new XMLHttpRequest},Nn.prototype.i=function(){return{}},vs=new Nn;function yn(j,ht,Et,bt){this.j=j,this.i=ht,this.l=Et,this.R=bt||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new co}function co(){this.i=null,this.g="",this.h=!1}var _n={},ys={};function Us(j,ht,Et){j.L=1,j.v=Nr(Ur(ht)),j.m=Et,j.P=!0,_s(j,null)}function _s(j,ht){j.F=Date.now(),Bn(j),j.A=Ur(j.v);var Et=j.A,bt=j.R;Array.isArray(bt)||(bt=[String(bt)]),Qs(Et.i,"t",bt),j.C=0,Et=j.j.J,j.h=new co,j.g=Co(j.j,Et?ht:null,!j.m),0<j.O&&(j.M=new Vo(et(j.Y,j,j.g),j.O)),ht=j.U,Et=j.g,bt=j.ca;var jt="readystatechange";Array.isArray(jt)||(jt&&(ts[0]=jt.toString()),jt=ts);for(var Ht=0;Ht<jt.length;Ht++){var ir=br(Et,jt[Ht],bt||ht.handleEvent,!1,ht.h||ht);if(!ir)break;ht.g[ir.key]=ir}ht=j.H?pt(j.H):{},j.m?(j.u||(j.u="POST"),ht["Content-Type"]="application/x-www-form-urlencoded",j.g.ea(j.A,j.u,j.m,ht)):(j.u="GET",j.g.ea(j.A,j.u,null,ht)),Ln(),lr(j.i,j.u,j.A,j.l,j.R,j.m)}yn.prototype.ca=function(j){j=j.target;const ht=this.M;ht&&Pn(j)==3?ht.j():this.Y(j)},yn.prototype.Y=function(j){try{if(j==this.g)e:{const Yr=Pn(this.g);var ht=this.g.Ba();const en=this.g.Z();if(!(3>Yr)&&(Yr!=3||this.g&&(this.h.h||this.g.oa()||pn(this.g)))){this.J||Yr!=4||ht==7||(ht==8||0>=en?Ln(3):Ln(2)),Hs(this);var Et=this.g.Z();this.X=Et;t:if(Gs(this)){var bt=pn(this.g);j="";var jt=bt.length,Ht=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Sn(this);var ir="";break t}this.h.i=new d.TextDecoder}for(ht=0;ht<jt;ht++)this.h.h=!0,j+=this.h.i.decode(bt[ht],{stream:!(Ht&&ht==jt-1)});bt.length=0,this.h.g+=j,this.C=0,ir=this.h.g}else ir=this.g.oa();if(this.o=Et==200,$s(this.i,this.u,this.A,this.l,this.R,Yr,Et),this.o){if(this.T&&!this.K){t:{if(this.g){var Fr,Kr=this.g;if((Fr=Kr.g?Kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Fr)){var Ar=Fr;break t}}Ar=null}if(Et=Ar)on(this.i,this.l,Et,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,Et);else{this.o=!1,this.s=3,Wr(12),wn(this),Sn(this);break e}}if(this.P){Et=!0;let sn;for(;!this.J&&this.C<ir.length;)if(sn=un(this,ir),sn==ys){Yr==4&&(this.s=4,Wr(14),Et=!1),on(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==_n){this.s=4,Wr(15),on(this.i,this.l,ir,"[Invalid Chunk]"),Et=!1;break}else on(this.i,this.l,sn,null),Ts(this,sn);if(Gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yr!=4||ir.length!=0||this.h.h||(this.s=1,Wr(16),Et=!1),this.o=this.o&&Et,!Et)on(this.i,this.l,ir,"[Invalid Chunked Response]"),wn(this),Sn(this);else if(0<ir.length&&!this.W){this.W=!0;var Hr=this.j;Hr.g==this&&Hr.ba&&!Hr.M&&(Hr.j.info("Great, no buffering proxy detected. Bytes received: "+ir.length),ro(Hr),Hr.M=!0,Wr(11))}}else on(this.i,this.l,ir,null),Ts(this,ir);Yr==4&&wn(this),this.o&&!this.J&&(Yr==4?Po(this.j,this):(this.o=!1,Bn(this)))}else _o(this.g),Et==400&&0<ir.indexOf("Unknown SID")?(this.s=3,Wr(12)):(this.s=0,Wr(13)),wn(this),Sn(this)}}}catch{}finally{}};function Gs(j){return j.g?j.u=="GET"&&j.L!=2&&j.j.Ca:!1}function un(j,ht){var Et=j.C,bt=ht.indexOf(`
`,Et);return bt==-1?ys:(Et=Number(ht.substring(Et,bt)),isNaN(Et)?_n:(bt+=1,bt+Et>ht.length?ys:(ht=ht.slice(bt,bt+Et),j.C=bt+Et,ht)))}yn.prototype.cancel=function(){this.J=!0,wn(this)};function Bn(j){j.S=Date.now()+j.I,Es(j,j.I)}function Es(j,ht){if(j.B!=null)throw Error("WatchDog timer not null");j.B=vn(et(j.ba,j),ht)}function Hs(j){j.B&&(d.clearTimeout(j.B),j.B=null)}yn.prototype.ba=function(){this.B=null;const j=Date.now();0<=j-this.S?(lo(this.i,this.A),this.L!=2&&(Ln(),Wr(17)),wn(this),this.s=2,Sn(this)):Es(this,this.S-j)};function Sn(j){j.j.G==0||j.J||Po(j.j,j)}function wn(j){Hs(j);var ht=j.M;ht&&typeof ht.ma=="function"&&ht.ma(),j.M=null,Ms(j.U),j.g&&(ht=j.g,j.g=null,ht.abort(),ht.ma())}function Ts(j,ht){try{var Et=j.j;if(Et.G!=0&&(Et.g==j||jn(Et.h,j))){if(!j.K&&jn(Et.h,j)&&Et.G==3){try{var bt=Et.Da.g.parse(ht)}catch{bt=null}if(Array.isArray(bt)&&bt.length==3){var jt=bt;if(jt[0]==0){e:if(!Et.u){if(Et.g)if(Et.g.F+3e3<j.F)cs(Et),Gr(Et);else break e;us(Et),Wr(18)}}else Et.za=jt[1],0<Et.za-Et.T&&37500>jt[2]&&Et.F&&Et.v==0&&!Et.C&&(Et.C=vn(et(Et.Za,Et),6e3));if(1>=Cn(Et.h)&&Et.ca){try{Et.ca()}catch{}Et.ca=void 0}}else Un(Et,11)}else if((j.K||Et.g==j)&&cs(Et),!st(ht))for(jt=Et.Da.g.parse(ht),ht=0;ht<jt.length;ht++){let Ar=jt[ht];if(Et.T=Ar[0],Ar=Ar[1],Et.G==2)if(Ar[0]=="c"){Et.K=Ar[1],Et.ia=Ar[2];const Hr=Ar[3];Hr!=null&&(Et.la=Hr,Et.j.info("VER="+Et.la));const Yr=Ar[4];Yr!=null&&(Et.Aa=Yr,Et.j.info("SVER="+Et.Aa));const en=Ar[5];en!=null&&typeof en=="number"&&0<en&&(bt=1.5*en,Et.L=bt,Et.j.info("backChannelRequestTimeoutMs_="+bt)),bt=Et;const sn=j.g;if(sn){const hs=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var Ht=bt.h;Ht.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(Ht.j=Ht.l,Ht.g=new Set,Ht.h&&(Qn(Ht,Ht.h),Ht.h=null))}if(bt.D){const Vs=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vs&&(bt.ya=Vs,Lr(bt.I,bt.D,Vs))}}Et.G=3,Et.l&&Et.l.ua(),Et.ba&&(Et.R=Date.now()-j.F,Et.j.info("Handshake RTT: "+Et.R+"ms")),bt=Et;var ir=j;if(bt.qa=wo(bt,bt.J?bt.ia:null,bt.W),ir.K){Zn(bt.h,ir);var Fr=ir,Kr=bt.L;Kr&&(Fr.I=Kr),Fr.B&&(Hs(Fr),Bn(Fr)),bt.g=ir}else Eo(bt);0<Et.i.length&&ln(Et)}else Ar[0]!="stop"&&Ar[0]!="close"||Un(Et,7);else Et.G==3&&(Ar[0]=="stop"||Ar[0]=="close"?Ar[0]=="stop"?Un(Et,7):eo(Et):Ar[0]!="noop"&&Et.l&&Et.l.ta(Ar),Et.v=0)}}Ln(4)}catch{}}var ho=class{constructor(j,ht){this.g=j,this.map=ht}};function Xn(j){this.l=j||10,d.PerformanceNavigationTiming?(j=d.performance.getEntriesByType("navigation"),j=0<j.length&&(j[0].nextHopProtocol=="hq"||j[0].nextHopProtocol=="h2")):j=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=j?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(j){return j.h?!0:j.g?j.g.size>=j.j:!1}function Cn(j){return j.h?1:j.g?j.g.size:0}function jn(j,ht){return j.h?j.h==ht:j.g?j.g.has(ht):!1}function Qn(j,ht){j.g?j.g.add(ht):j.h=ht}function Zn(j,ht){j.h&&j.h==ht?j.h=null:j.g&&j.g.has(ht)&&j.g.delete(ht)}Xn.prototype.cancel=function(){if(this.i=hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const j of this.g.values())j.cancel();this.g.clear()}};function hn(j){if(j.h!=null)return j.i.concat(j.h.D);if(j.g!=null&&j.g.size!==0){let ht=j.i;for(const Et of j.g.values())ht=ht.concat(Et.D);return ht}return ut(j.i)}function fo(j){if(j.V&&typeof j.V=="function")return j.V();if(typeof Map<"u"&&j instanceof Map||typeof Set<"u"&&j instanceof Set)return Array.from(j.values());if(typeof j=="string")return j.split("");if(g(j)){for(var ht=[],Et=j.length,bt=0;bt<Et;bt++)ht.push(j[bt]);return ht}ht=[],Et=0;for(bt in j)ht[Et++]=j[bt];return ht}function As(j){if(j.na&&typeof j.na=="function")return j.na();if(!j.V||typeof j.V!="function"){if(typeof Map<"u"&&j instanceof Map)return Array.from(j.keys());if(!(typeof Set<"u"&&j instanceof Set)){if(g(j)||typeof j=="string"){var ht=[];j=j.length;for(var Et=0;Et<j;Et++)ht.push(Et);return ht}ht=[],Et=0;for(const bt in j)ht[Et++]=bt;return ht}}}function Ws(j,ht){if(j.forEach&&typeof j.forEach=="function")j.forEach(ht,void 0);else if(g(j)||typeof j=="string")Array.prototype.forEach.call(j,ht,void 0);else for(var Et=As(j),bt=fo(j),jt=bt.length,Ht=0;Ht<jt;Ht++)ht.call(void 0,bt[Ht],Et&&Et[Ht],j)}var tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jn(j,ht){if(j){j=j.split("&");for(var Et=0;Et<j.length;Et++){var bt=j[Et].indexOf("="),jt=null;if(0<=bt){var Ht=j[Et].substring(0,bt);jt=j[Et].substring(bt+1)}else Ht=j[Et];ht(Ht,jt?decodeURIComponent(jt.replace(/\+/g," ")):"")}}}function fr(j){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,j instanceof fr){this.h=j.h,rn(this,j.j),this.o=j.o,this.g=j.g,rs(this,j.s),this.l=j.l;var ht=j.i,Et=new In;Et.i=ht.i,ht.g&&(Et.g=new Map(ht.g),Et.h=ht.h),Ks(this,Et),this.m=j.m}else j&&(ht=String(j).match(tn))?(this.h=!1,rn(this,ht[1]||"",!0),this.o=En(ht[2]||""),this.g=En(ht[3]||"",!0),rs(this,ht[4]),this.l=En(ht[5]||"",!0),Ks(this,ht[6]||"",!0),this.m=En(ht[7]||"")):(this.h=!1,this.i=new In(null,this.h))}fr.prototype.toString=function(){var j=[],ht=this.j;ht&&j.push($n(ht,fn,!0),":");var Et=this.g;return(Et||ht=="file")&&(j.push("//"),(ht=this.o)&&j.push($n(ht,fn,!0),"@"),j.push(encodeURIComponent(String(Et)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Et=this.s,Et!=null&&j.push(":",String(Et))),(Et=this.l)&&(this.g&&Et.charAt(0)!="/"&&j.push("/"),j.push($n(Et,Et.charAt(0)=="/"?zn:qs,!0))),(Et=this.i.toString())&&j.push("?",Et),(Et=this.m)&&j.push("#",$n(Et,is)),j.join("")};function Ur(j){return new fr(j)}function rn(j,ht,Et){j.j=Et?En(ht,!0):ht,j.j&&(j.j=j.j.replace(/:$/,""))}function rs(j,ht){if(ht){if(ht=Number(ht),isNaN(ht)||0>ht)throw Error("Bad port number "+ht);j.s=ht}else j.s=null}function Ks(j,ht,Et){ht instanceof In?(j.i=ht,mo(j.i,j.h)):(Et||(ht=$n(ht,po)),j.i=new In(ht,j.h))}function Lr(j,ht,Et){j.i.set(ht,Et)}function Nr(j){return Lr(j,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),j}function En(j,ht){return j?ht?decodeURI(j.replace(/%25/g,"%2525")):decodeURIComponent(j):""}function $n(j,ht,Et){return typeof j=="string"?(j=encodeURI(j).replace(ht,ns),Et&&(j=j.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j):null}function ns(j){return j=j.charCodeAt(0),"%"+(j>>4&15).toString(16)+(j&15).toString(16)}var fn=/[#\/\?@]/g,qs=/[#\?:]/g,zn=/[#\?]/g,po=/[#\?@]/g,is=/#/g;function In(j,ht){this.h=this.g=null,this.i=j||null,this.j=!!ht}function dn(j){j.g||(j.g=new Map,j.h=0,j.i&&Jn(j.i,function(ht,Et){j.add(decodeURIComponent(ht.replace(/\+/g," ")),Et)}))}i=In.prototype,i.add=function(j,ht){dn(this),this.i=null,j=_i(this,j);var Et=this.g.get(j);return Et||this.g.set(j,Et=[]),Et.push(ht),this.h+=1,this};function Ys(j,ht){dn(j),ht=_i(j,ht),j.g.has(ht)&&(j.i=null,j.h-=j.g.get(ht).length,j.g.delete(ht))}function Xs(j,ht){return dn(j),ht=_i(j,ht),j.g.has(ht)}i.forEach=function(j,ht){dn(this),this.g.forEach(function(Et,bt){Et.forEach(function(jt){j.call(ht,jt,bt,this)},this)},this)},i.na=function(){dn(this);const j=Array.from(this.g.values()),ht=Array.from(this.g.keys()),Et=[];for(let bt=0;bt<ht.length;bt++){const jt=j[bt];for(let Ht=0;Ht<jt.length;Ht++)Et.push(ht[bt])}return Et},i.V=function(j){dn(this);let ht=[];if(typeof j=="string")Xs(this,j)&&(ht=ht.concat(this.g.get(_i(this,j))));else{j=Array.from(this.g.values());for(let Et=0;Et<j.length;Et++)ht=ht.concat(j[Et])}return ht},i.set=function(j,ht){return dn(this),this.i=null,j=_i(this,j),Xs(this,j)&&(this.h-=this.g.get(j).length),this.g.set(j,[ht]),this.h+=1,this},i.get=function(j,ht){return j?(j=this.V(j),0<j.length?String(j[0]):ht):ht};function Qs(j,ht,Et){Ys(j,ht),0<Et.length&&(j.i=null,j.g.set(_i(j,ht),ut(Et)),j.h+=Et.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const j=[],ht=Array.from(this.g.keys());for(var Et=0;Et<ht.length;Et++){var bt=ht[Et];const Ht=encodeURIComponent(String(bt)),ir=this.V(bt);for(bt=0;bt<ir.length;bt++){var jt=Ht;ir[bt]!==""&&(jt+="="+encodeURIComponent(String(ir[bt]))),j.push(jt)}}return this.i=j.join("&")};function _i(j,ht){return ht=String(ht),j.j&&(ht=ht.toLowerCase()),ht}function mo(j,ht){ht&&!j.j&&(dn(j),j.i=null,j.g.forEach(function(Et,bt){var jt=bt.toLowerCase();bt!=jt&&(Ys(this,bt),Qs(this,jt,Et))},j)),j.j=ht}function Ss(j,ht){const Et=new Yn;if(d.Image){const bt=new Image;bt.onload=rt(nn,Et,"TestLoadImage: loaded",!0,ht,bt),bt.onerror=rt(nn,Et,"TestLoadImage: error",!1,ht,bt),bt.onabort=rt(nn,Et,"TestLoadImage: abort",!1,ht,bt),bt.ontimeout=rt(nn,Et,"TestLoadImage: timeout",!1,ht,bt),d.setTimeout(function(){bt.ontimeout&&bt.ontimeout()},1e4),bt.src=j}else ht(!1)}function ws(j,ht){const Et=new Yn,bt=new AbortController,jt=setTimeout(()=>{bt.abort(),nn(Et,"TestPingServer: timeout",!1,ht)},1e4);fetch(j,{signal:bt.signal}).then(Ht=>{clearTimeout(jt),Ht.ok?nn(Et,"TestPingServer: ok",!0,ht):nn(Et,"TestPingServer: server error",!1,ht)}).catch(()=>{clearTimeout(jt),nn(Et,"TestPingServer: error",!1,ht)})}function nn(j,ht,Et,bt,jt){try{jt&&(jt.onload=null,jt.onerror=null,jt.onabort=null,jt.ontimeout=null),bt(Et)}catch{}}function Cs(){this.g=new so}function ss(j,ht,Et){const bt=Et||"";try{Ws(j,function(jt,Ht){let ir=jt;_(jt)&&(ir=cn(jt)),ht.push(bt+Ht+"="+encodeURIComponent(ir))})}catch(jt){throw ht.push(bt+"type="+encodeURIComponent("_badmap")),jt}}function Rn(j){this.l=j.Ub||null,this.j=j.eb||!1}lt(Rn,gs),Rn.prototype.g=function(){return new Tn(this.l,this.j)},Rn.prototype.i=function(j){return function(){return j}}({});function Tn(j,ht){dr.call(this),this.D=j,this.o=ht,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}lt(Tn,dr),i=Tn.prototype,i.open=function(j,ht){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=j,this.A=ht,this.readyState=1,xn(this)},i.send=function(j){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ht={headers:this.u,method:this.B,credentials:this.m,cache:void 0};j&&(ht.body=j),(this.D||d).fetch(new Request(this.A,ht)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},i.Sa=function(j){if(this.g&&(this.l=j,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=j.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")j.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in j){if(this.j=j.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;os(this)}else j.text().then(this.Ra.bind(this),this.ga.bind(this))};function os(j){j.j.read().then(j.Pa.bind(j)).catch(j.ga.bind(j))}i.Pa=function(j){if(this.g){if(this.o&&j.value)this.response.push(j.value);else if(!this.o){var ht=j.value?j.value:new Uint8Array(0);(ht=this.v.decode(ht,{stream:!j.done}))&&(this.response=this.responseText+=ht)}j.done?qr(this):xn(this),this.readyState==3&&os(this)}},i.Ra=function(j){this.g&&(this.response=this.responseText=j,qr(this))},i.Qa=function(j){this.g&&(this.response=j,qr(this))},i.ga=function(){this.g&&qr(this)};function qr(j){j.readyState=4,j.l=null,j.j=null,j.v=null,xn(j)}i.setRequestHeader=function(j,ht){this.u.append(j,ht)},i.getResponseHeader=function(j){return this.h&&this.h.get(j.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const j=[],ht=this.h.entries();for(var Et=ht.next();!Et.done;)Et=Et.value,j.push(Et[0]+": "+Et[1]),Et=ht.next();return j.join(`\r
`)};function xn(j){j.onreadystatechange&&j.onreadystatechange.call(j)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(j){this.m=j?"include":"same-origin"}});function go(j){let ht="";return At(j,function(Et,bt){ht+=bt,ht+=":",ht+=Et,ht+=`\r
`}),ht}function an(j,ht,Et){e:{for(bt in Et){var bt=!1;break e}bt=!0}bt||(Et=go(Et),typeof j=="string"?Et!=null&&encodeURIComponent(String(Et)):Lr(j,ht,Et))}function jr(j){dr.call(this),this.headers=new Map,this.o=j||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}lt(jr,dr);var bn=/^https?$/i,Zs=["POST","PUT"];i=jr.prototype,i.Ha=function(j){this.J=j},i.ea=function(j,ht,Et,bt){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+j);ht=ht?ht.toUpperCase():"GET",this.D=j,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vs.g(),this.v=this.o?Fs(this.o):Fs(vs),this.g.onreadystatechange=et(this.Ea,this);try{this.B=!0,this.g.open(ht,String(j),!0),this.B=!1}catch(Ht){Is(this,Ht);return}if(j=Et||"",Et=new Map(this.headers),bt)if(Object.getPrototypeOf(bt)===Object.prototype)for(var jt in bt)Et.set(jt,bt[jt]);else if(typeof bt.keys=="function"&&typeof bt.get=="function")for(const Ht of bt.keys())Et.set(Ht,bt.get(Ht));else throw Error("Unknown input type for opt_headers: "+String(bt));bt=Array.from(Et.keys()).find(Ht=>Ht.toLowerCase()=="content-type"),jt=d.FormData&&j instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Zs,ht,void 0))||bt||jt||Et.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ht,ir]of Et)this.g.setRequestHeader(Ht,ir);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(j),this.u=!1}catch(Ht){Is(this,Ht)}};function Is(j,ht){j.h=!1,j.g&&(j.j=!0,j.g.abort(),j.j=!1),j.l=ht,j.m=5,vo(j),Rs(j)}function vo(j){j.A||(j.A=!0,vr(j,"complete"),vr(j,"error"))}i.abort=function(j){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=j||7,vr(this,"complete"),vr(this,"abort"),Rs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rs(this,!0)),jr.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?as(this):this.bb())},i.bb=function(){as(this)};function as(j){if(j.h&&typeof h<"u"&&(!j.v[1]||Pn(j)!=4||j.Z()!=2)){if(j.u&&Pn(j)==4)gn(j.Ea,0,j);else if(vr(j,"readystatechange"),Pn(j)==4){j.h=!1;try{const ir=j.Z();e:switch(ir){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ht=!0;break e;default:ht=!1}var Et;if(!(Et=ht)){var bt;if(bt=ir===0){var jt=String(j.D).match(tn)[1]||null;!jt&&d.self&&d.self.location&&(jt=d.self.location.protocol.slice(0,-1)),bt=!bn.test(jt?jt.toLowerCase():"")}Et=bt}if(Et)vr(j,"complete"),vr(j,"success");else{j.m=6;try{var Ht=2<Pn(j)?j.g.statusText:""}catch{Ht=""}j.l=Ht+" ["+j.Z()+"]",vo(j)}}finally{Rs(j)}}}}function Rs(j,ht){if(j.g){yo(j);const Et=j.g,bt=j.v[0]?()=>{}:null;j.g=null,j.v=null,ht||vr(j,"ready");try{Et.onreadystatechange=bt}catch{}}}function yo(j){j.I&&(d.clearTimeout(j.I),j.I=null)}i.isActive=function(){return!!this.g};function Pn(j){return j.g?j.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(j){if(this.g){var ht=this.g.responseText;return j&&ht.indexOf(j)==0&&(ht=ht.substring(j.length)),Ds(ht)}};function pn(j){try{if(!j.g)return null;if("response"in j.g)return j.g.response;switch(j.H){case"":case"text":return j.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in j.g)return j.g.mozResponseArrayBuffer}return null}catch{return null}}function _o(j){const ht={};j=(j.g&&2<=Pn(j)&&j.g.getAllResponseHeaders()||"").split(`\r
`);for(let bt=0;bt<j.length;bt++){if(st(j[bt]))continue;var Et=xt(j[bt]);const jt=Et[0];if(Et=Et[1],typeof Et!="string")continue;Et=Et.trim();const Ht=ht[jt]||[];ht[jt]=Ht,Ht.push(Et)}yt(ht,function(bt){return bt.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vn(j,ht,Et){return Et&&Et.internalChannelParams&&Et.internalChannelParams[j]||ht}function Js(j){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vn("failFast",!1,j),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vn("baseRetryDelayMs",5e3,j),this.cb=Vn("retryDelaySeedMs",1e4,j),this.Wa=Vn("forwardChannelMaxRetries",2,j),this.wa=Vn("forwardChannelRequestTimeoutMs",2e4,j),this.pa=j&&j.xmlHttpFactory||void 0,this.Xa=j&&j.Tb||void 0,this.Ca=j&&j.useFetchStreams||!1,this.L=void 0,this.J=j&&j.supportsCrossDomainXhr||!1,this.K="",this.h=new Xn(j&&j.concurrentRequestLimit),this.Da=new Cs,this.P=j&&j.fastHandshake||!1,this.O=j&&j.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=j&&j.Rb||!1,j&&j.xa&&this.j.xa(),j&&j.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&j&&j.detectBufferingProxy||!1,this.ja=void 0,j&&j.longPollingTimeout&&0<j.longPollingTimeout&&(this.ja=j.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Js.prototype,i.la=8,i.G=1,i.connect=function(j,ht,Et,bt){Wr(0),this.W=j,this.H=ht||{},Et&&bt!==void 0&&(this.H.OSID=Et,this.H.OAID=bt),this.F=this.X,this.I=wo(this,null,this.W),ln(this)};function eo(j){if(to(j),j.G==3){var ht=j.U++,Et=Ur(j.I);if(Lr(Et,"SID",j.K),Lr(Et,"RID",ht),Lr(Et,"TYPE","terminate"),es(j,Et),ht=new yn(j,j.j,ht),ht.L=2,ht.v=Nr(Ur(Et)),Et=!1,d.navigator&&d.navigator.sendBeacon)try{Et=d.navigator.sendBeacon(ht.v.toString(),"")}catch{}!Et&&d.Image&&(new Image().src=ht.v,Et=!0),Et||(ht.g=Co(ht.j,null),ht.g.ea(ht.v)),ht.F=Date.now(),Bn(ht)}So(j)}function Gr(j){j.g&&(ro(j),j.g.cancel(),j.g=null)}function to(j){Gr(j),j.u&&(d.clearTimeout(j.u),j.u=null),cs(j),j.h.cancel(),j.s&&(typeof j.s=="number"&&d.clearTimeout(j.s),j.s=null)}function ln(j){if(!Ps(j.h)&&!j.s){j.s=!0;var ht=j.Ga;kt||Ft(),dt||(kt(),dt=!0),vt.add(ht,j),j.B=0}}function xs(j,ht){return Cn(j.h)>=j.h.j-(j.s?1:0)?!1:j.s?(j.i=ht.D.concat(j.i),!0):j.G==1||j.G==2||j.B>=(j.Va?0:j.Wa)?!1:(j.s=vn(et(j.Ga,j,ht),Ao(j,j.B)),j.B++,!0)}i.Ga=function(j){if(this.s)if(this.s=null,this.G==1){if(!j){this.U=Math.floor(1e5*Math.random()),j=this.U++;const jt=new yn(this,this.j,j);let Ht=this.o;if(this.S&&(Ht?(Ht=pt(Ht),St(Ht,this.S)):Ht=this.S),this.m!==null||this.O||(jt.H=Ht,Ht=null),this.P)e:{for(var ht=0,Et=0;Et<this.i.length;Et++){t:{var bt=this.i[Et];if("__data__"in bt.map&&(bt=bt.map.__data__,typeof bt=="string")){bt=bt.length;break t}bt=void 0}if(bt===void 0)break;if(ht+=bt,4096<ht){ht=Et;break e}if(ht===4096||Et===this.i.length-1){ht=Et+1;break e}}ht=1e3}else ht=1e3;ht=bs(this,jt,ht),Et=Ur(this.I),Lr(Et,"RID",j),Lr(Et,"CVER",22),this.D&&Lr(Et,"X-HTTP-Session-Id",this.D),es(this,Et),Ht&&(this.O?ht="headers="+encodeURIComponent(String(go(Ht)))+"&"+ht:this.m&&an(Et,this.m,Ht)),Qn(this.h,jt),this.Ua&&Lr(Et,"TYPE","init"),this.P?(Lr(Et,"$req",ht),Lr(Et,"SID","null"),jt.T=!0,Us(jt,Et,null)):Us(jt,Et,ht),this.G=2}}else this.G==3&&(j?ls(this,j):this.i.length==0||Ps(this.h)||ls(this))};function ls(j,ht){var Et;ht?Et=ht.l:Et=j.U++;const bt=Ur(j.I);Lr(bt,"SID",j.K),Lr(bt,"RID",Et),Lr(bt,"AID",j.T),es(j,bt),j.m&&j.o&&an(bt,j.m,j.o),Et=new yn(j,j.j,Et,j.B+1),j.m===null&&(Et.H=j.o),ht&&(j.i=ht.D.concat(j.i)),ht=bs(j,Et,1e3),Et.I=Math.round(.5*j.wa)+Math.round(.5*j.wa*Math.random()),Qn(j.h,Et),Us(Et,bt,ht)}function es(j,ht){j.H&&At(j.H,function(Et,bt){Lr(ht,bt,Et)}),j.l&&Ws({},function(Et,bt){Lr(ht,bt,Et)})}function bs(j,ht,Et){Et=Math.min(j.i.length,Et);var bt=j.l?et(j.l.Na,j.l,j):null;e:{var jt=j.i;let Ht=-1;for(;;){const ir=["count="+Et];Ht==-1?0<Et?(Ht=jt[0].g,ir.push("ofs="+Ht)):Ht=0:ir.push("ofs="+Ht);let Fr=!0;for(let Kr=0;Kr<Et;Kr++){let Ar=jt[Kr].g;const Hr=jt[Kr].map;if(Ar-=Ht,0>Ar)Ht=Math.max(0,jt[Kr].g-100),Fr=!1;else try{ss(Hr,ir,"req"+Ar+"_")}catch{bt&&bt(Hr)}}if(Fr){bt=ir.join("&");break e}}}return j=j.i.splice(0,Et),ht.D=j,bt}function Eo(j){if(!j.g&&!j.u){j.Y=1;var ht=j.Fa;kt||Ft(),dt||(kt(),dt=!0),vt.add(ht,j),j.v=0}}function us(j){return j.g||j.u||3<=j.v?!1:(j.Y++,j.u=vn(et(j.Fa,j),Ao(j,j.v)),j.v++,!0)}i.Fa=function(){if(this.u=null,To(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var j=2*this.R;this.j.info("BP detection timer enabled: "+j),this.A=vn(et(this.ab,this),j)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wr(10),Gr(this),To(this))};function ro(j){j.A!=null&&(d.clearTimeout(j.A),j.A=null)}function To(j){j.g=new yn(j,j.j,"rpc",j.Y),j.m===null&&(j.g.H=j.o),j.g.O=0;var ht=Ur(j.qa);Lr(ht,"RID","rpc"),Lr(ht,"SID",j.K),Lr(ht,"AID",j.T),Lr(ht,"CI",j.F?"0":"1"),!j.F&&j.ja&&Lr(ht,"TO",j.ja),Lr(ht,"TYPE","xmlhttp"),es(j,ht),j.m&&j.o&&an(ht,j.m,j.o),j.L&&(j.g.I=j.L);var Et=j.g;j=j.ia,Et.L=1,Et.v=Nr(Ur(ht)),Et.m=null,Et.P=!0,_s(Et,j)}i.Za=function(){this.C!=null&&(this.C=null,Gr(this),us(this),Wr(19))};function cs(j){j.C!=null&&(d.clearTimeout(j.C),j.C=null)}function Po(j,ht){var Et=null;if(j.g==ht){cs(j),ro(j),j.g=null;var bt=2}else if(jn(j.h,ht))Et=ht.D,Zn(j.h,ht),bt=1;else return;if(j.G!=0){if(ht.o)if(bt==1){Et=ht.m?ht.m.length:0,ht=Date.now()-ht.F;var jt=j.B;bt=mr(),vr(bt,new ao(bt,Et)),ln(j)}else Eo(j);else if(jt=ht.s,jt==3||jt==0&&0<ht.X||!(bt==1&&xs(j,ht)||bt==2&&us(j)))switch(Et&&0<Et.length&&(ht=j.h,ht.i=ht.i.concat(Et)),jt){case 1:Un(j,5);break;case 4:Un(j,10);break;case 3:Un(j,6);break;default:Un(j,2)}}}function Ao(j,ht){let Et=j.Ta+Math.floor(Math.random()*j.cb);return j.isActive()||(Et*=2),Et*ht}function Un(j,ht){if(j.j.info("Error code "+ht),ht==2){var Et=et(j.fb,j),bt=j.Xa;const jt=!bt;bt=new fr(bt||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||rn(bt,"https"),Nr(bt),jt?Ss(bt.toString(),Et):ws(bt.toString(),Et)}else Wr(2);j.G=0,j.l&&j.l.sa(ht),So(j),to(j)}i.fb=function(j){j?(this.j.info("Successfully pinged google.com"),Wr(2)):(this.j.info("Failed to ping google.com"),Wr(1))};function So(j){if(j.G=0,j.ka=[],j.l){const ht=hn(j.h);(ht.length!=0||j.i.length!=0)&&(gt(j.ka,ht),gt(j.ka,j.i),j.h.i.length=0,ut(j.i),j.i.length=0),j.l.ra()}}function wo(j,ht,Et){var bt=Et instanceof fr?Ur(Et):new fr(Et);if(bt.g!="")ht&&(bt.g=ht+"."+bt.g),rs(bt,bt.s);else{var jt=d.location;bt=jt.protocol,ht=ht?ht+"."+jt.hostname:jt.hostname,jt=+jt.port;var Ht=new fr(null);bt&&rn(Ht,bt),ht&&(Ht.g=ht),jt&&rs(Ht,jt),Et&&(Ht.l=Et),bt=Ht}return Et=j.D,ht=j.ya,Et&&ht&&Lr(bt,Et,ht),Lr(bt,"VER",j.la),es(j,bt),bt}function Co(j,ht,Et){if(ht&&!j.J)throw Error("Can't create secondary domain capable XhrIo object.");return ht=j.Ca&&!j.pa?new jr(new Rn({eb:Et})):new jr(j.pa),ht.Ha(j.J),ht}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}i=Io.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Gn(){}Gn.prototype.g=function(j,ht){return new Qr(j,ht)};function Qr(j,ht){dr.call(this),this.g=new Js(ht),this.l=j,this.h=ht&&ht.messageUrlParams||null,j=ht&&ht.messageHeaders||null,ht&&ht.clientProtocolHeaderRequired&&(j?j["X-Client-Protocol"]="webchannel":j={"X-Client-Protocol":"webchannel"}),this.g.o=j,j=ht&&ht.initMessageHeaders||null,ht&&ht.messageContentType&&(j?j["X-WebChannel-Content-Type"]=ht.messageContentType:j={"X-WebChannel-Content-Type":ht.messageContentType}),ht&&ht.va&&(j?j["X-WebChannel-Client-Profile"]=ht.va:j={"X-WebChannel-Client-Profile":ht.va}),this.g.S=j,(j=ht&&ht.Sb)&&!st(j)&&(this.g.m=j),this.v=ht&&ht.supportsCrossDomainXhr||!1,this.u=ht&&ht.sendRawJson||!1,(ht=ht&&ht.httpSessionIdParam)&&!st(ht)&&(this.g.D=ht,j=this.h,j!==null&&ht in j&&(j=this.h,ht in j&&delete j[ht])),this.j=new Hn(this)}lt(Qr,dr),Qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qr.prototype.close=function(){eo(this.g)},Qr.prototype.o=function(j){var ht=this.g;if(typeof j=="string"){var Et={};Et.__data__=j,j=Et}else this.u&&(Et={},Et.__data__=cn(j),j=Et);ht.i.push(new ho(ht.Ya++,j)),ht.G==3&&ln(ht)},Qr.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,Qr.aa.N.call(this)};function Ro(j){Os.call(this),j.__headers__&&(this.headers=j.__headers__,this.statusCode=j.__status__,delete j.__headers__,delete j.__status__);var ht=j.__sm__;if(ht){e:{for(const Et in ht){j=Et;break e}j=void 0}(this.i=j)&&(j=this.i,ht=ht!==null&&j in ht?ht[j]:void 0),this.data=ht}else this.data=j}lt(Ro,Os);function xo(){Ns.call(this),this.status=1}lt(xo,Ns);function Hn(j){this.g=j}lt(Hn,Io),Hn.prototype.ua=function(){vr(this.g,"a")},Hn.prototype.ta=function(j){vr(this.g,new Ro(j))},Hn.prototype.sa=function(j){vr(this.g,new xo)},Hn.prototype.ra=function(){vr(this.g,"b")},Gn.prototype.createWebChannel=Gn.prototype.g,Qr.prototype.send=Qr.prototype.o,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,createWebChannelTransport=function(){return new Gn},getStatEventTarget=function(){return mr()},Event=Fn,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,ErrorCode=On,zs.COMPLETE="complete",EventType=zs,Ls.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",dr.prototype.listen=dr.prototype.K,WebChannel=Ls,jr.prototype.listenOnce=jr.prototype.L,jr.prototype.getLastError=jr.prototype.Ka,jr.prototype.getLastErrorCode=jr.prototype.Ba,jr.prototype.getStatus=jr.prototype.Z,jr.prototype.getResponseJson=jr.prototype.Oa,jr.prototype.getResponseText=jr.prototype.oa,jr.prototype.send=jr.prototype.ea,jr.prototype.setWithCredentials=jr.prototype.Ha,XhrIo=jr}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(i,...e){if(b.logLevel<=LogLevel.DEBUG){const s=e.map(__PRIVATE_argToString);b.debug(`Firestore (${S}): ${i}`,...s)}}function __PRIVATE_logError(i,...e){if(b.logLevel<=LogLevel.ERROR){const s=e.map(__PRIVATE_argToString);b.error(`Firestore (${S}): ${i}`,...s)}}function __PRIVATE_logWarn(i,...e){if(b.logLevel<=LogLevel.WARN){const s=e.map(__PRIVATE_argToString);b.warn(`Firestore (${S}): ${i}`,...s)}}function __PRIVATE_argToString(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(i="Unexpected state"){const e=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+i;throw __PRIVATE_logError(e),new Error(e)}function __PRIVATE_hardAssert(i,e){i||fail()}function __PRIVATE_debugCast(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(e){this.t=e,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){__PRIVATE_hardAssert(this.o===void 0);let o=this.i;const a=g=>this.i!==o?(o=this.i,s(g)):Promise.resolve();let c=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new __PRIVATE_Deferred,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new __PRIVATE_Deferred)}},0),h()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(o=>this.i!==e?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(__PRIVATE_hardAssert(typeof o.accessToken=="string"),new __PRIVATE_OAuthToken(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(e===null||typeof e=="string"),new User(e)}}class __PRIVATE_FirstPartyToken{constructor(e,s,o){this.l=e,this.h=s,this.P=o,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(e,s,o){this.l=e,this.h=s,this.P=o}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable(()=>s(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){__PRIVATE_hardAssert(this.o===void 0);const o=c=>{c.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?s(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const a=c=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(__PRIVATE_hardAssert(typeof s.token=="string"),this.R=s.token,new AppCheckToken(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let o=0;o<i;o++)s[o]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const a=__PRIVATE_randomBytes(40);for(let c=0;c<a.length;++c)o.length<20&&a[c]<s&&(o+=e.charAt(a[c]%e.length))}return o}}function __PRIVATE_primitiveComparator(i,e){return i<e?-1:i>e?1:0}function __PRIVATE_arrayEquals(i,e,s){return i.length===e.length&&i.every((o,a)=>s(o,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(e){return Timestamp.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*s));return new Timestamp(s,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion(e)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(e,s,o){s===void 0?s=0:s>e.length&&fail(),o===void 0?o=e.length-s:o>e.length-s&&fail(),this.segments=e,this.offset=s,this.len=o}get length(){return this.len}isEqual(e){return BasePath.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof BasePath?e.forEach(o=>{s.push(o)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,o=this.limit();s<o;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const o=Math.min(e.length,s.length);for(let a=0;a<o;a++){const c=e.get(a),h=s.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class ResourcePath extends BasePath{construct(e,s,o){return new ResourcePath(e,s,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const o of e){if(o.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);s.push(...o.split("/").filter(a=>a.length>0))}return new ResourcePath(s)}static emptyPath(){return new ResourcePath([])}}const v=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(e,s,o){return new FieldPath$1(e,s,o)}static isValidIdentifier(e){return v.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(e){const s=[];let o="",a=0;const c=()=>{if(o.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(o),o=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=g,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(o+=d,a++):(c(),a++)}if(c(),h)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1(s)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(e){this.path=e}static fromPath(e){return new DocumentKey(ResourcePath.fromString(e))}static fromName(e){return new DocumentKey(ResourcePath.fromString(e).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ResourcePath.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ResourcePath.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new DocumentKey(new ResourcePath(e.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(i,e){const s=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,a=SnapshotVersion.fromTimestamp(o===1e9?new Timestamp(s+1,0):new Timestamp(s,o));return new IndexOffset(a,DocumentKey.empty(),e)}function __PRIVATE_newIndexOffsetFromDocument(i){return new IndexOffset(i.readTime,i.key,-1)}class IndexOffset{constructor(e,s,o){this.readTime=e,this.documentKey=s,this.largestBatchId=o}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=DocumentKey.comparator(i.documentKey,e.documentKey),s!==0?s:__PRIVATE_primitiveComparator(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(i){if(i.code!==D.FAILED_PRECONDITION||i.message!==C)throw i;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new PersistencePromise((o,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,a)},this.catchCallback=c=>{this.wrapFailure(s,c).next(o,a)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof PersistencePromise?s:PersistencePromise.resolve(s)}catch(s){return PersistencePromise.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):PersistencePromise.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):PersistencePromise.reject(s)}static resolve(e){return new PersistencePromise((s,o)=>{s(e)})}static reject(e){return new PersistencePromise((s,o)=>{o(e)})}static waitFor(e){return new PersistencePromise((s,o)=>{let a=0,c=0,h=!1;e.forEach(d=>{++a,d.next(()=>{++c,h&&c===a&&s()},g=>o(g))}),h=!0,c===a&&s()})}static or(e){let s=PersistencePromise.resolve(!1);for(const o of e)s=s.next(a=>a?PersistencePromise.resolve(a):o());return s}static forEach(e,s){const o=[];return e.forEach((a,c)=>{o.push(s.call(this,a,c))}),this.waitFor(o)}static mapArray(e,s){return new PersistencePromise((o,a)=>{const c=e.length,h=new Array(c);let d=0;for(let g=0;g<c;g++){const _=g;s(e[_]).next($=>{h[_]=$,++d,d===c&&o(h)},$=>a($))}})}static doWhile(e,s){return new PersistencePromise((o,a)=>{const c=()=>{e()===!0?s().next(()=>{c()},a):o()};c()})}}function __PRIVATE_getAndroidVersion(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function __PRIVATE_isIndexedDbTransactionError(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=o=>this.ie(o),this.se=o=>s.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(i){return i==null}function __PRIVATE_isNegativeZero(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function forEach(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function isEmpty(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(e,s){this.comparator=e,this.root=s||LLRBNode.EMPTY}insert(e,s){return new SortedMap(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(e){return new SortedMap(this.comparator,this.root.remove(e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return s.value;o<0?s=s.left:o>0&&(s=s.right)}return null}indexOf(e){let s=0,o=this.root;for(;!o.isEmpty();){const a=this.comparator(e,o.key);if(a===0)return s+o.left.size;a<0?o=o.left:(s+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,o)=>(e(s,o),!1))}toString(){const e=[];return this.inorderTraversal((s,o)=>(e.push(`${s}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator(this.root,e,this.comparator,!0)}}class SortedMapIterator{constructor(e,s,o,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=s?o(e.key,s):1,s&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class LLRBNode{constructor(e,s,o,a,c){this.key=e,this.value=s,this.color=o??LLRBNode.RED,this.left=a??LLRBNode.EMPTY,this.right=c??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,o,a,c){return new LLRBNode(e??this.key,s??this.value,o??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,o){let a=this;const c=o(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,s,o),null):c===0?a.copy(null,s,null,null,null):a.copy(null,null,null,null,a.right.insert(e,s,o)),a.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let o,a=this;if(s(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),s(e,a.key)===0){if(a.right.isEmpty())return LLRBNode.EMPTY;o=a.right.min(),a=a.copy(o.key,o.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const e=this.left.check();if(e!==this.right.check())throw fail();return e+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(e,s,o,a,c){return this}insert(e,s,o){return new LLRBNode(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(e){this.comparator=e,this.data=new SortedMap(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,o)=>(e(s),!1))}forEachInRange(e,s){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const a=o.getNext();if(this.comparator(a.key,e[1])>=0)return;s(a.key)}}forEachWhile(e,s){let o;for(o=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(o=>{s=s.add(o)}),s}isEqual(e){if(!(e instanceof SortedSet)||this.size!==e.size)return!1;const s=this.data.getIterator(),o=e.data.getIterator();for(;s.hasNext();){const a=s.getNext().key,c=o.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new SortedSet(this.comparator);return s.data=e,s}}class SortedSetIterator{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(e){this.fields=e,e.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(e){let s=new SortedSet(FieldPath$1.comparator);for(const o of this.fields)s=s.add(o);for(const o of e)s=s.add(o);return new FieldMask(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals(this.fields,e.fields,(s,o)=>s.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+c):c}}(e);return new ByteString(s)}static fromUint8Array(e){const s=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new ByteString(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const o=new Uint8Array(s.length);for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(i){if(__PRIVATE_hardAssert(!!i),typeof i=="string"){let e=0;const s=ne.exec(i);if(__PRIVATE_hardAssert(!!s),s[1]){let a=s[1];a=(a+"000000000").substr(0,9),e=Number(a)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:__PRIVATE_normalizeNumber(i.seconds),nanos:__PRIVATE_normalizeNumber(i.nanos)}}function __PRIVATE_normalizeNumber(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function __PRIVATE_normalizeByteString(i){return typeof i=="string"?ByteString.fromBase64String(i):ByteString.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(i){var e,s;return((s=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(i){const e=i.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(e)?__PRIVATE_getPreviousValue(e):e}function __PRIVATE_getLocalWriteTime(i){const e=__PRIVATE_normalizeTimestamp(i.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(e,s,o,a,c,h,d,g,_){this.databaseId=e,this.appId=s,this.persistenceKey=o,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=_}}class DatabaseId{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof DatabaseId&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?__PRIVATE_isServerTimestamp(i)?4:__PRIVATE_isMaxValue(i)?9007199254740991:__PRIVATE_isVectorValue(i)?10:11:fail()}function __PRIVATE_valueEquals(i,e){if(i===e)return!0;const s=__PRIVATE_typeOrder(i);if(s!==__PRIVATE_typeOrder(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(i).isEqual(__PRIVATE_getLocalWriteTime(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=__PRIVATE_normalizeTimestamp(a.timestampValue),d=__PRIVATE_normalizeTimestamp(c.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return __PRIVATE_normalizeByteString(a.bytesValue).isEqual(__PRIVATE_normalizeByteString(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return __PRIVATE_normalizeNumber(a.geoPointValue.latitude)===__PRIVATE_normalizeNumber(c.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(a.geoPointValue.longitude)===__PRIVATE_normalizeNumber(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return __PRIVATE_normalizeNumber(a.integerValue)===__PRIVATE_normalizeNumber(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=__PRIVATE_normalizeNumber(a.doubleValue),d=__PRIVATE_normalizeNumber(c.doubleValue);return h===d?__PRIVATE_isNegativeZero(h)===__PRIVATE_isNegativeZero(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return __PRIVATE_arrayEquals(i.arrayValue.values||[],e.arrayValue.values||[],__PRIVATE_valueEquals);case 10:case 11:return function(a,c){const h=a.mapValue.fields||{},d=c.mapValue.fields||{};if(__PRIVATE_objectSize(h)!==__PRIVATE_objectSize(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!__PRIVATE_valueEquals(h[g],d[g])))return!1;return!0}(i,e);default:return fail()}}function __PRIVATE_arrayValueContains(i,e){return(i.values||[]).find(s=>__PRIVATE_valueEquals(s,e))!==void 0}function __PRIVATE_valueCompare(i,e){if(i===e)return 0;const s=__PRIVATE_typeOrder(i),o=__PRIVATE_typeOrder(e);if(s!==o)return __PRIVATE_primitiveComparator(s,o);switch(s){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(i.booleanValue,e.booleanValue);case 2:return function(c,h){const d=__PRIVATE_normalizeNumber(c.integerValue||c.doubleValue),g=__PRIVATE_normalizeNumber(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(i,e);case 3:return __PRIVATE_compareTimestamps(i.timestampValue,e.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(i),__PRIVATE_getLocalWriteTime(e));case 5:return __PRIVATE_primitiveComparator(i.stringValue,e.stringValue);case 6:return function(c,h){const d=__PRIVATE_normalizeByteString(c),g=__PRIVATE_normalizeByteString(h);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const d=c.split("/"),g=h.split("/");for(let _=0;_<d.length&&_<g.length;_++){const $=__PRIVATE_primitiveComparator(d[_],g[_]);if($!==0)return $}return __PRIVATE_primitiveComparator(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const d=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(c.latitude),__PRIVATE_normalizeNumber(h.latitude));return d!==0?d:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(c.longitude),__PRIVATE_normalizeNumber(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return __PRIVATE_compareArrays(i.arrayValue,e.arrayValue);case 10:return function(c,h){var d,g,_,$;const nt=c.fields||{},et=h.fields||{},rt=(d=nt.value)===null||d===void 0?void 0:d.arrayValue,lt=(g=et.value)===null||g===void 0?void 0:g.arrayValue,ut=__PRIVATE_primitiveComparator(((_=rt==null?void 0:rt.values)===null||_===void 0?void 0:_.length)||0,(($=lt==null?void 0:lt.values)===null||$===void 0?void 0:$.length)||0);return ut!==0?ut:__PRIVATE_compareArrays(rt,lt)}(i.mapValue,e.mapValue);case 11:return function(c,h){if(c===re.mapValue&&h===re.mapValue)return 0;if(c===re.mapValue)return 1;if(h===re.mapValue)return-1;const d=c.fields||{},g=Object.keys(d),_=h.fields||{},$=Object.keys(_);g.sort(),$.sort();for(let nt=0;nt<g.length&&nt<$.length;++nt){const et=__PRIVATE_primitiveComparator(g[nt],$[nt]);if(et!==0)return et;const rt=__PRIVATE_valueCompare(d[g[nt]],_[$[nt]]);if(rt!==0)return rt}return __PRIVATE_primitiveComparator(g.length,$.length)}(i.mapValue,e.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return __PRIVATE_primitiveComparator(i,e);const s=__PRIVATE_normalizeTimestamp(i),o=__PRIVATE_normalizeTimestamp(e),a=__PRIVATE_primitiveComparator(s.seconds,o.seconds);return a!==0?a:__PRIVATE_primitiveComparator(s.nanos,o.nanos)}function __PRIVATE_compareArrays(i,e){const s=i.values||[],o=e.values||[];for(let a=0;a<s.length&&a<o.length;++a){const c=__PRIVATE_valueCompare(s[a],o[a]);if(c)return c}return __PRIVATE_primitiveComparator(s.length,o.length)}function canonicalId(i){return __PRIVATE_canonifyValue(i)}function __PRIVATE_canonifyValue(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const o=__PRIVATE_normalizeTimestamp(s);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(s){return __PRIVATE_normalizeByteString(s).toBase64()}(i.bytesValue):"referenceValue"in i?function(s){return DocumentKey.fromName(s).toString()}(i.referenceValue):"geoPointValue"in i?function(s){return`geo(${s.latitude},${s.longitude})`}(i.geoPointValue):"arrayValue"in i?function(s){let o="[",a=!0;for(const c of s.values||[])a?a=!1:o+=",",o+=__PRIVATE_canonifyValue(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(s){const o=Object.keys(s.fields||{}).sort();let a="{",c=!0;for(const h of o)c?c=!1:a+=",",a+=`${h}:${__PRIVATE_canonifyValue(s.fields[h])}`;return a+"}"}(i.mapValue):fail()}function isInteger(i){return!!i&&"integerValue"in i}function isArray(i){return!!i&&"arrayValue"in i}function __PRIVATE_isNullValue(i){return!!i&&"nullValue"in i}function __PRIVATE_isNanValue(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function __PRIVATE_isMapValue(i){return!!i&&"mapValue"in i}function __PRIVATE_isVectorValue(i){var e,s;return((s=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="__vector__"}function __PRIVATE_deepClone(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return forEach(i.mapValue.fields,(s,o)=>e.mapValue.fields[s]=__PRIVATE_deepClone(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=__PRIVATE_deepClone(i.arrayValue.values[s]);return e}return Object.assign({},i)}function __PRIVATE_isMaxValue(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(e){this.value=e}static empty(){return new ObjectValue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let o=0;o<e.length-1;++o)if(s=(s.mapValue.fields||{})[e.get(o)],!__PRIVATE_isMapValue(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone(s)}setAll(e){let s=FieldPath$1.emptyPath(),o={},a=[];e.forEach((h,d)=>{if(!s.isImmediateParentOf(d)){const g=this.getFieldsMap(s);this.applyChanges(g,o,a),o={},a=[],s=d.popLast()}h?o[d.lastSegment()]=__PRIVATE_deepClone(h):a.push(d.lastSegment())});const c=this.getFieldsMap(s);this.applyChanges(c,o,a)}delete(e){const s=this.field(e.popLast());__PRIVATE_isMapValue(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let o=0;o<e.length;++o){let a=s.mapValue.fields[e.get(o)];__PRIVATE_isMapValue(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},s.mapValue.fields[e.get(o)]=a),s=a}return s.mapValue.fields}applyChanges(e,s,o){forEach(s,(a,c)=>e[a]=c);for(const a of o)delete e[a]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(e,s,o,a,c,h,d){this.key=e,this.documentType=s,this.version=o,this.readTime=a,this.createTime=c,this.data=h,this.documentState=d}static newInvalidDocument(e){return new MutableDocument(e,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(e,s,o,a){return new MutableDocument(e,1,s,SnapshotVersion.min(),o,a,0)}static newNoDocument(e,s){return new MutableDocument(e,2,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(e,s){return new MutableDocument(e,3,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof MutableDocument&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(e,s){this.position=e,this.inclusive=s}}function __PRIVATE_boundCompareToDocument(i,e,s){let o=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?o=DocumentKey.comparator(DocumentKey.fromName(h.referenceValue),s.key):o=__PRIVATE_valueCompare(h,s.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function __PRIVATE_boundEquals(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!__PRIVATE_valueEquals(i.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(e,s="asc"){this.field=e,this.dir=s}}function __PRIVATE_orderByEquals(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(e,s,o){super(),this.field=e,this.op=s,this.value=o}static create(e,s,o){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,o):new __PRIVATE_KeyFieldFilter(e,s,o):s==="array-contains"?new __PRIVATE_ArrayContainsFilter(e,o):s==="in"?new __PRIVATE_InFilter(e,o):s==="not-in"?new __PRIVATE_NotInFilter(e,o):s==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(e,o):new FieldFilter(e,s,o)}static createKeyFieldInFilter(e,s,o){return s==="in"?new __PRIVATE_KeyFieldInFilter(e,o):new __PRIVATE_KeyFieldNotInFilter(e,o)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value)):s!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(s)&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new CompositeFilter(e,s)}matches(e){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(s=>!s.matches(e))===void 0:this.filters.find(s=>s.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(i){return i.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(i){return __PRIVATE_compositeFilterIsFlat(i)&&__PRIVATE_compositeFilterIsConjunction(i)}function __PRIVATE_compositeFilterIsFlat(i){for(const e of i.filters)if(e instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(i){if(i instanceof FieldFilter)return i.field.canonicalString()+i.op.toString()+canonicalId(i.value);if(__PRIVATE_compositeFilterIsFlatConjunction(i))return i.filters.map(e=>__PRIVATE_canonifyFilter(e)).join(",");{const e=i.filters.map(s=>__PRIVATE_canonifyFilter(s)).join(",");return`${i.op}(${e})`}}function __PRIVATE_filterEquals(i,e){return i instanceof FieldFilter?function(o,a){return a instanceof FieldFilter&&o.op===a.op&&o.field.isEqual(a.field)&&__PRIVATE_valueEquals(o.value,a.value)}(i,e):i instanceof CompositeFilter?function(o,a){return a instanceof CompositeFilter&&o.op===a.op&&o.filters.length===a.filters.length?o.filters.reduce((c,h,d)=>c&&__PRIVATE_filterEquals(h,a.filters[d]),!0):!1}(i,e):void fail()}function __PRIVATE_stringifyFilter(i){return i instanceof FieldFilter?function(s){return`${s.field.canonicalString()} ${s.op} ${canonicalId(s.value)}`}(i):i instanceof CompositeFilter?function(s){return s.op.toString()+" {"+s.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(i):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(e,s,o){super(e,s,o),this.key=DocumentKey.fromName(o.referenceValue)}matches(e){const s=DocumentKey.comparator(e.key,this.key);return this.matchesComparison(s)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(e,s){super(e,"in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(e,s){super(e,"not-in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(i,e){var s;return(((s=e.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(o=>DocumentKey.fromName(o.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return isArray(s)&&__PRIVATE_arrayValueContains(s.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(e,s){super(e,"not-in",s)}matches(e){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!isArray(s)||!s.arrayValue.values)&&s.arrayValue.values.some(o=>__PRIVATE_arrayValueContains(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(e,s=null,o=[],a=[],c=null,h=null,d=null){this.path=e,this.collectionGroup=s,this.orderBy=o,this.filters=a,this.limit=c,this.startAt=h,this.endAt=d,this.ue=null}}function __PRIVATE_newTarget(i,e=null,s=[],o=[],a=null,c=null,h=null){return new __PRIVATE_TargetImpl(i,e,s,o,a,c,h)}function __PRIVATE_canonifyTarget(i){const e=__PRIVATE_debugCast(i);if(e.ue===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(o=>__PRIVATE_canonifyFilter(o)).join(","),s+="|ob:",s+=e.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),__PRIVATE_isNullOrUndefined(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>canonicalId(o)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>canonicalId(o)).join(",")),e.ue=s}return e.ue}function __PRIVATE_targetEquals(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!__PRIVATE_orderByEquals(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!__PRIVATE_filterEquals(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!__PRIVATE_boundEquals(i.startAt,e.startAt)&&__PRIVATE_boundEquals(i.endAt,e.endAt)}function __PRIVATE_targetIsDocumentTarget(i){return DocumentKey.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(e,s=null,o=[],a=[],c=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=o,this.filters=a,this.limit=c,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(i,e,s,o,a,c,h,d){return new __PRIVATE_QueryImpl(i,e,s,o,a,c,h,d)}function __PRIVATE_newQueryForPath(i){return new __PRIVATE_QueryImpl(i)}function __PRIVATE_queryMatchesAllDocuments(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(i){return i.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(i){const e=__PRIVATE_debugCast(i);if(e.ce===null){e.ce=[];const s=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),s.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new SortedSet(FieldPath$1.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(d=d.add(_.field))})}),d})(e).forEach(c=>{s.has(c.canonicalString())||c.isKeyField()||e.ce.push(new OrderBy(c,o))}),s.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),o))}return e.ce}function __PRIVATE_queryToTarget(i){const e=__PRIVATE_debugCast(i);return e.le||(e.le=__PRIVATE__queryToTarget(e,__PRIVATE_queryNormalizedOrderBy(i))),e.le}function __PRIVATE__queryToTarget(i,e){if(i.limitType==="F")return __PRIVATE_newTarget(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new OrderBy(a.field,c)});const s=i.endAt?new Bound(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new Bound(i.startAt.position,i.startAt.inclusive):null;return __PRIVATE_newTarget(i.path,i.collectionGroup,e,i.filters,i.limit,s,o)}}function __PRIVATE_queryWithLimit(i,e,s){return new __PRIVATE_QueryImpl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function __PRIVATE_queryEquals(i,e){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(i),__PRIVATE_queryToTarget(e))&&i.limitType===e.limitType}function __PRIVATE_canonifyQuery(i){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(i))}|lt:${i.limitType}`}function __PRIVATE_stringifyQuery(i){return`Query(target=${function(s){let o=s.path.canonicalString();return s.collectionGroup!==null&&(o+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(o+=`, filters: [${s.filters.map(a=>__PRIVATE_stringifyFilter(a)).join(", ")}]`),__PRIVATE_isNullOrUndefined(s.limit)||(o+=", limit: "+s.limit),s.orderBy.length>0&&(o+=`, orderBy: [${s.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),s.startAt&&(o+=", startAt: ",o+=s.startAt.inclusive?"b:":"a:",o+=s.startAt.position.map(a=>canonicalId(a)).join(",")),s.endAt&&(o+=", endAt: ",o+=s.endAt.inclusive?"a:":"b:",o+=s.endAt.position.map(a=>canonicalId(a)).join(",")),`Target(${o})`}(__PRIVATE_queryToTarget(i))}; limitType=${i.limitType})`}function __PRIVATE_queryMatches(i,e){return e.isFoundDocument()&&function(o,a){const c=a.key.path;return o.collectionGroup!==null?a.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):DocumentKey.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,e)&&function(o,a){for(const c of __PRIVATE_queryNormalizedOrderBy(o))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(o,a){for(const c of o.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(o,a){return!(o.startAt&&!function(h,d,g){const _=__PRIVATE_boundCompareToDocument(h,d,g);return h.inclusive?_<=0:_<0}(o.startAt,__PRIVATE_queryNormalizedOrderBy(o),a)||o.endAt&&!function(h,d,g){const _=__PRIVATE_boundCompareToDocument(h,d,g);return h.inclusive?_>=0:_>0}(o.endAt,__PRIVATE_queryNormalizedOrderBy(o),a))}(i,e)}function __PRIVATE_queryCollectionGroup(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function __PRIVATE_newQueryComparator(i){return(e,s)=>{let o=!1;for(const a of __PRIVATE_queryNormalizedOrderBy(i)){const c=__PRIVATE_compareDocs(a,e,s);if(c!==0)return c;o=o||a.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(i,e,s){const o=i.field.isKeyField()?DocumentKey.comparator(e.key,s.key):function(c,h,d){const g=h.data.field(c),_=d.data.field(c);return g!==null&&_!==null?__PRIVATE_valueCompare(g,_):fail()}(i.field,e,s);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),o=this.inner[s];if(o!==void 0){for(const[a,c]of o)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,s){const o=this.mapKeyFn(e),a=this.inner[o];if(a===void 0)return this.inner[o]=[[e,s]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,s]);a.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return!1;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return o.length===1?delete this.inner[s]:o.splice(a,1),this.innerSize--,!0;return!1}forEach(e){forEach(this.inner,(s,o)=>{for(const[a,c]of o)e(a,c)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return oe}const _e=new SortedMap(DocumentKey.comparator);function documentMap(...i){let e=_e;for(const s of i)e=e.insert(s.key,s);return e}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(i){let e=_e;return i.forEach((s,o)=>e=e.insert(s,o.overlayedDocument)),e}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(i=>i.toString(),(i,e)=>i.isEqual(e))}const ue=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...i){let e=ue;for(const s of i)e=e.add(s);return e}const ce=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(e)?"-0":e}}function __PRIVATE_toInteger(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(i,e,s){return i instanceof __PRIVATE_ServerTimestampTransform?function(a,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&__PRIVATE_isServerTimestamp(c)&&(c=__PRIVATE_getPreviousValue(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(s,e):i instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(i,e):i instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(i,e):function(a,c){const h=__PRIVATE_computeTransformOperationBaseValue(a,c),d=asNumber(h)+asNumber(a.Pe);return isInteger(h)&&isInteger(a.Pe)?__PRIVATE_toInteger(d):__PRIVATE_toDouble(a.serializer,d)}(i,e)}function __PRIVATE_applyTransformOperationToRemoteDocument(i,e,s){return i instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(i,e):i instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(i,e):s}function __PRIVATE_computeTransformOperationBaseValue(i,e){return i instanceof __PRIVATE_NumericIncrementTransformOperation?function(o){return isInteger(o)||function(c){return!!c&&"doubleValue"in c}(o)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayUnionTransformOperation(i,e){const s=__PRIVATE_coercedFieldValuesArray(e);for(const o of i.elements)s.some(a=>__PRIVATE_valueEquals(a,o))||s.push(o);return{arrayValue:{values:s}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(e){super(),this.elements=e}}function __PRIVATE_applyArrayRemoveTransformOperation(i,e){let s=__PRIVATE_coercedFieldValuesArray(e);for(const o of i.elements)s=s.filter(a=>!__PRIVATE_valueEquals(a,o));return{arrayValue:{values:s}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function asNumber(i){return __PRIVATE_normalizeNumber(i.integerValue||i.doubleValue)}function __PRIVATE_coercedFieldValuesArray(i){return isArray(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(i,e){return i.field.isEqual(e.field)&&function(o,a){return o instanceof __PRIVATE_ArrayUnionTransformOperation&&a instanceof __PRIVATE_ArrayUnionTransformOperation||o instanceof __PRIVATE_ArrayRemoveTransformOperation&&a instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(o.elements,a.elements,__PRIVATE_valueEquals):o instanceof __PRIVATE_NumericIncrementTransformOperation&&a instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(o.Pe,a.Pe):o instanceof __PRIVATE_ServerTimestampTransform&&a instanceof __PRIVATE_ServerTimestampTransform}(i.transform,e.transform)}class Precondition{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Precondition}static exists(e){return new Precondition(void 0,e)}static updateTime(e){return new Precondition(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new __PRIVATE_DeleteMutation(i.key,Precondition.none()):new __PRIVATE_SetMutation(i.key,i.data,Precondition.none());{const s=i.data,o=ObjectValue.empty();let a=new SortedSet(FieldPath$1.comparator);for(let c of e.fields)if(!a.has(c)){let h=s.field(c);h===null&&c.length>1&&(c=c.popLast(),h=s.field(c)),h===null?o.delete(c):o.set(c,h),a=a.add(c)}return new __PRIVATE_PatchMutation(i.key,o,new FieldMask(a.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(i,e,s){i instanceof __PRIVATE_SetMutation?function(a,c,h){const d=a.value.clone(),g=__PRIVATE_serverTransformResults(a.fieldTransforms,c,h.transformResults);d.setAll(g),c.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,s):i instanceof __PRIVATE_PatchMutation?function(a,c,h){if(!__PRIVATE_preconditionIsValidForDocument(a.precondition,c))return void c.convertToUnknownDocument(h.version);const d=__PRIVATE_serverTransformResults(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(__PRIVATE_getPatch(a)),g.setAll(d),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,s):function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,s)}function __PRIVATE_mutationApplyToLocalView(i,e,s,o){return i instanceof __PRIVATE_SetMutation?function(c,h,d,g){if(!__PRIVATE_preconditionIsValidForDocument(c.precondition,h))return d;const _=c.value.clone(),$=__PRIVATE_localTransformResults(c.fieldTransforms,g,h);return _.setAll($),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,s,o):i instanceof __PRIVATE_PatchMutation?function(c,h,d,g){if(!__PRIVATE_preconditionIsValidForDocument(c.precondition,h))return d;const _=__PRIVATE_localTransformResults(c.fieldTransforms,g,h),$=h.data;return $.setAll(__PRIVATE_getPatch(c)),$.setAll(_),h.convertToFoundDocument(h.version,$).setHasLocalMutations(),d===null?null:d.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(nt=>nt.field))}(i,e,s,o):function(c,h,d){return __PRIVATE_preconditionIsValidForDocument(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,s)}function __PRIVATE_mutationEquals(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(o,a){return o===void 0&&a===void 0||!(!o||!a)&&__PRIVATE_arrayEquals(o,a,(c,h)=>__PRIVATE_fieldTransformEquals(c,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(e,s,o,a=[]){super(),this.key=e,this.value=s,this.precondition=o,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(e,s,o,a,c=[]){super(),this.key=e,this.data=s,this.fieldMask=o,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(i){const e=new Map;return i.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const o=i.data.field(s);e.set(s,o)}}),e}function __PRIVATE_serverTransformResults(i,e,s){const o=new Map;__PRIVATE_hardAssert(i.length===s.length);for(let a=0;a<s.length;a++){const c=i[a],h=c.transform,d=e.data.field(c.field);o.set(c.field,__PRIVATE_applyTransformOperationToRemoteDocument(h,d,s[a]))}return o}function __PRIVATE_localTransformResults(i,e,s){const o=new Map;for(const a of i){const c=a.transform,h=s.data.field(a.field);o.set(a.field,__PRIVATE_applyTransformOperationToLocalView(c,h,e))}return o}class __PRIVATE_DeleteMutation extends Mutation{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(e,s,o,a){this.batchId=e,this.localWriteTime=s,this.baseMutations=o,this.mutations=a}applyToRemoteDocument(e,s){const o=s.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument(c,e,o[a])}}applyToLocalView(e,s){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(s=__PRIVATE_mutationApplyToLocalView(o,e,s,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(s=__PRIVATE_mutationApplyToLocalView(o,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const o=__PRIVATE_newMutationMap();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let d=this.applyToLocalView(h,c.mutatedFields);d=s.has(a.key)?null:d;const g=__PRIVATE_calculateOverlayMutation(h,d);g!==null&&o.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(SnapshotVersion.min())}),o}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),__PRIVATE_documentKeySet())}isEqual(e){return this.batchId===e.batchId&&__PRIVATE_arrayEquals(this.mutations,e.mutations,(s,o)=>__PRIVATE_mutationEquals(s,o))&&__PRIVATE_arrayEquals(this.baseMutations,e.baseMutations,(s,o)=>__PRIVATE_mutationEquals(s,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,he;function __PRIVATE_mapCodeFromRpcCode(i){if(i===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch(i){case le.OK:return D.OK;case le.CANCELLED:return D.CANCELLED;case le.UNKNOWN:return D.UNKNOWN;case le.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case le.INTERNAL:return D.INTERNAL;case le.UNAVAILABLE:return D.UNAVAILABLE;case le.UNAUTHENTICATED:return D.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case le.NOT_FOUND:return D.NOT_FOUND;case le.ALREADY_EXISTS:return D.ALREADY_EXISTS;case le.PERMISSION_DENIED:return D.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case le.ABORTED:return D.ABORTED;case le.OUT_OF_RANGE:return D.OUT_OF_RANGE;case le.UNIMPLEMENTED:return D.UNIMPLEMENTED;case le.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(he=le||(le={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(i){const e=__PRIVATE_newTextEncoder().encode(i),s=new Md5;return s.update(e),new Uint8Array(s.digest())}function __PRIVATE_get64BitUints(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),o=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Integer([s,o],0),new Integer([a,c],0)]}class BloomFilter{constructor(e,s,o){if(this.bitmap=e,this.padding=s,this.hashCount=o,s<0||s>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${s}`);if(o<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${o}`);if(e.length===0&&s!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=Integer.fromNumber(this.Ie)}Ee(e,s,o){let a=e.add(s.multiply(Integer.fromNumber(o)));return a.compare(Ie)===1&&(a=new Integer([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const s=__PRIVATE_getMd5HashValue(e),[o,a]=__PRIVATE_get64BitUints(s);for(let c=0;c<this.hashCount;c++){const h=this.Ee(o,a,c);if(!this.de(h))return!1}return!0}static create(e,s,o){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new BloomFilter(c,a,s);return o.forEach(d=>h.insert(d)),h}insert(e){if(this.Ie===0)return;const s=__PRIVATE_getMd5HashValue(e),[o,a]=__PRIVATE_get64BitUints(s);for(let c=0;c<this.hashCount;c++){const h=this.Ee(o,a,c);this.Ae(h)}}Ae(e){const s=Math.floor(e/8),o=e%8;this.bitmap[s]|=1<<o}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(e,s,o,a,c){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=o,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,s,o){const a=new Map;return a.set(e,TargetChange.createSynthesizedTargetChangeForCurrentChange(e,s,o)),new RemoteEvent(SnapshotVersion.min(),a,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(e,s,o,a,c){this.resumeToken=e,this.current=s,this.addedDocuments=o,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,s,o){return new TargetChange(o,s,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(e,s,o,a){this.Re=e,this.removedTargetIds=s,this.key=o,this.Ve=a}}class __PRIVATE_ExistenceFilterChange{constructor(e,s){this.targetId=e,this.me=s}}class __PRIVATE_WatchTargetChange{constructor(e,s,o=ByteString.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=s,this.resumeToken=o,this.cause=a}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=__PRIVATE_documentKeySet(),s=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:s=s.add(a);break;case 1:o=o.add(a);break;default:fail()}}),new TargetChange(this.pe,this.ye,e,s,o)}Ce(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(e){this.Le=e,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,s=>{const o=this.Ge(s);switch(e.state){case 0:this.ze(s)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),o.De(e.resumeToken));break;default:fail()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach((o,a)=>{this.ze(a)&&s(a)})}He(e){const s=e.targetId,o=e.me.count,a=this.Je(s);if(a){const c=a.target;if(__PRIVATE_targetIsDocumentTarget(c))if(o===0){const h=new DocumentKey(c.path);this.Ue(s,h,MutableDocument.newNoDocument(h,SnapshotVersion.min()))}else __PRIVATE_hardAssert(o===1);else{const h=this.Ye(s);if(h!==o){const d=this.Ze(e),g=d?this.Xe(d,e,h):1;if(g!==0){this.je(s);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(s,_)}}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:o="",padding:a=0},hashCount:c=0}=s;let h,d;try{h=__PRIVATE_normalizeByteString(o).toUint8Array()}catch(g){if(g instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new BloomFilter(h,a,c)}catch(g){return __PRIVATE_logWarn(g instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Ie===0?null:d}Xe(e,s,o){return s.me.count===o-this.nt(e,s.targetId)?0:2}nt(e,s){const o=this.Le.getRemoteKeysForTarget(s);let a=0;return o.forEach(c=>{const h=this.Le.tt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(d)||(this.Ue(s,c,null),a++)}),a}rt(e){const s=new Map;this.Be.forEach((c,h)=>{const d=this.Je(h);if(d){if(c.current&&__PRIVATE_targetIsDocumentTarget(d.target)){const g=new DocumentKey(d.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,MutableDocument.newNoDocument(g,e))}c.be&&(s.set(h,c.ve()),c.Ce())}});let o=__PRIVATE_documentKeySet();this.qe.forEach((c,h)=>{let d=!0;h.forEachWhile(g=>{const _=this.Je(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(o=o.add(c))}),this.ke.forEach((c,h)=>h.setReadTime(e));const a=new RemoteEvent(e,s,this.Qe,this.ke,o);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),a}$e(e,s){if(!this.ze(e))return;const o=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,o),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,o){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,s)?a.Fe(s,1):a.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),o&&(this.ke=this.ke.insert(s,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new __PRIVATE_TargetState,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(e,s)),s}ze(e){const s=this.Je(e)!==null;return s||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(e).forEach(s=>{this.Ue(e,s,null)})}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Te={asc:"ASCENDING",desc:"DESCENDING"},Ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},de={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function __PRIVATE_toInt32Proto(i,e){return i.useProto3Json||__PRIVATE_isNullOrUndefined(e)?e:{value:e}}function toTimestamp(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __PRIVATE_toBytes(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function __PRIVATE_fromVersion(i){return __PRIVATE_hardAssert(!!i),SnapshotVersion.fromTimestamp(function(s){const o=__PRIVATE_normalizeTimestamp(s);return new Timestamp(o.seconds,o.nanos)}(i))}function __PRIVATE_toResourceName(i,e){return __PRIVATE_toResourcePath(i,e).canonicalString()}function __PRIVATE_toResourcePath(i,e){const s=function(a){return new ResourcePath(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?s:s.child(e)}function __PRIVATE_fromResourceName(i){const e=ResourcePath.fromString(i);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(e)),e}function fromName(i,e){const s=__PRIVATE_fromResourceName(e);if(s.get(1)!==i.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(s))}function __PRIVATE_toQueryPath(i,e){return __PRIVATE_toResourceName(i.databaseId,e)}function __PRIVATE_fromQueryPath(i){const e=__PRIVATE_fromResourceName(i);return e.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(e)}function __PRIVATE_getEncodedDatabaseId(i){return new ResourcePath(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(i){return __PRIVATE_hardAssert(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function __PRIVATE_fromWatchChange(i,e){let s;if("targetChange"in e){e.targetChange;const o=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:fail()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,$){return _.useProto3Json?(__PRIVATE_hardAssert($===void 0||typeof $=="string"),ByteString.fromBase64String($||"")):(__PRIVATE_hardAssert($===void 0||$ instanceof Buffer||$ instanceof Uint8Array),ByteString.fromUint8Array($||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(_){const $=_.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(_.code);return new FirestoreError($,_.message||"")}(h);s=new __PRIVATE_WatchTargetChange(o,a,c,d||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const a=fromName(i,o.document.name),c=__PRIVATE_fromVersion(o.document.updateTime),h=o.document.createTime?__PRIVATE_fromVersion(o.document.createTime):SnapshotVersion.min(),d=new ObjectValue({mapValue:{fields:o.document.fields}}),g=MutableDocument.newFoundDocument(a,c,h,d),_=o.targetIds||[],$=o.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange(_,$,g.key,g)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const a=fromName(i,o.document),c=o.readTime?__PRIVATE_fromVersion(o.readTime):SnapshotVersion.min(),h=MutableDocument.newNoDocument(a,c),d=o.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const a=fromName(i,o.document),c=o.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],c,a,null)}else{if(!("filter"in e))return fail();{e.filter;const o=e.filter;o.targetId;const{count:a=0,unchangedNames:c}=o,h=new ExistenceFilter(a,c),d=o.targetId;s=new __PRIVATE_ExistenceFilterChange(d,h)}}return s}function __PRIVATE_toDocumentsTarget(i,e){return{documents:[__PRIVATE_toQueryPath(i,e.path)]}}function __PRIVATE_toQueryTarget(i,e){const s={structuredQuery:{}},o=e.path;let a;e.collectionGroup!==null?(a=o,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=o.popLast(),s.structuredQuery.from=[{collectionId:o.lastSegment()}]),s.parent=__PRIVATE_toQueryPath(i,a);const c=function(_){if(_.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(_,"and"))}(e.filters);c&&(s.structuredQuery.where=c);const h=function(_){if(_.length!==0)return _.map($=>function(et){return{field:__PRIVATE_toFieldPathReference(et.field),direction:__PRIVATE_toDirection(et.dir)}}($))}(e.orderBy);h&&(s.structuredQuery.orderBy=h);const d=__PRIVATE_toInt32Proto(i,e.limit);return d!==null&&(s.structuredQuery.limit=d),e.startAt&&(s.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(s.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:s,parent:a}}function __PRIVATE_convertQueryTargetToQuery(i){let e=__PRIVATE_fromQueryPath(i.parent);const s=i.structuredQuery,o=s.from?s.from.length:0;let a=null;if(o>0){__PRIVATE_hardAssert(o===1);const $=s.from[0];$.allDescendants?a=$.collectionId:e=e.child($.collectionId)}let c=[];s.where&&(c=function(nt){const et=__PRIVATE_fromFilter(nt);return et instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(et)?et.getFilters():[et]}(s.where));let h=[];s.orderBy&&(h=function(nt){return nt.map(et=>function(lt){return new OrderBy(__PRIVATE_fromFieldPathReference(lt.field),function(gt){switch(gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(lt.direction))}(et))}(s.orderBy));let d=null;s.limit&&(d=function(nt){let et;return et=typeof nt=="object"?nt.value:nt,__PRIVATE_isNullOrUndefined(et)?null:et}(s.limit));let g=null;s.startAt&&(g=function(nt){const et=!!nt.before,rt=nt.values||[];return new Bound(rt,et)}(s.startAt));let _=null;return s.endAt&&(_=function(nt){const et=!nt.before,rt=nt.values||[];return new Bound(rt,et)}(s.endAt)),__PRIVATE_newQuery(e,a,h,c,d,"F",g,_)}function __PRIVATE_toListenRequestLabels(i,e){const s=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(e.purpose);return s==null?null:{"goog-listen-tags":s}}function __PRIVATE_fromFilter(i){return i.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const o=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(o,"==",{doubleValue:NaN});case"IS_NULL":const a=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(h,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(i):i.fieldFilter!==void 0?function(s){return FieldFilter.create(__PRIVATE_fromFieldPathReference(s.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(s.fieldFilter.op),s.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(s){return CompositeFilter.create(s.compositeFilter.filters.map(o=>__PRIVATE_fromFilter(o)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return fail()}}(s.compositeFilter.op))}(i):fail()}function __PRIVATE_toDirection(i){return Te[i]}function __PRIVATE_toOperatorName(i){return Ee[i]}function __PRIVATE_toCompositeOperatorName(i){return de[i]}function __PRIVATE_toFieldPathReference(i){return{fieldPath:i.canonicalString()}}function __PRIVATE_fromFieldPathReference(i){return FieldPath$1.fromServerFormat(i.fieldPath)}function __PRIVATE_toFilter(i){return i instanceof FieldFilter?function(s){if(s.op==="=="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:__PRIVATE_toOperatorName(s.op),value:s.value}}}(i):i instanceof CompositeFilter?function(s){const o=s.getFilters().map(a=>__PRIVATE_toFilter(a));return o.length===1?o[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(s.op),filters:o}}}(i):fail()}function __PRIVATE_isValidResourceName(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(e,s,o,a,c=SnapshotVersion.min(),h=SnapshotVersion.min(),d=ByteString.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=s,this.purpose=o,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new TargetData(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(e){this.ct=e}}function __PRIVATE_fromBundledQuery(i){const e=__PRIVATE_convertQueryTargetToQuery({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?__PRIVATE_queryWithLimit(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this.un=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(e,s){return this.un.add(s),PersistencePromise.resolve()}getCollectionParents(e,s){return PersistencePromise.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return PersistencePromise.resolve()}deleteFieldIndex(e,s){return PersistencePromise.resolve()}deleteAllFieldIndexes(e){return PersistencePromise.resolve()}createTargetIndexes(e,s){return PersistencePromise.resolve()}getDocumentsMatchingTarget(e,s){return PersistencePromise.resolve(null)}getIndexType(e,s){return PersistencePromise.resolve(0)}getFieldIndexes(e,s){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise.resolve(null)}getMinOffset(e,s){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(e,s){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(e,s,o){return PersistencePromise.resolve()}updateIndexEntries(e,s){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(e){const s=e.lastSegment(),o=e.popLast(),a=this.index[s]||new SortedSet(ResourcePath.comparator),c=!a.has(o);return this.index[s]=a.add(o),c}has(e){const s=e.lastSegment(),o=e.popLast(),a=this.index[s];return a&&a.has(o)}getEntries(e){return(this.index[e]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new __PRIVATE_TargetIdGenerator(0)}static kn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,MutableDocument.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const o=this.changes.get(s);return o!==void 0?PersistencePromise.resolve(o):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(e,s,o,a){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=o,this.indexManager=a}getDocument(e,s){let o=null;return this.documentOverlayCache.getOverlay(e,s).next(a=>(o=a,this.remoteDocumentCache.getEntry(e,s))).next(a=>(o!==null&&__PRIVATE_mutationApplyToLocalView(o.mutation,a,FieldMask.empty(),Timestamp.now()),a))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(o=>this.getLocalViewOfDocuments(e,o,__PRIVATE_documentKeySet()).next(()=>o))}getLocalViewOfDocuments(e,s,o=__PRIVATE_documentKeySet()){const a=__PRIVATE_newOverlayMap();return this.populateOverlays(e,a,s).next(()=>this.computeViews(e,s,a,o).next(c=>{let h=documentMap();return c.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,s){const o=__PRIVATE_newOverlayMap();return this.populateOverlays(e,o,s).next(()=>this.computeViews(e,s,o,__PRIVATE_documentKeySet()))}populateOverlays(e,s,o){const a=[];return o.forEach(c=>{s.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,d)=>{s.set(h,d)})})}computeViews(e,s,o,a){let c=__PRIVATE_mutableDocumentMap();const h=__PRIVATE_newDocumentKeyMap(),d=function(){return __PRIVATE_newDocumentKeyMap()}();return s.forEach((g,_)=>{const $=o.get(_.key);a.has(_.key)&&($===void 0||$.mutation instanceof __PRIVATE_PatchMutation)?c=c.insert(_.key,_):$!==void 0?(h.set(_.key,$.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView($.mutation,_,$.mutation.getFieldMask(),Timestamp.now())):h.set(_.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,$)=>h.set(_,$)),s.forEach((_,$)=>{var nt;return d.set(_,new OverlayedDocument($,(nt=h.get(_))!==null&&nt!==void 0?nt:null))}),d))}recalculateAndSaveOverlays(e,s){const o=__PRIVATE_newDocumentKeyMap();let a=new SortedMap((h,d)=>h-d),c=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(h=>{for(const d of h)d.keys().forEach(g=>{const _=s.get(g);if(_===null)return;let $=o.get(g)||FieldMask.empty();$=d.applyToLocalView(_,$),o.set(g,$);const nt=(a.get(d.batchId)||__PRIVATE_documentKeySet()).add(g);a=a.insert(d.batchId,nt)})}).next(()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),_=g.key,$=g.value,nt=__PRIVATE_newMutationMap();$.forEach(et=>{if(!c.has(et)){const rt=__PRIVATE_calculateOverlayMutation(s.get(et),o.get(et));rt!==null&&nt.set(et,rt),c=c.add(et)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,nt))}return PersistencePromise.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,s,o,a){return function(h){return DocumentKey.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):__PRIVATE_isCollectionGroupQuery(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,o,a):this.getDocumentsMatchingCollectionQuery(e,s,o,a)}getNextDocuments(e,s,o,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,o,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,o.largestBatchId,a-c.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let d=-1,g=c;return h.next(_=>PersistencePromise.forEach(_,($,nt)=>(d<nt.largestBatchId&&(d=nt.largestBatchId),c.get($)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(e,$).next(et=>{g=g.insert($,et)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,__PRIVATE_documentKeySet())).next($=>({batchId:d,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap($)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new DocumentKey(s)).next(o=>{let a=documentMap();return o.isFoundDocument()&&(a=a.insert(o.key,o)),a})}getDocumentsMatchingCollectionGroupQuery(e,s,o,a){const c=s.collectionGroup;let h=documentMap();return this.indexManager.getCollectionParents(e,c).next(d=>PersistencePromise.forEach(d,g=>{const _=function(nt,et){return new __PRIVATE_QueryImpl(et,null,nt.explicitOrderBy.slice(),nt.filters.slice(),nt.limit,nt.limitType,nt.startAt,nt.endAt)}(s,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,o,a).next($=>{$.forEach((nt,et)=>{h=h.insert(nt,et)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,s,o,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,o.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,o,c,a))).next(h=>{c.forEach((g,_)=>{const $=_.getKey();h.get($)===null&&(h=h.insert($,MutableDocument.newInvalidDocument($)))});let d=documentMap();return h.forEach((g,_)=>{const $=c.get(g);$!==void 0&&__PRIVATE_mutationApplyToLocalView($.mutation,_,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(s,_)&&(d=d.insert(g,_))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return PersistencePromise.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,function(a){return{id:a.id,version:a.version,createTime:__PRIVATE_fromVersion(a.createTime)}}(s)),PersistencePromise.resolve()}getNamedQuery(e,s){return PersistencePromise.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,function(a){return{name:a.name,query:__PRIVATE_fromBundledQuery(a.bundledQuery),readTime:__PRIVATE_fromVersion(a.readTime)}}(s)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Ir=new Map}getOverlay(e,s){return PersistencePromise.resolve(this.overlays.get(s))}getOverlays(e,s){const o=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(s,a=>this.getOverlay(e,a).next(c=>{c!==null&&o.set(a,c)})).next(()=>o)}saveOverlays(e,s,o){return o.forEach((a,c)=>{this.ht(e,s,c)}),PersistencePromise.resolve()}removeOverlaysForBatchId(e,s,o){const a=this.Ir.get(o);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(o)),PersistencePromise.resolve()}getOverlaysForCollection(e,s,o){const a=__PRIVATE_newOverlayMap(),c=s.length+1,h=new DocumentKey(s.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,_=g.getKey();if(!s.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>o&&a.set(g.getKey(),g)}return PersistencePromise.resolve(a)}getOverlaysForCollectionGroup(e,s,o,a){let c=new SortedMap((_,$)=>_-$);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===s&&_.largestBatchId>o){let $=c.get(_.largestBatchId);$===null&&($=__PRIVATE_newOverlayMap(),c=c.insert(_.largestBatchId,$)),$.set(_.getKey(),_)}}const d=__PRIVATE_newOverlayMap(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,$)=>d.set(_,$)),!(d.size()>=a)););return PersistencePromise.resolve(d)}ht(e,s,o){const a=this.overlays.get(o.key);if(a!==null){const h=this.Ir.get(a.largestBatchId).delete(o.key);this.Ir.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new Overlay(s,o));let c=this.Ir.get(s);c===void 0&&(c=__PRIVATE_documentKeySet(),this.Ir.set(s,c)),this.Ir.set(s,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(e){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Tr=new SortedSet(__PRIVATE_DocReference.Er),this.dr=new SortedSet(__PRIVATE_DocReference.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const o=new __PRIVATE_DocReference(e,s);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,s){e.forEach(o=>this.addReference(o,s))}removeReference(e,s){this.Vr(new __PRIVATE_DocReference(e,s))}mr(e,s){e.forEach(o=>this.removeReference(o,s))}gr(e){const s=new DocumentKey(new ResourcePath([])),o=new __PRIVATE_DocReference(s,e),a=new __PRIVATE_DocReference(s,e+1),c=[];return this.dr.forEachInRange([o,a],h=>{this.Vr(h),c.push(h.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new DocumentKey(new ResourcePath([])),o=new __PRIVATE_DocReference(s,e),a=new __PRIVATE_DocReference(s,e+1);let c=__PRIVATE_documentKeySet();return this.dr.forEachInRange([o,a],h=>{c=c.add(h.key)}),c}containsKey(e){const s=new __PRIVATE_DocReference(e,0),o=this.Tr.firstAfterOrEqual(s);return o!==null&&e.isEqual(o.key)}}class __PRIVATE_DocReference{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return DocumentKey.comparator(e.key,s.key)||__PRIVATE_primitiveComparator(e.wr,s.wr)}static Ar(e,s){return __PRIVATE_primitiveComparator(e.wr,s.wr)||DocumentKey.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new SortedSet(__PRIVATE_DocReference.Er)}checkEmpty(e){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,o,a){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new MutationBatch(c,s,o,a);this.mutationQueue.push(h);for(const d of a)this.br=this.br.add(new __PRIVATE_DocReference(d.key,c)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return PersistencePromise.resolve(h)}lookupMutationBatch(e,s){return PersistencePromise.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const o=s+1,a=this.vr(o),c=a<0?0:a;return PersistencePromise.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const o=new __PRIVATE_DocReference(s,0),a=new __PRIVATE_DocReference(s,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([o,a],h=>{const d=this.Dr(h.wr);c.push(d)}),PersistencePromise.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,s){let o=new SortedSet(__PRIVATE_primitiveComparator);return s.forEach(a=>{const c=new __PRIVATE_DocReference(a,0),h=new __PRIVATE_DocReference(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,h],d=>{o=o.add(d.wr)})}),PersistencePromise.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,s){const o=s.path,a=o.length+1;let c=o;DocumentKey.isDocumentKey(c)||(c=c.child(""));const h=new __PRIVATE_DocReference(new DocumentKey(c),0);let d=new SortedSet(__PRIVATE_primitiveComparator);return this.br.forEachWhile(g=>{const _=g.key.path;return!!o.isPrefixOf(_)&&(_.length===a&&(d=d.add(g.wr)),!0)},h),PersistencePromise.resolve(this.Cr(d))}Cr(e){const s=[];return e.forEach(o=>{const a=this.Dr(o);a!==null&&s.push(a)}),s}removeMutationBatch(e,s){__PRIVATE_hardAssert(this.Fr(s.batchId,"removed")===0),this.mutationQueue.shift();let o=this.br;return PersistencePromise.forEach(s.mutations,a=>{const c=new __PRIVATE_DocReference(a.key,s.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,s){const o=new __PRIVATE_DocReference(s,0),a=this.br.firstAfterOrEqual(o);return PersistencePromise.resolve(s.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise.resolve()}Fr(e,s){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(e){this.Mr=e,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const o=s.key,a=this.docs.get(o),c=a?a.size:0,h=this.Mr(s);return this.docs=this.docs.insert(o,{document:s.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const o=this.docs.get(s);return PersistencePromise.resolve(o?o.document.mutableCopy():MutableDocument.newInvalidDocument(s))}getEntries(e,s){let o=__PRIVATE_mutableDocumentMap();return s.forEach(a=>{const c=this.docs.get(a);o=o.insert(a,c?c.document.mutableCopy():MutableDocument.newInvalidDocument(a))}),PersistencePromise.resolve(o)}getDocumentsMatchingQuery(e,s,o,a){let c=__PRIVATE_mutableDocumentMap();const h=s.path,d=new DocumentKey(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:_,value:{document:$}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument($),o)<=0||(a.has($.key)||__PRIVATE_queryMatches(s,$))&&(c=c.insert($.key,$.mutableCopy()))}return PersistencePromise.resolve(c)}getAllFromCollectionGroup(e,s,o,a){fail()}Or(e,s){return PersistencePromise.forEach(this.docs,o=>s(o))}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(e){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach((o,a)=>{a.isValidDocument()?s.push(this.cr.addEntry(e,a)):this.cr.removeEntry(o)}),PersistencePromise.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(e){this.persistence=e,this.Nr=new ObjectMap(s=>__PRIVATE_canonifyTarget(s),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Lr=0,this.Br=new __PRIVATE_ReferenceSet,this.targetCount=0,this.kr=__PRIVATE_TargetIdGenerator.Bn()}forEachTarget(e,s){return this.Nr.forEach((o,a)=>s(a)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(e,s,o){return o&&(this.lastRemoteSnapshotVersion=o),s>this.Lr&&(this.Lr=s),PersistencePromise.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new __PRIVATE_TargetIdGenerator(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(e,s){return this.Kn(s),PersistencePromise.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(e,s,o){let a=0;const c=[];return this.Nr.forEach((h,d)=>{d.sequenceNumber<=s&&o.get(d.targetId)===null&&(this.Nr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),PersistencePromise.waitFor(c).next(()=>a)}getTargetCount(e){return PersistencePromise.resolve(this.targetCount)}getTargetData(e,s){const o=this.Nr.get(s)||null;return PersistencePromise.resolve(o)}addMatchingKeys(e,s,o){return this.Br.Rr(s,o),PersistencePromise.resolve()}removeMatchingKeys(e,s,o){this.Br.mr(s,o);const a=this.persistence.referenceDelegate,c=[];return a&&s.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),PersistencePromise.waitFor(c)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),PersistencePromise.resolve()}getMatchingKeysForTargetId(e,s){const o=this.Br.yr(s);return PersistencePromise.resolve(o)}containsKey(e,s){return PersistencePromise.resolve(this.Br.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(e,s){this.qr={},this.overlays={},this.Qr=new __PRIVATE_ListenSequence(0),this.Kr=!1,this.Kr=!0,this.$r=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=e(this),this.Ur=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(a){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(a)}(o=>this.referenceDelegate.Wr(o)),this.serializer=new __PRIVATE_LocalSerializer(s),this.Gr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let o=this.qr[e.toKey()];return o||(o=new __PRIVATE_MemoryMutationQueue(s,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,o){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",e);const a=new __PRIVATE_MemoryTransaction(this.Qr.next());return this.referenceDelegate.zr(),o(a).next(c=>this.referenceDelegate.jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Hr(e,s){return PersistencePromise.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,s)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(e){super(),this.currentSequenceNumber=e}}class __PRIVATE_MemoryEagerDelegate{constructor(e){this.persistence=e,this.Jr=new __PRIVATE_ReferenceSet,this.Yr=null}static Zr(e){return new __PRIVATE_MemoryEagerDelegate(e)}get Xr(){if(this.Yr)return this.Yr;throw fail()}addReference(e,s,o){return this.Jr.addReference(o,s),this.Xr.delete(o.toString()),PersistencePromise.resolve()}removeReference(e,s,o){return this.Jr.removeReference(o,s),this.Xr.add(o.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),PersistencePromise.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach(a=>this.Xr.add(a.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,s.targetId).next(a=>{a.forEach(c=>this.Xr.add(c.toString()))}).next(()=>o.removeTargetData(e,s))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Xr,o=>{const a=DocumentKey.fromPath(o);return this.ei(e,a).next(c=>{c||s.removeEntry(a,SnapshotVersion.min())})}).next(()=>(this.Yr=null,s.apply(e)))}updateLimboDocument(e,s){return this.ei(e,s).next(o=>{o?this.Xr.delete(s.toString()):this.Xr.add(s.toString())})}Wr(e){return 0}ei(e,s){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(e,s,o,a){this.targetId=e,this.fromCache=s,this.$i=o,this.Ui=a}static Wi(e,s){let o=__PRIVATE_documentKeySet(),a=__PRIVATE_documentKeySet();for(const c of s.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new __PRIVATE_LocalViewChanges(e,s.fromCache,o,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,o,a){const c={result:null};return this.Yi(e,s).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.Zi(e,s,a,o).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new QueryContext;return this.Xi(e,s,h).next(d=>{if(c.result=d,this.zi)return this.es(e,s,h,d.size)})}).next(()=>c.result)}es(e,s,o,a){return o.documentReadCount<this.ji?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(s),"scans",o.documentReadCount,"local documents and returns",a,"documents as results."),o.documentReadCount>this.Hi*a?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget(s))):PersistencePromise.resolve())}Yi(e,s){if(__PRIVATE_queryMatchesAllDocuments(s))return PersistencePromise.resolve(null);let o=__PRIVATE_queryToTarget(s);return this.indexManager.getIndexType(e,o).next(a=>a===0?null:(s.limit!==null&&a===1&&(s=__PRIVATE_queryWithLimit(s,null,"F"),o=__PRIVATE_queryToTarget(s)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const h=__PRIVATE_documentKeySet(...c);return this.Ji.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,o).next(g=>{const _=this.ts(s,d);return this.ns(s,_,h,g.readTime)?this.Yi(e,__PRIVATE_queryWithLimit(s,null,"F")):this.rs(e,_,s,g)}))})))}Zi(e,s,o,a){return __PRIVATE_queryMatchesAllDocuments(s)||a.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Ji.getDocuments(e,o).next(c=>{const h=this.ts(s,c);return this.ns(s,h,o,a)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),__PRIVATE_stringifyQuery(s)),this.rs(e,h,s,__PRIVATE_newIndexOffsetSuccessorFromReadTime(a,-1)).next(d=>d))})}ts(e,s){let o=new SortedSet(__PRIVATE_newQueryComparator(e));return s.forEach((a,c)=>{__PRIVATE_queryMatches(e,c)&&(o=o.add(c))}),o}ns(e,s,o,a){if(e.limit===null)return!1;if(o.size!==s.size)return!0;const c=e.limitType==="F"?s.last():s.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Xi(e,s,o){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(s)),this.Ji.getDocumentsMatchingQuery(e,s,IndexOffset.min(),o)}rs(e,s,o,a){return this.Ji.getDocumentsMatchingQuery(e,o,a).next(c=>(s.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(e,s,o,a){this.persistence=e,this.ss=s,this.serializer=a,this.os=new SortedMap(__PRIVATE_primitiveComparator),this._s=new ObjectMap(c=>__PRIVATE_canonifyTarget(c),__PRIVATE_targetEquals),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.os))}}function __PRIVATE_newLocalStore(i,e,s,o){return new __PRIVATE_LocalStoreImpl(i,e,s,o)}async function __PRIVATE_localStoreHandleUserChange(i,e){const s=__PRIVATE_debugCast(i);return await s.persistence.runTransaction("Handle user change","readonly",o=>{let a;return s.mutationQueue.getAllMutationBatches(o).next(c=>(a=c,s.ls(e),s.mutationQueue.getAllMutationBatches(o))).next(c=>{const h=[],d=[];let g=__PRIVATE_documentKeySet();for(const _ of a){h.push(_.batchId);for(const $ of _.mutations)g=g.add($.key)}for(const _ of c){d.push(_.batchId);for(const $ of _.mutations)g=g.add($.key)}return s.localDocuments.getDocuments(o,g).next(_=>({hs:_,removedBatchIds:h,addedBatchIds:d}))})})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(i){const e=__PRIVATE_debugCast(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Ur.getLastRemoteSnapshotVersion(s))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(i,e){const s=__PRIVATE_debugCast(i),o=e.snapshotVersion;let a=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=s.cs.newChangeBuffer({trackRemovals:!0});a=s.os;const d=[];e.targetChanges.forEach(($,nt)=>{const et=a.get(nt);if(!et)return;d.push(s.Ur.removeMatchingKeys(c,$.removedDocuments,nt).next(()=>s.Ur.addMatchingKeys(c,$.addedDocuments,nt)));let rt=et.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(nt)!==null?rt=rt.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):$.resumeToken.approximateByteSize()>0&&(rt=rt.withResumeToken($.resumeToken,o)),a=a.insert(nt,rt),function(ut,gt,at){return ut.resumeToken.approximateByteSize()===0||gt.snapshotVersion.toMicroseconds()-ut.snapshotVersion.toMicroseconds()>=3e8?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(et,rt,$)&&d.push(s.Ur.updateTargetData(c,rt))});let g=__PRIVATE_mutableDocumentMap(),_=__PRIVATE_documentKeySet();if(e.documentUpdates.forEach($=>{e.resolvedLimboDocuments.has($)&&d.push(s.persistence.referenceDelegate.updateLimboDocument(c,$))}),d.push(__PRIVATE_populateDocumentChangeBuffer(c,h,e.documentUpdates).next($=>{g=$.Ps,_=$.Is})),!o.isEqual(SnapshotVersion.min())){const $=s.Ur.getLastRemoteSnapshotVersion(c).next(nt=>s.Ur.setTargetsMetadata(c,c.currentSequenceNumber,o));d.push($)}return PersistencePromise.waitFor(d).next(()=>h.apply(c)).next(()=>s.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(s.os=a,c))}function __PRIVATE_populateDocumentChangeBuffer(i,e,s){let o=__PRIVATE_documentKeySet(),a=__PRIVATE_documentKeySet();return s.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let h=__PRIVATE_mutableDocumentMap();return s.forEach((d,g)=>{const _=c.get(d);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(SnapshotVersion.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",g.version)}),{Ps:h,Is:a}})}function __PRIVATE_localStoreAllocateTarget(i,e){const s=__PRIVATE_debugCast(i);return s.persistence.runTransaction("Allocate target","readwrite",o=>{let a;return s.Ur.getTargetData(o,e).next(c=>c?(a=c,PersistencePromise.resolve(a)):s.Ur.allocateTargetId(o).next(h=>(a=new TargetData(e,h,"TargetPurposeListen",o.currentSequenceNumber),s.Ur.addTargetData(o,a).next(()=>a))))}).then(o=>{const a=s.os.get(o.targetId);return(a===null||o.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(s.os=s.os.insert(o.targetId,o),s._s.set(e,o.targetId)),o})}async function __PRIVATE_localStoreReleaseTarget(i,e,s){const o=__PRIVATE_debugCast(i),a=o.os.get(e),c=s?"readwrite":"readwrite-primary";try{s||await o.persistence.runTransaction("Release target",c,h=>o.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!__PRIVATE_isIndexedDbTransactionError(h))throw h;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.os=o.os.remove(e),o._s.delete(a.target)}function __PRIVATE_localStoreExecuteQuery(i,e,s){const o=__PRIVATE_debugCast(i);let a=SnapshotVersion.min(),c=__PRIVATE_documentKeySet();return o.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,$){const nt=__PRIVATE_debugCast(g),et=nt._s.get($);return et!==void 0?PersistencePromise.resolve(nt.os.get(et)):nt.Ur.getTargetData(_,$)}(o,h,__PRIVATE_queryToTarget(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(h,d.targetId).next(g=>{c=g})}).next(()=>o.ss.getDocumentsMatchingQuery(h,e,s?a:SnapshotVersion.min(),s?c:__PRIVATE_documentKeySet())).next(d=>(__PRIVATE_setMaxReadTime(o,__PRIVATE_queryCollectionGroup(e),d),{documents:d,Ts:c})))}function __PRIVATE_setMaxReadTime(i,e,s){let o=i.us.get(e)||SnapshotVersion.min();s.forEach((a,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.us.set(e,o)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class __PRIVATE_MemorySharedClientState{constructor(){this.so=new __PRIVATE_LocalClientState,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,o){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,o){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(e,s,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let me=null;function __PRIVATE_generateUniqueDebugId(){return me===null?me=function(){return 268435456+Math.round(2147483648*Math.random())}():me++,"0x"+me.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const o=s.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+s.host,this.vo=`projects/${a}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}get Fo(){return!1}Mo(s,o,a,c,h){const d=__PRIVATE_generateUniqueDebugId(),g=this.xo(s,o.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${s}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,c,h),this.No(s,g,_,a).then($=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${s}' ${d}: `,$),$),$=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${s}' ${d} failed with error: `,$,"url: ",g,"request:",a),$})}Lo(s,o,a,c,h,d){return this.Mo(s,o,a,c,h)}Oo(s,o,a){s["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,h)=>s[h]=c),a&&a.headers.forEach((c,h)=>s[h]=c)}xo(s,o){const a=fe[s];return`${this.Do}/v1/${o}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,o,a){const c=__PRIVATE_generateUniqueDebugId();return new Promise((h,d)=>{const g=new XhrIo;g.setWithCredentials(!0),g.listenOnce(EventType.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ErrorCode.NO_ERROR:const $=g.getResponseJson();__PRIVATE_logDebug(ge,`XHR for RPC '${e}' ${c} received:`,JSON.stringify($)),h($);break;case ErrorCode.TIMEOUT:__PRIVATE_logDebug(ge,`RPC '${e}' ${c} timed out`),d(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode.HTTP_ERROR:const nt=g.getStatus();if(__PRIVATE_logDebug(ge,`RPC '${e}' ${c} failed with status:`,nt,"response text:",g.getResponseText()),nt>0){let et=g.getResponseJson();Array.isArray(et)&&(et=et[0]);const rt=et==null?void 0:et.error;if(rt&&rt.status&&rt.message){const lt=function(gt){const at=gt.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(at)>=0?at:D.UNKNOWN}(rt.status);d(new FirestoreError(lt,rt.message))}else d(new FirestoreError(D.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(ge,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);__PRIVATE_logDebug(ge,`RPC '${e}' ${c} sending request:`,a),g.send(s,"POST",_,o,15)})}Bo(e,s,o){const a=__PRIVATE_generateUniqueDebugId(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=createWebChannelTransport(),d=getStatEventTarget(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,s,o),g.encodeInitMessageHeaders=!0;const $=c.join("");__PRIVATE_logDebug(ge,`Creating RPC '${e}' stream ${a}: ${$}`,g);const nt=h.createWebChannel($,g);let et=!1,rt=!1;const lt=new __PRIVATE_StreamBridge({Io:gt=>{rt?__PRIVATE_logDebug(ge,`Not sending because RPC '${e}' stream ${a} is closed:`,gt):(et||(__PRIVATE_logDebug(ge,`Opening RPC '${e}' stream ${a} transport.`),nt.open(),et=!0),__PRIVATE_logDebug(ge,`RPC '${e}' stream ${a} sending:`,gt),nt.send(gt))},To:()=>nt.close()}),ut=(gt,at,st)=>{gt.listen(at,ot=>{try{st(ot)}catch(ct){setTimeout(()=>{throw ct},0)}})};return ut(nt,WebChannel.EventType.OPEN,()=>{rt||(__PRIVATE_logDebug(ge,`RPC '${e}' stream ${a} transport opened.`),lt.yo())}),ut(nt,WebChannel.EventType.CLOSE,()=>{rt||(rt=!0,__PRIVATE_logDebug(ge,`RPC '${e}' stream ${a} transport closed`),lt.So())}),ut(nt,WebChannel.EventType.ERROR,gt=>{rt||(rt=!0,__PRIVATE_logWarn(ge,`RPC '${e}' stream ${a} transport errored:`,gt),lt.So(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),ut(nt,WebChannel.EventType.MESSAGE,gt=>{var at;if(!rt){const st=gt.data[0];__PRIVATE_hardAssert(!!st);const ot=st,ct=ot.error||((at=ot[0])===null||at===void 0?void 0:at.error);if(ct){__PRIVATE_logDebug(ge,`RPC '${e}' stream ${a} received error:`,ct);const Pt=ct.status;let At=function(_t){const St=le[_t];if(St!==void 0)return __PRIVATE_mapCodeFromRpcCode(St)}(Pt),yt=ct.message;At===void 0&&(At=D.INTERNAL,yt="Unknown error status: "+Pt+" with message "+ct.message),rt=!0,lt.So(new FirestoreError(At,yt)),nt.close()}else __PRIVATE_logDebug(ge,`RPC '${e}' stream ${a} received:`,st),lt.bo(st)}}),ut(d,Event.STAT_EVENT,gt=>{gt.stat===Stat.PROXY?__PRIVATE_logDebug(ge,`RPC '${e}' stream ${a} detected buffering proxy`):gt.stat===Stat.NOPROXY&&__PRIVATE_logDebug(ge,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{lt.wo()},0),lt}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(i){return new JsonProtoSerializer(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(e,s,o=1e3,a=1.5,c=6e4){this.ui=e,this.timerId=s,this.ko=o,this.qo=a,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),a=Math.max(0,s-o);a>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(e,s,o,a,c,h,d,g){this.ui=e,this.Ho=o,this.Jo=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new __PRIVATE_ExponentialBackoff(e,s)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,s){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():s&&s.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(s.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):s&&s.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(s)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,a])=>{this.Yo===s&&this.P_(o,a)},o=>{e(()=>{const a=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(a)})})}P_(e,s){const o=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{o(()=>this.I_(a))}),this.stream.onMessage(a=>{o(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return __PRIVATE_logDebug("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget(()=>this.Yo===e?s():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(e,s,o,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,o,a,h),this.serializer=c}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=__PRIVATE_fromWatchChange(this.serializer,e),o=function(c){if(!("targetChange"in c))return SnapshotVersion.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?SnapshotVersion.min():h.readTime?__PRIVATE_fromVersion(h.readTime):SnapshotVersion.min()}(e);return this.listener.d_(s,o)}A_(e){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.addTarget=function(c,h){let d;const g=h.target;if(d=__PRIVATE_targetIsDocumentTarget(g)?{documents:__PRIVATE_toDocumentsTarget(c,g)}:{query:__PRIVATE_toQueryTarget(c,g)._t},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=__PRIVATE_toBytes(c,h.resumeToken);const _=__PRIVATE_toInt32Proto(c,h.expectedCount);_!==null&&(d.expectedCount=_)}else if(h.snapshotVersion.compareTo(SnapshotVersion.min())>0){d.readTime=toTimestamp(c,h.snapshotVersion.toTimestamp());const _=__PRIVATE_toInt32Proto(c,h.expectedCount);_!==null&&(d.expectedCount=_)}return d}(this.serializer,e);const o=__PRIVATE_toListenRequestLabels(this.serializer,e);o&&(s.labels=o),this.a_(s)}R_(e){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.removeTarget=e,this.a_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(e,s,o,a){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=o,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Mo(e,__PRIVATE_toResourcePath(s,o),a,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new FirestoreError(D.UNKNOWN,c.toString())})}Lo(e,s,o,a,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Lo(e,__PRIVATE_toResourcePath(s,o),a,h,d,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new FirestoreError(D.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(__PRIVATE_logError(s),this.D_=!1):__PRIVATE_logDebug("OnlineStateTracker",s)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(e,s,o,a,c){this.localStore=e,this.datastore=s,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(h=>{o.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=__PRIVATE_debugCast(g);_.L_.add(4),await __PRIVATE_disableNetworkInternal(_),_.q_.set("Unknown"),_.L_.delete(4),await __PRIVATE_enableNetworkInternal(_)}(this))})}),this.q_=new __PRIVATE_OnlineStateTracker(o,a)}}async function __PRIVATE_enableNetworkInternal(i){if(__PRIVATE_canUseNetwork(i))for(const e of i.B_)await e(!0)}async function __PRIVATE_disableNetworkInternal(i){for(const e of i.B_)await e(!1)}function __PRIVATE_remoteStoreListen(i,e){const s=__PRIVATE_debugCast(i);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),__PRIVATE_shouldStartWatchStream(s)?__PRIVATE_startWatchStream(s):__PRIVATE_ensureWatchStream(s).r_()&&__PRIVATE_sendWatchRequest(s,e))}function __PRIVATE_remoteStoreUnlisten(i,e){const s=__PRIVATE_debugCast(i),o=__PRIVATE_ensureWatchStream(s);s.N_.delete(e),o.r_()&&__PRIVATE_sendUnwatchRequest(s,e),s.N_.size===0&&(o.r_()?o.o_():__PRIVATE_canUseNetwork(s)&&s.q_.set("Unknown"))}function __PRIVATE_sendWatchRequest(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}__PRIVATE_ensureWatchStream(i).A_(e)}function __PRIVATE_sendUnwatchRequest(i,e){i.Q_.xe(e),__PRIVATE_ensureWatchStream(i).R_(e)}function __PRIVATE_startWatchStream(i){i.Q_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(i).start(),i.q_.v_()}function __PRIVATE_shouldStartWatchStream(i){return __PRIVATE_canUseNetwork(i)&&!__PRIVATE_ensureWatchStream(i).n_()&&i.N_.size>0}function __PRIVATE_canUseNetwork(i){return __PRIVATE_debugCast(i).L_.size===0}function __PRIVATE_cleanUpWatchStreamState(i){i.Q_=void 0}async function __PRIVATE_onWatchStreamConnected(i){i.q_.set("Online")}async function __PRIVATE_onWatchStreamOpen(i){i.N_.forEach((e,s)=>{__PRIVATE_sendWatchRequest(i,e)})}async function __PRIVATE_onWatchStreamClose(i,e){__PRIVATE_cleanUpWatchStreamState(i),__PRIVATE_shouldStartWatchStream(i)?(i.q_.M_(e),__PRIVATE_startWatchStream(i)):i.q_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(i,e,s){if(i.q_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&e.state===2&&e.cause)try{await async function(a,c){const h=c.cause;for(const d of c.targetIds)a.N_.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.N_.delete(d),a.Q_.removeTarget(d))}(i,e)}catch(o){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await __PRIVATE_disableNetworkUntilRecovery(i,o)}else if(e instanceof __PRIVATE_DocumentWatchChange?i.Q_.Ke(e):e instanceof __PRIVATE_ExistenceFilterChange?i.Q_.He(e):i.Q_.We(e),!s.isEqual(SnapshotVersion.min()))try{const o=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(i.localStore);s.compareTo(o)>=0&&await function(c,h){const d=c.Q_.rt(h);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const $=c.N_.get(_);$&&c.N_.set(_,$.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,_)=>{const $=c.N_.get(g);if(!$)return;c.N_.set(g,$.withResumeToken(ByteString.EMPTY_BYTE_STRING,$.snapshotVersion)),__PRIVATE_sendUnwatchRequest(c,g);const nt=new TargetData($.target,g,_,$.sequenceNumber);__PRIVATE_sendWatchRequest(c,nt)}),c.remoteSyncer.applyRemoteEvent(d)}(i,s)}catch(o){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",o),await __PRIVATE_disableNetworkUntilRecovery(i,o)}}async function __PRIVATE_disableNetworkUntilRecovery(i,e,s){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;i.L_.add(1),await __PRIVATE_disableNetworkInternal(i),i.q_.set("Offline"),s||(s=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await s(),i.L_.delete(1),await __PRIVATE_enableNetworkInternal(i)})}async function __PRIVATE_remoteStoreHandleCredentialChange(i,e){const s=__PRIVATE_debugCast(i);s.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const o=__PRIVATE_canUseNetwork(s);s.L_.add(3),await __PRIVATE_disableNetworkInternal(s),o&&s.q_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),await __PRIVATE_enableNetworkInternal(s)}async function __PRIVATE_remoteStoreApplyPrimaryState(i,e){const s=__PRIVATE_debugCast(i);e?(s.L_.delete(2),await __PRIVATE_enableNetworkInternal(s)):e||(s.L_.add(2),await __PRIVATE_disableNetworkInternal(s),s.q_.set("Unknown"))}function __PRIVATE_ensureWatchStream(i){return i.K_||(i.K_=function(s,o,a){const c=__PRIVATE_debugCast(s);return c.w_(),new __PRIVATE_PersistentListenStream(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Eo:__PRIVATE_onWatchStreamConnected.bind(null,i),Ro:__PRIVATE_onWatchStreamOpen.bind(null,i),mo:__PRIVATE_onWatchStreamClose.bind(null,i),d_:__PRIVATE_onWatchStreamChange.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),__PRIVATE_shouldStartWatchStream(i)?__PRIVATE_startWatchStream(i):i.q_.set("Unknown")):(await i.K_.stop(),__PRIVATE_cleanUpWatchStreamState(i))})),i.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(e,s,o,a,c){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=o,this.op=a,this.removalCallback=c,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,s,o,a,c){const h=Date.now()+o,d=new DelayedOperation(e,s,h,a,c);return d.start(o),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(i,e){if(__PRIVATE_logError("AsyncQueue",`${e}: ${i}`),__PRIVATE_isIndexedDbTransactionError(i))return new FirestoreError(D.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(e){this.comparator=e?(s,o)=>e(s,o)||DocumentKey.comparator(s.key,o.key):(s,o)=>DocumentKey.comparator(s.key,o.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(e){return new DocumentSet(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,o)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof DocumentSet)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;s.hasNext();){const a=s.getNext().key,c=o.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const o=new DocumentSet;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=s,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.W_=new SortedMap(DocumentKey.comparator)}track(e){const s=e.doc.key,o=this.W_.get(s);o?e.type!==0&&o.type===3?this.W_=this.W_.insert(s,e):e.type===3&&o.type!==1?this.W_=this.W_.insert(s,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.W_=this.W_.remove(s):e.type===1&&o.type===2?this.W_=this.W_.insert(s,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):fail():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal((s,o)=>{e.push(o)}),e}}class ViewSnapshot{constructor(e,s,o,a,c,h,d,g,_){this.query=e,this.docs=s,this.oldDocs=o,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,s,o,a,c){const h=[];return s.forEach(d=>{h.push({type:0,doc:d})}),new ViewSnapshot(e,s,DocumentSet.emptySet(s),h,o,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,o=e.docChanges;if(s.length!==o.length)return!1;for(let a=0;a<s.length;a++)if(s[a].type!==o[a].type||!s[a].doc.isEqual(o[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=__PRIVATE_newQueriesObjectMap(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(s,o){const a=__PRIVATE_debugCast(s),c=a.queries;a.queries=__PRIVATE_newQueriesObjectMap(),c.forEach((h,d)=>{for(const g of d.j_)g.onError(o)})})(this,new FirestoreError(D.ABORTED,"Firestore shutting down"))}}function __PRIVATE_newQueriesObjectMap(){return new ObjectMap(i=>__PRIVATE_canonifyQuery(i),__PRIVATE_queryEquals)}async function __PRIVATE_eventManagerListen(i,e){const s=__PRIVATE_debugCast(i);let o=3;const a=e.query;let c=s.queries.get(a);c?!c.H_()&&e.J_()&&(o=2):(c=new __PRIVATE_QueryListenersInfo,o=e.J_()?0:1);try{switch(o){case 0:c.z_=await s.onListen(a,!0);break;case 1:c.z_=await s.onListen(a,!1);break;case 2:await s.onFirstRemoteStoreListen(a)}}catch(h){const d=__PRIVATE_wrapInUserErrorIfRecoverable(h,`Initialization of query '${__PRIVATE_stringifyQuery(e.query)}' failed`);return void e.onError(d)}s.queries.set(a,c),c.j_.push(e),e.Z_(s.onlineState),c.z_&&e.X_(c.z_)&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}async function __PRIVATE_eventManagerUnlisten(i,e){const s=__PRIVATE_debugCast(i),o=e.query;let a=3;const c=s.queries.get(o);if(c){const h=c.j_.indexOf(e);h>=0&&(c.j_.splice(h,1),c.j_.length===0?a=e.J_()?0:1:!c.H_()&&e.J_()&&(a=2))}switch(a){case 0:return s.queries.delete(o),s.onUnlisten(o,!0);case 1:return s.queries.delete(o),s.onUnlisten(o,!1);case 2:return s.onLastRemoteStoreUnlisten(o);default:return}}function __PRIVATE_eventManagerOnWatchChange(i,e){const s=__PRIVATE_debugCast(i);let o=!1;for(const a of e){const c=a.query,h=s.queries.get(c);if(h){for(const d of h.j_)d.X_(a)&&(o=!0);h.z_=a}}o&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}function __PRIVATE_eventManagerOnWatchError(i,e,s){const o=__PRIVATE_debugCast(i),a=o.queries.get(e);if(a)for(const c of a.j_)c.onError(s);o.queries.delete(e)}function __PRIVATE_raiseSnapshotsInSyncEvent(i){i.Y_.forEach(e=>{e.next()})}var pe,ye;(ye=pe||(pe={})).ea="default",ye.Cache="cache";class __PRIVATE_QueryListener{constructor(e,s,o){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const a of e.docChanges)a.type!==3&&o.push(a);e=new ViewSnapshot(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){if(!e.fromCache||!this.J_())return!0;const o=s!=="Offline";return(!this.options._a||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const s=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}oa(e){e=ViewSnapshot.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pe.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument{constructor(e){this.key=e}}class __PRIVATE_View{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Aa=__PRIVATE_newQueryComparator(e),this.Ra=new DocumentSet(this.Aa)}get Va(){return this.Ta}ma(e,s){const o=s?s.fa:new __PRIVATE_DocumentChangeSet,a=s?s.Ra:this.Ra;let c=s?s.mutatedKeys:this.mutatedKeys,h=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(($,nt)=>{const et=a.get($),rt=__PRIVATE_queryMatches(this.query,nt)?nt:null,lt=!!et&&this.mutatedKeys.has(et.key),ut=!!rt&&(rt.hasLocalMutations||this.mutatedKeys.has(rt.key)&&rt.hasCommittedMutations);let gt=!1;et&&rt?et.data.isEqual(rt.data)?lt!==ut&&(o.track({type:3,doc:rt}),gt=!0):this.ga(et,rt)||(o.track({type:2,doc:rt}),gt=!0,(g&&this.Aa(rt,g)>0||_&&this.Aa(rt,_)<0)&&(d=!0)):!et&&rt?(o.track({type:0,doc:rt}),gt=!0):et&&!rt&&(o.track({type:1,doc:et}),gt=!0,(g||_)&&(d=!0)),gt&&(rt?(h=h.add(rt),c=ut?c.add($):c.delete($)):(h=h.delete($),c=c.delete($)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const $=this.query.limitType==="F"?h.last():h.first();h=h.delete($.key),c=c.delete($.key),o.track({type:1,doc:$})}return{Ra:h,fa:o,ns:d,mutatedKeys:c}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,o,a){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort(($,nt)=>function(rt,lt){const ut=gt=>{switch(gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return ut(rt)-ut(lt)}($.type,nt.type)||this.Aa($.doc,nt.doc)),this.pa(o),a=a!=null&&a;const d=s&&!a?this.ya():[],g=this.da.size===0&&this.current&&!a?1:0,_=g!==this.Ea;return this.Ea=g,h.length!==0||_?{snapshot:new ViewSnapshot(this.query,e.Ra,c,h,e.mutatedKeys,g===0,_,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(s=>this.Ta=this.Ta.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ta=this.Ta.delete(s)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=__PRIVATE_documentKeySet(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const s=[];return e.forEach(o=>{this.da.has(o)||s.push(new __PRIVATE_RemovedLimboDocument(o))}),this.da.forEach(o=>{e.has(o)||s.push(new __PRIVATE_AddedLimboDocument(o))}),s}ba(e){this.Ta=e.Ts,this.da=__PRIVATE_documentKeySet();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(e,s,o){this.query=e,this.targetId=s,this.view=o}}class LimboResolution{constructor(e){this.key=e,this.va=!1}}class __PRIVATE_SyncEngineImpl{constructor(e,s,o,a,c,h){this.localStore=e,this.remoteStore=s,this.eventManager=o,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new ObjectMap(d=>__PRIVATE_canonifyQuery(d),__PRIVATE_queryEquals),this.Ma=new Map,this.xa=new Set,this.Oa=new SortedMap(DocumentKey.comparator),this.Na=new Map,this.La=new __PRIVATE_ReferenceSet,this.Ba={},this.ka=new Map,this.qa=__PRIVATE_TargetIdGenerator.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function __PRIVATE_syncEngineListen(i,e,s=!0){const o=__PRIVATE_ensureWatchCallbacks(i);let a;const c=o.Fa.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Da()):a=await __PRIVATE_allocateTargetAndMaybeListen(o,e,s,!0),a}async function __PRIVATE_triggerRemoteStoreListen(i,e){const s=__PRIVATE_ensureWatchCallbacks(i);await __PRIVATE_allocateTargetAndMaybeListen(s,e,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(i,e,s,o){const a=await __PRIVATE_localStoreAllocateTarget(i.localStore,__PRIVATE_queryToTarget(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,s);let d;return o&&(d=await __PRIVATE_initializeViewAndComputeSnapshot(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&s&&__PRIVATE_remoteStoreListen(i.remoteStore,a),d}async function __PRIVATE_initializeViewAndComputeSnapshot(i,e,s,o,a){i.Ka=(nt,et,rt)=>async function(ut,gt,at,st){let ot=gt.view.ma(at);ot.ns&&(ot=await __PRIVATE_localStoreExecuteQuery(ut.localStore,gt.query,!1).then(({documents:yt})=>gt.view.ma(yt,ot)));const ct=st&&st.targetChanges.get(gt.targetId),Pt=st&&st.targetMismatches.get(gt.targetId)!=null,At=gt.view.applyChanges(ot,ut.isPrimaryClient,ct,Pt);return __PRIVATE_updateTrackedLimbos(ut,gt.targetId,At.wa),At.snapshot}(i,nt,et,rt);const c=await __PRIVATE_localStoreExecuteQuery(i.localStore,e,!0),h=new __PRIVATE_View(e,c.Ts),d=h.ma(c.documents),g=TargetChange.createSynthesizedTargetChangeForCurrentChange(s,o&&i.onlineState!=="Offline",a),_=h.applyChanges(d,i.isPrimaryClient,g);__PRIVATE_updateTrackedLimbos(i,s,_.wa);const $=new __PRIVATE_QueryView(e,s,h);return i.Fa.set(e,$),i.Ma.has(s)?i.Ma.get(s).push(e):i.Ma.set(s,[e]),_.snapshot}async function __PRIVATE_syncEngineUnlisten(i,e,s){const o=__PRIVATE_debugCast(i),a=o.Fa.get(e),c=o.Ma.get(a.targetId);if(c.length>1)return o.Ma.set(a.targetId,c.filter(h=>!__PRIVATE_queryEquals(h,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(a.targetId),o.sharedClientState.isActiveQueryTarget(a.targetId)||await __PRIVATE_localStoreReleaseTarget(o.localStore,a.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(a.targetId),s&&__PRIVATE_remoteStoreUnlisten(o.remoteStore,a.targetId),__PRIVATE_removeAndCleanupTarget(o,a.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(o,a.targetId),await __PRIVATE_localStoreReleaseTarget(o.localStore,a.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(i,e){const s=__PRIVATE_debugCast(i),o=s.Fa.get(e),a=s.Ma.get(o.targetId);s.isPrimaryClient&&a.length===1&&(s.sharedClientState.removeLocalQueryTarget(o.targetId),__PRIVATE_remoteStoreUnlisten(s.remoteStore,o.targetId))}async function __PRIVATE_syncEngineApplyRemoteEvent(i,e){const s=__PRIVATE_debugCast(i);try{const o=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(s.localStore,e);e.targetChanges.forEach((a,c)=>{const h=s.Na.get(c);h&&(__PRIVATE_hardAssert(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.va=!0:a.modifiedDocuments.size>0?__PRIVATE_hardAssert(h.va):a.removedDocuments.size>0&&(__PRIVATE_hardAssert(h.va),h.va=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,o,e)}catch(o){await __PRIVATE_ignoreIfPrimaryLeaseLoss(o)}}function __PRIVATE_syncEngineApplyOnlineStateChange(i,e,s){const o=__PRIVATE_debugCast(i);if(o.isPrimaryClient&&s===0||!o.isPrimaryClient&&s===1){const a=[];o.Fa.forEach((c,h)=>{const d=h.view.Z_(e);d.snapshot&&a.push(d.snapshot)}),function(h,d){const g=__PRIVATE_debugCast(h);g.onlineState=d;let _=!1;g.queries.forEach(($,nt)=>{for(const et of nt.j_)et.Z_(d)&&(_=!0)}),_&&__PRIVATE_raiseSnapshotsInSyncEvent(g)}(o.eventManager,e),a.length&&o.Ca.d_(a),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function __PRIVATE_syncEngineRejectListen(i,e,s){const o=__PRIVATE_debugCast(i);o.sharedClientState.updateQueryState(e,"rejected",s);const a=o.Na.get(e),c=a&&a.key;if(c){let h=new SortedMap(DocumentKey.comparator);h=h.insert(c,MutableDocument.newNoDocument(c,SnapshotVersion.min()));const d=__PRIVATE_documentKeySet().add(c),g=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),h,d);await __PRIVATE_syncEngineApplyRemoteEvent(o,g),o.Oa=o.Oa.remove(c),o.Na.delete(e),__PRIVATE_pumpEnqueuedLimboResolutions(o)}else await __PRIVATE_localStoreReleaseTarget(o.localStore,e,!1).then(()=>__PRIVATE_removeAndCleanupTarget(o,e,s)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}function __PRIVATE_removeAndCleanupTarget(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Ma.get(e))i.Fa.delete(o),s&&i.Ca.$a(o,s);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(o=>{i.La.containsKey(o)||__PRIVATE_removeLimboTarget(i,o)})}function __PRIVATE_removeLimboTarget(i,e){i.xa.delete(e.path.canonicalString());const s=i.Oa.get(e);s!==null&&(__PRIVATE_remoteStoreUnlisten(i.remoteStore,s),i.Oa=i.Oa.remove(e),i.Na.delete(s),__PRIVATE_pumpEnqueuedLimboResolutions(i))}function __PRIVATE_updateTrackedLimbos(i,e,s){for(const o of s)o instanceof __PRIVATE_AddedLimboDocument?(i.La.addReference(o.key,e),__PRIVATE_trackLimboChange(i,o)):o instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+o.key),i.La.removeReference(o.key,e),i.La.containsKey(o.key)||__PRIVATE_removeLimboTarget(i,o.key)):fail()}function __PRIVATE_trackLimboChange(i,e){const s=e.key,o=s.path.canonicalString();i.Oa.get(s)||i.xa.has(o)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+s),i.xa.add(o),__PRIVATE_pumpEnqueuedLimboResolutions(i))}function __PRIVATE_pumpEnqueuedLimboResolutions(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const s=new DocumentKey(ResourcePath.fromString(e)),o=i.qa.next();i.Na.set(o,new LimboResolution(s)),i.Oa=i.Oa.insert(s,o),__PRIVATE_remoteStoreListen(i.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(s.path)),o,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(i,e,s){const o=__PRIVATE_debugCast(i),a=[],c=[],h=[];o.Fa.isEmpty()||(o.Fa.forEach((d,g)=>{h.push(o.Ka(g,e,s).then(_=>{var $;if((_||s)&&o.isPrimaryClient){const nt=_?!_.fromCache:($=s==null?void 0:s.targetChanges.get(g.targetId))===null||$===void 0?void 0:$.current;o.sharedClientState.updateQueryState(g.targetId,nt?"current":"not-current")}if(_){a.push(_);const nt=__PRIVATE_LocalViewChanges.Wi(g.targetId,_);c.push(nt)}}))}),await Promise.all(h),o.Ca.d_(a),await async function(g,_){const $=__PRIVATE_debugCast(g);try{await $.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>PersistencePromise.forEach(_,et=>PersistencePromise.forEach(et.$i,rt=>$.persistence.referenceDelegate.addReference(nt,et.targetId,rt)).next(()=>PersistencePromise.forEach(et.Ui,rt=>$.persistence.referenceDelegate.removeReference(nt,et.targetId,rt)))))}catch(nt){if(!__PRIVATE_isIndexedDbTransactionError(nt))throw nt;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of _){const et=nt.targetId;if(!nt.fromCache){const rt=$.os.get(et),lt=rt.snapshotVersion,ut=rt.withLastLimboFreeSnapshotVersion(lt);$.os=$.os.insert(et,ut)}}}(o.localStore,c))}async function __PRIVATE_syncEngineHandleCredentialChange(i,e){const s=__PRIVATE_debugCast(i);if(!s.currentUser.isEqual(e)){__PRIVATE_logDebug("SyncEngine","User change. New user:",e.toKey());const o=await __PRIVATE_localStoreHandleUserChange(s.localStore,e);s.currentUser=e,function(c,h){c.ka.forEach(d=>{d.forEach(g=>{g.reject(new FirestoreError(D.CANCELLED,h))})}),c.ka.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,o.hs)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(i,e){const s=__PRIVATE_debugCast(i),o=s.Na.get(e);if(o&&o.va)return __PRIVATE_documentKeySet().add(o.key);{let a=__PRIVATE_documentKeySet();const c=s.Ma.get(e);if(!c)return a;for(const h of c){const d=s.Fa.get(h);a=a.unionWith(d.view.Va)}return a}}function __PRIVATE_ensureWatchCallbacks(i){const e=__PRIVATE_debugCast(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,e),e.Ca.d_=__PRIVATE_eventManagerOnWatchChange.bind(null,e.eventManager),e.Ca.$a=__PRIVATE_eventManagerOnWatchError.bind(null,e.eventManager),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,s){return null}Ha(e,s){return null}za(e){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,e.initialUser,this.serializer)}Ga(e){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Zr,this.serializer)}Wa(e){return new __PRIVATE_MemorySharedClientState}async terminate(){var e,s;(e=this.gcScheduler)===null||e===void 0||e.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class OnlineComponentProvider{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(e){const s=__PRIVATE_newSerializer(e.databaseInfo.databaseId),o=function(c){return new __PRIVATE_WebChannelConnection(c)}(e.databaseInfo);return function(c,h,d,g){return new __PRIVATE_DatastoreImpl(c,h,d,g)}(e.authCredentials,e.appCheckCredentials,o,s)}createRemoteStore(e){return function(o,a,c,h,d){return new __PRIVATE_RemoteStoreImpl(o,a,c,h,d)}(this.localStore,this.datastore,e.asyncQueue,s=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,s,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(e,s){return function(a,c,h,d,g,_,$){const nt=new __PRIVATE_SyncEngineImpl(a,c,h,d,g,_);return $&&(nt.Qa=!0),nt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await async function(a){const c=__PRIVATE_debugCast(a);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await __PRIVATE_disableNetworkInternal(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):__PRIVATE_logError("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout(()=>{this.muted||e(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(e,s,o,a,c){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=o,this.databaseInfo=a,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async h=>{__PRIVATE_logDebug("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const o=__PRIVATE_wrapInUserErrorIfRecoverable(s,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function __PRIVATE_setOfflineComponentProvider(i,e){i.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let o=s.initialUser;i.setCredentialChangeListener(async a=>{o.isEqual(a)||(await __PRIVATE_localStoreHandleUserChange(e.localStore,a),o=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function __PRIVATE_setOnlineComponentProvider(i,e){i.asyncQueue.verifyOperationInProgress();const s=await __PRIVATE_ensureOfflineComponents(i);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener(o=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,o)),i.setAppCheckTokenChangeListener((o,a)=>__PRIVATE_remoteStoreHandleCredentialChange(e.remoteStore,a)),i._onlineComponents=e}async function __PRIVATE_ensureOfflineComponents(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!function(a){return a.name==="FirebaseError"?a.code===D.FAILED_PRECONDITION||a.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(s))throw s;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+s),await __PRIVATE_setOfflineComponentProvider(i,new __PRIVATE_MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(i,new __PRIVATE_MemoryOfflineComponentProvider);return i._offlineComponents}async function __PRIVATE_ensureOnlineComponents(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(i,i._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(i,new OnlineComponentProvider))),i._onlineComponents}async function __PRIVATE_getEventManager(i){const e=await __PRIVATE_ensureOnlineComponents(i),s=e.eventManager;return s.onListen=__PRIVATE_syncEngineListen.bind(null,e.syncEngine),s.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,e.syncEngine),s}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(i,e,s={}){const o=new __PRIVATE_Deferred;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,d,g,_){const $=new __PRIVATE_AsyncObserver({next:et=>{$.Za(),h.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(c,nt));const rt=et.docs.has(d);!rt&&et.fromCache?_.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):rt&&et.fromCache&&g&&g.source==="server"?_.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(et)},error:et=>_.reject(et)}),nt=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(d.path),$,{includeMetadataChanges:!0,_a:!0});return __PRIVATE_eventManagerListen(c,nt)}(await __PRIVATE_getEventManager(i),i.asyncQueue,e,s,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(i,e,s){if(!s)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function __PRIVATE_validateIsNotUsedTogether(i,e,s,o){if(e===!0&&o===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function __PRIVATE_validateDocumentPath(i){if(!DocumentKey.isDocumentKey(i))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function __PRIVATE_valueDescription(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":fail()}function __PRIVATE_cast(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=__PRIVATE_valueDescription(i);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(e){var s,o;if(e.host===void 0){if(e.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(s=e.ssl)===null||s===void 0||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,a){return o.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Firestore$1{constructor(e,s,o,a){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(o.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const o=we.get(s);o&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),we.delete(s),o.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(i,e,s,o={}){var a;const c=(i=__PRIVATE_cast(i,Firestore$1))._getSettings(),h=`${e}:${s}`;if(c.host!=="firestore.googleapis.com"&&c.host!==h&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),o.mockUserToken){let d,g;if(typeof o.mockUserToken=="string")d=o.mockUserToken,g=User.MOCK_USER;else{d=createMockUserToken(o.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=o.mockUserToken.sub||o.mockUserToken.user_id;if(!_)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new User(_)}i._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(e,s,o){this.converter=s,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Query(this.firestore,e,this._query)}}class DocumentReference{constructor(e,s,o){this.converter=s,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference(this.firestore,e,this._key)}}class CollectionReference extends Query{constructor(e,s,o){super(e,s,__PRIVATE_newQueryForPath(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(e))}withConverter(e){return new CollectionReference(this.firestore,e,this._path)}}function doc(i,e,...s){if(i=getModularInstance(i),arguments.length===1&&(e=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",e),i instanceof Firestore$1){const o=ResourcePath.fromString(e,...s);return __PRIVATE_validateDocumentPath(o),new DocumentReference(i,null,new DocumentKey(o))}{if(!(i instanceof DocumentReference||i instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ResourcePath.fromString(e,...s));return __PRIVATE_validateDocumentPath(o),new DocumentReference(i.firestore,i instanceof CollectionReference?i.converter:null,new DocumentKey(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.Vu=()=>{const o=getDocument();o&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const s=getDocument();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=getDocument();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const s=new __PRIVATE_Deferred;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError(e))throw e;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const s=this.mu.then(()=>(this.du=!0,e().catch(o=>{this.Eu=o,this.du=!1;const a=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(o);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",a),o}).then(o=>(this.du=!1,o))));return this.mu=s,s}enqueueAfterDelay(e,s,o){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const a=DelayedOperation.createAndSchedule(this,e,s,o,c=>this.yu(c));return this.Tu.push(a),a}fu(){this.Eu&&fail()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((s,o)=>s.targetTimeMs-o.targetTimeMs);for(const s of this.Tu)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}class Firestore extends Firestore$1{constructor(e,s,o,a){super(e,s,o,a),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(e),this._firestoreClient=void 0,await e}}}function getFirestore(i,e){const s=typeof i=="object"?i:getApp(),o=typeof i=="string"?i:"(default)",a=_getProvider(s,"firestore").getImmediate({identifier:o});if(!a._initialized){const c=getDefaultEmulatorHostnameAndPort("firestore");c&&connectFirestoreEmulator(a,...c)}return a}function ensureFirestoreConfigured(i){if(i._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||__PRIVATE_configureFirestore(i),i._firestoreClient}function __PRIVATE_configureFirestore(i){var e,s,o;const a=i._freezeSettings(),c=function(d,g,_,$){return new DatabaseInfo(d,g,_,$.host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions($.experimentalLongPollingOptions),$.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((s=a.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((o=a.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new FirestoreClient(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes(ByteString.fromBase64String(e))}catch(s){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Bytes(ByteString.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator(this._lat,e._lat)||__PRIVATE_primitiveComparator(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VectorValue{constructor(e){this._values=(e||[]).map(s=>s)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,a){if(o.length!==a.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==a[c])return!1;return!0}(this._values,e._values)}}const De=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(i,e,s){if(e.search(De)>=0)throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new FieldPath(...e.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function __PRIVATE_createError(i,e,s,o,a){let c=`Function ${e}() called with invalid data`;c+=". ";let h="";return new FirestoreError(D.INVALID_ARGUMENT,c+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(e,s,o,a,c){this._firestore=e,this._userDataWriter=s,this._key=o,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(i,e){return typeof e=="string"?__PRIVATE_fieldPathFromDotSeparatedString(i,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}class AbstractUserDataWriter{convertValue(e,s="none"){switch(__PRIVATE_typeOrder(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw fail()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const o={};return forEach(e,(a,c)=>{o[a]=this.convertValue(c,s)}),o}convertVectorValue(e){var s,o,a;const c=(a=(o=(s=e.fields)===null||s===void 0?void 0:s.value.arrayValue)===null||o===void 0?void 0:o.values)===null||a===void 0?void 0:a.map(h=>__PRIVATE_normalizeNumber(h.doubleValue));return new VectorValue(c)}convertGeoPoint(e){return new GeoPoint(__PRIVATE_normalizeNumber(e.latitude),__PRIVATE_normalizeNumber(e.longitude))}convertArray(e,s){return(e.values||[]).map(o=>this.convertValue(o,s))}convertServerTimestamp(e,s){switch(s){case"previous":const o=__PRIVATE_getPreviousValue(e);return o==null?null:this.convertValue(o,s);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(e));default:return null}}convertTimestamp(e){const s=__PRIVATE_normalizeTimestamp(e);return new Timestamp(s.seconds,s.nanos)}convertDocumentKey(e,s){const o=ResourcePath.fromString(e);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(o));const a=new DatabaseId(o.get(1),o.get(3)),c=new DocumentKey(o.popFirst(5));return a.isEqual(s)||__PRIVATE_logError(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(e,s,o,a,c,h){super(e,s,o,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const o=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,s.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(i){i=__PRIVATE_cast(i,DocumentReference);const e=__PRIVATE_cast(i.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(e),i._key).then(s=>__PRIVATE_convertToDocSnapshot(e,i,s))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference(this.firestore,null,s)}}function __PRIVATE_convertToDocSnapshot(i,e,s){const o=s.docs.get(e._key),a=new __PRIVATE_ExpUserDataWriter(i);return new DocumentSnapshot(i,a,e._key,o,new SnapshotMetadata(s.hasPendingWrites,s.fromCache),e.converter)}(function i(e,s=!0){(function(a){S=a})(SDK_VERSION),_registerComponent(new Component$1("firestore",(o,{instanceIdentifier:a,options:c})=>{const h=o.getProvider("app").getImmediate(),d=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(o.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(o.getProvider("app-check-internal")),function(_,$){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(_.options.projectId,$)}(h,a),h);return c=Object.assign({useFetchStreams:s},c),d._setSettings(c),d},"PUBLIC").setMultipleInstances(!0)),registerVersion(w,"4.7.3",e),registerVersion(w,"4.7.3","esm2017")})();var Component={},toggleSelection=function(){var i=document.getSelection();if(!i.rangeCount)return function(){};for(var e=document.activeElement,s=[],o=0;o<i.rangeCount;o++)s.push(i.getRangeAt(o));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return i.removeAllRanges(),function(){i.type==="Caret"&&i.removeAllRanges(),i.rangeCount||s.forEach(function(a){i.addRange(a)}),e&&e.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(i){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return i.replace(/#{\s*key\s*}/g,e)}function copy(i,e){var s,o,a,c,h,d,g=!1;e||(e={}),s=e.debug||!1;try{a=deselectCurrent(),c=document.createRange(),h=document.getSelection(),d=document.createElement("span"),d.textContent=i,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function($){if($.stopPropagation(),e.format)if($.preventDefault(),typeof $.clipboardData>"u"){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var nt=clipboardToIE11Formatting[e.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(nt,i)}else $.clipboardData.clearData(),$.clipboardData.setData(e.format,i);e.onCopy&&($.preventDefault(),e.onCopy($.clipboardData))}),document.body.appendChild(d),c.selectNodeContents(d),h.addRange(c);var _=document.execCommand("copy");if(!_)throw new Error("copy command was unsuccessful");g=!0}catch($){s&&console.error("unable to copy using execCommand: ",$),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",i),e.onCopy&&e.onCopy(window.clipboardData),g=!0}catch(nt){s&&console.error("unable to copy using clipboardData: ",nt),s&&console.error("falling back to prompt"),o=format("message"in e?e.message:defaultMessage),window.prompt(o,i)}}finally{h&&(typeof h.removeRange=="function"?h.removeRange(c):h.removeAllRanges()),d&&document.body.removeChild(d),a()}return g}var copyToClipboard=copy;function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(i)}Object.defineProperty(Component,"__esModule",{value:!0});Component.CopyToClipboard=void 0;var _react=_interopRequireDefault(reactExports),_copyToClipboard=_interopRequireDefault(copyToClipboard),_excluded=["text","onCopy","options","children"];function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function ownKeys(i,e){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),s.push.apply(s,o)}return s}function _objectSpread(i){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach(function(o){_defineProperty(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}function _objectWithoutProperties(i,e){if(i==null)return{};var s=_objectWithoutPropertiesLoose(i,e),o,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(a=0;a<c.length;a++)o=c[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(s[o]=i[o])}return s}function _objectWithoutPropertiesLoose(i,e){if(i==null)return{};var s={},o=Object.keys(i),a,c;for(c=0;c<o.length;c++)a=o[c],!(e.indexOf(a)>=0)&&(s[a]=i[a]);return s}function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass(i,e,s){return e&&_defineProperties(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function _inherits(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&_setPrototypeOf(i,e)}function _setPrototypeOf(i,e){return _setPrototypeOf=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},_setPrototypeOf(i,e)}function _createSuper(i){var e=_isNativeReflectConstruct();return function(){var o=_getPrototypeOf(i),a;if(e){var c=_getPrototypeOf(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(i,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(i)}function _defineProperty(i,e,s){return e in i?Object.defineProperty(i,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[e]=s,i}var CopyToClipboard$2=function(i){_inherits(s,i);var e=_createSuper(s);function s(){var o;_classCallCheck(this,s);for(var a=arguments.length,c=new Array(a),h=0;h<a;h++)c[h]=arguments[h];return o=e.call.apply(e,[this].concat(c)),_defineProperty(_assertThisInitialized(o),"onClick",function(d){var g=o.props,_=g.text,$=g.onCopy,nt=g.children,et=g.options,rt=_react.default.Children.only(nt),lt=(0,_copyToClipboard.default)(_,et);$&&$(_,lt),rt&&rt.props&&typeof rt.props.onClick=="function"&&rt.props.onClick(d)}),o}return _createClass(s,[{key:"render",value:function(){var a=this.props;a.text,a.onCopy,a.options;var c=a.children,h=_objectWithoutProperties(a,_excluded),d=_react.default.Children.only(c);return _react.default.cloneElement(d,_objectSpread(_objectSpread({},h),{},{onClick:this.onClick}))}}]),s}(_react.default.PureComponent);Component.CopyToClipboard=CopyToClipboard$2;_defineProperty(CopyToClipboard$2,"defaultProps",{onCopy:void 0,options:void 0});var _require=Component,CopyToClipboard=_require.CopyToClipboard;CopyToClipboard.CopyToClipboard=CopyToClipboard;var lib=CopyToClipboard;const CopyToClipboard$1=getDefaultExportFromCjs(lib);var dist={},rive={exports:{}};(function(i,e){(function(o,a){i.exports=a()})(commonjsGlobal$2,()=>(()=>{var s=[,(h,d,g)=>{g.r(d),g.d(d,{default:()=>$});var _=(()=>{var nt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(et={}){var rt=et,lt,ut;rt.ready=new Promise((tt,it)=>{lt=tt,ut=it});function gt(){function tt(Nt){const zt=Tt;ft=it=0,Tt=new Map,zt.forEach(qt=>{try{qt(Nt)}catch($t){console.error($t)}}),this.ob(),Vt&&Vt.Tb()}let it=0,ft=0,Tt=new Map,Vt=null,Dt=null;this.requestAnimationFrame=function(Nt){it||(it=requestAnimationFrame(tt.bind(this)));const zt=++ft;return Tt.set(zt,Nt),zt},this.cancelAnimationFrame=function(Nt){Tt.delete(Nt),it&&Tt.size==0&&(cancelAnimationFrame(it),it=0)},this.Rb=function(Nt){Dt&&(document.body.remove(Dt),Dt=null),Nt||(Dt=document.createElement("div"),Dt.style.backgroundColor="black",Dt.style.position="fixed",Dt.style.right=0,Dt.style.top=0,Dt.style.color="white",Dt.style.padding="4px",Dt.innerHTML="RIVE FPS",Nt=function(zt){Dt.innerHTML="RIVE FPS "+zt.toFixed(1)},document.body.appendChild(Dt)),Vt=new function(){let zt=0,qt=0;this.Tb=function(){var $t=performance.now();qt?(++zt,$t-=qt,1e3<$t&&(Nt(1e3*zt/$t),zt=qt=0)):(qt=$t,zt=0)}}},this.Ob=function(){Dt&&(document.body.remove(Dt),Dt=null),Vt=null},this.ob=function(){}}function at(tt){console.assert(!0);const it=new Map;let ft=-1/0;this.push=function(Tt){return Tt=Tt+((1<<tt)-1)>>tt,it.has(Tt)&&clearTimeout(it.get(Tt)),it.set(Tt,setTimeout(function(){it.delete(Tt),it.length==0?ft=-1/0:Tt==ft&&(ft=Math.max(...it.keys()),console.assert(ft<Tt))},1e3)),ft=Math.max(Tt,ft),ft<<tt}}const st=rt.onRuntimeInitialized;rt.onRuntimeInitialized=function(){st&&st();let tt=rt.decodeAudio;rt.decodeAudio=function(Tt,Vt){Tt=tt(Tt),Vt(Tt)};let it=rt.decodeFont;rt.decodeFont=function(Tt,Vt){Tt=it(Tt),Vt(Tt)};const ft=rt.FileAssetLoader;rt.ptrToAsset=Tt=>{let Vt=rt.ptrToFileAsset(Tt);return Vt.isImage?rt.ptrToImageAsset(Tt):Vt.isFont?rt.ptrToFontAsset(Tt):Vt.isAudio?rt.ptrToAudioAsset(Tt):Vt},rt.CustomFileAssetLoader=ft.extend("CustomFileAssetLoader",{__construct:function({loadContents:Tt}){this.__parent.__construct.call(this),this.Gb=Tt},loadContents:function(Tt,Vt){return Tt=rt.ptrToAsset(Tt),this.Gb(Tt,Vt)}}),rt.CDNFileAssetLoader=ft.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(Tt){let Vt=rt.ptrToAsset(Tt);return Tt=Vt.cdnUuid,Tt===""?!1:(function(Dt,Nt){var zt=new XMLHttpRequest;zt.responseType="arraybuffer",zt.onreadystatechange=function(){zt.readyState==4&&zt.status==200&&Nt(zt)},zt.open("GET",Dt,!0),zt.send(null)}(Vt.cdnBaseUrl+"/"+Tt,Dt=>{Vt.decode(new Uint8Array(Dt.response))}),!0)}}),rt.FallbackFileAssetLoader=ft.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.kb=[]},addLoader:function(Tt){this.kb.push(Tt)},loadContents:function(Tt,Vt){for(let Dt of this.kb)if(Dt.loadContents(Tt,Vt))return!0;return!1}})};const ot="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),ct=new function(){function tt(){if(!it){let gr=function(_r,or,$r){if(or=er.createShader(or),er.shaderSource(or,$r),er.compileShader(or),$r=er.getShaderInfoLog(or),0<($r||"").length)throw $r;er.attachShader(_r,or)};var Bt=document.createElement("canvas"),rr={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let er;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(er=Bt.getContext("webgl",rr),ft=1,!er)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(er=Bt.getContext("webgl2",rr))ft=2;else if(er=Bt.getContext("webgl",rr))ft=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(er=new Proxy(er,{get(_r,or){if(_r.isContextLost()){if(qt||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",or),qt=!0),typeof _r[or]=="function")return function(){}}else return typeof _r[or]=="function"?function(...$r){return _r[or].apply(_r,$r)}:_r[or]},set(_r,or,$r){if(_r.isContextLost())qt||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+or),qt=!0);else return _r[or]=$r,!0}}),Tt=Math.min(er.getParameter(er.MAX_RENDERBUFFER_SIZE),er.getParameter(er.MAX_TEXTURE_SIZE)),Bt=er.createProgram(),gr(Bt,er.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),gr(Bt,er.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),er.bindAttribLocation(Bt,0,"vertex"),er.bindAttribLocation(Bt,1,"uv"),er.linkProgram(Bt),rr=er.getProgramInfoLog(Bt),0<(rr||"").trim().length)throw rr;Vt=er.getUniformLocation(Bt,"mat"),Dt=er.getUniformLocation(Bt,"translate"),er.useProgram(Bt),er.bindBuffer(er.ARRAY_BUFFER,er.createBuffer()),er.enableVertexAttribArray(0),er.enableVertexAttribArray(1),er.bindBuffer(er.ELEMENT_ARRAY_BUFFER,er.createBuffer()),er.uniform1i(er.getUniformLocation(Bt,"image"),0),er.pixelStorei(er.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),it=er}return!0}let it=null,ft=0,Tt=0,Vt=null,Dt=null,Nt=0,zt=0,qt=!1;tt(),this.hc=function(){return tt(),Tt},this.Mb=function(Bt){it.deleteTexture&&it.deleteTexture(Bt)},this.Lb=function(Bt){if(!tt())return null;const rr=it.createTexture();return rr?(it.bindTexture(it.TEXTURE_2D,rr),it.texImage2D(it.TEXTURE_2D,0,it.RGBA,it.RGBA,it.UNSIGNED_BYTE,Bt),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_S,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_WRAP_T,it.CLAMP_TO_EDGE),it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MAG_FILTER,it.LINEAR),ft==2?(it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MIN_FILTER,it.LINEAR_MIPMAP_LINEAR),it.generateMipmap(it.TEXTURE_2D)):it.texParameteri(it.TEXTURE_2D,it.TEXTURE_MIN_FILTER,it.LINEAR),rr):null};const $t=new at(8),nr=new at(8),sr=new at(10),ur=new at(10);this.Qb=function(Bt,rr,er,gr,_r){if(tt()){var or=$t.push(Bt),$r=nr.push(rr);if(it.canvas){(it.canvas.width!=or||it.canvas.height!=$r)&&(it.canvas.width=or,it.canvas.height=$r),it.viewport(0,$r-rr,Bt,rr),it.disable(it.SCISSOR_TEST),it.clearColor(0,0,0,0),it.clear(it.COLOR_BUFFER_BIT),it.enable(it.SCISSOR_TEST),er.sort((wr,Mn)=>Mn.wb-wr.wb),or=sr.push(gr),Nt!=or&&(it.bufferData(it.ARRAY_BUFFER,8*or,it.DYNAMIC_DRAW),Nt=or),or=0;for(var Jr of er)it.bufferSubData(it.ARRAY_BUFFER,or,Jr.Ta),or+=4*Jr.Ta.length;console.assert(or==4*gr);for(var kn of er)it.bufferSubData(it.ARRAY_BUFFER,or,kn.Db),or+=4*kn.Db.length;console.assert(or==8*gr),or=ur.push(_r),zt!=or&&(it.bufferData(it.ELEMENT_ARRAY_BUFFER,2*or,it.DYNAMIC_DRAW),zt=or),Jr=0;for(var fs of er)it.bufferSubData(it.ELEMENT_ARRAY_BUFFER,Jr,fs.indices),Jr+=2*fs.indices.length;console.assert(Jr==2*_r),fs=0,kn=!0,or=Jr=0;for(const wr of er){wr.image.Ka!=fs&&(it.bindTexture(it.TEXTURE_2D,wr.image.Ja||null),fs=wr.image.Ka),wr.mc?(it.scissor(wr.Ya,$r-wr.Za-wr.jb,wr.Ac,wr.jb),kn=!0):kn&&(it.scissor(0,$r-rr,Bt,rr),kn=!1),er=2/Bt;const Mn=-2/rr;it.uniform4f(Vt,wr.ha[0]*er*wr.Ba,wr.ha[1]*Mn*wr.Ca,wr.ha[2]*er*wr.Ba,wr.ha[3]*Mn*wr.Ca),it.uniform2f(Dt,wr.ha[4]*er*wr.Ba+er*(wr.Ya-wr.ic*wr.Ba)-1,wr.ha[5]*Mn*wr.Ca+Mn*(wr.Za-wr.jc*wr.Ca)+1),it.vertexAttribPointer(0,2,it.FLOAT,!1,0,or),it.vertexAttribPointer(1,2,it.FLOAT,!1,0,or+4*gr),it.drawElements(it.TRIANGLES,wr.indices.length,it.UNSIGNED_SHORT,Jr),or+=4*wr.Ta.length,Jr+=2*wr.indices.length}console.assert(or==4*gr),console.assert(Jr==2*_r)}}},this.canvas=function(){return tt()&&it.canvas}},Pt=rt.onRuntimeInitialized;rt.onRuntimeInitialized=function(){function tt(Jt){switch(Jt){case $t.srcOver:return"source-over";case $t.screen:return"screen";case $t.overlay:return"overlay";case $t.darken:return"darken";case $t.lighten:return"lighten";case $t.colorDodge:return"color-dodge";case $t.colorBurn:return"color-burn";case $t.hardLight:return"hard-light";case $t.softLight:return"soft-light";case $t.difference:return"difference";case $t.exclusion:return"exclusion";case $t.multiply:return"multiply";case $t.hue:return"hue";case $t.saturation:return"saturation";case $t.color:return"color";case $t.luminosity:return"luminosity"}}function it(Jt){return"rgba("+((16711680&Jt)>>>16)+","+((65280&Jt)>>>8)+","+((255&Jt)>>>0)+","+((4278190080&Jt)>>>24)/255+")"}function ft(){0<$r.length&&(ct.Qb(or.drawWidth(),or.drawHeight(),$r,Jr,kn),$r=[],kn=Jr=0,or.reset(512,512));for(const Jt of _r){for(const cr of Jt.H)cr();Jt.H=[]}_r.clear()}Pt&&Pt();var Tt=rt.RenderPaintStyle;const Vt=rt.RenderPath,Dt=rt.RenderPaint,Nt=rt.Renderer,zt=rt.StrokeCap,qt=rt.StrokeJoin,$t=rt.BlendMode,nr=Tt.fill,sr=Tt.stroke,ur=rt.FillRule.evenOdd;let Bt=1;var rr=rt.RenderImage.extend("CanvasRenderImage",{__construct:function({la:Jt,xa:cr}={}){this.__parent.__construct.call(this),this.Ka=Bt,Bt=Bt+1&2147483647||1,this.la=Jt,this.xa=cr},__destruct:function(){this.Ja&&(ct.Mb(this.Ja),URL.revokeObjectURL(this.Wa)),this.__parent.__destruct.call(this)},decode:function(Jt){var cr=this;cr.xa&&cr.xa(cr);var Cr=new Image;cr.Wa=URL.createObjectURL(new Blob([Jt],{type:"image/png"})),Cr.onload=function(){cr.Fb=Cr,cr.Ja=ct.Lb(Cr),cr.size(Cr.width,Cr.height),cr.la&&cr.la(cr)},Cr.src=cr.Wa}}),er=Vt.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Jt,cr,Cr,Ir,yr,Rr,xr){var Mr=this.T,mn=Mr.addPath;Jt=Jt.T;const Xr=new DOMMatrix;Xr.a=cr,Xr.b=Cr,Xr.c=Ir,Xr.d=yr,Xr.e=Rr,Xr.f=xr,mn.call(Mr,Jt,Xr)},fillRule:function(Jt){this.Va=Jt},moveTo:function(Jt,cr){this.T.moveTo(Jt,cr)},lineTo:function(Jt,cr){this.T.lineTo(Jt,cr)},cubicTo:function(Jt,cr,Cr,Ir,yr,Rr){this.T.bezierCurveTo(Jt,cr,Cr,Ir,yr,Rr)},close:function(){this.T.closePath()}}),gr=Dt.extend("CanvasRenderPaint",{color:function(Jt){this.Xa=it(Jt)},thickness:function(Jt){this.Ib=Jt},join:function(Jt){switch(Jt){case qt.miter:this.Ia="miter";break;case qt.round:this.Ia="round";break;case qt.bevel:this.Ia="bevel"}},cap:function(Jt){switch(Jt){case zt.butt:this.Ha="butt";break;case zt.round:this.Ha="round";break;case zt.square:this.Ha="square"}},style:function(Jt){this.Hb=Jt},blendMode:function(Jt){this.Eb=tt(Jt)},clearGradient:function(){this.ja=null},linearGradient:function(Jt,cr,Cr,Ir){this.ja={yb:Jt,zb:cr,bb:Cr,cb:Ir,Ra:[]}},radialGradient:function(Jt,cr,Cr,Ir){this.ja={yb:Jt,zb:cr,bb:Cr,cb:Ir,Ra:[],ec:!0}},addStop:function(Jt,cr){this.ja.Ra.push({color:Jt,stop:cr})},completeGradient:function(){},draw:function(Jt,cr,Cr){let Ir=this.Hb;var yr=this.Xa,Rr=this.ja;if(Jt.globalCompositeOperation=this.Eb,Rr!=null){yr=Rr.yb;var xr=Rr.zb;const mn=Rr.bb;var Mr=Rr.cb;const Xr=Rr.Ra;Rr.ec?(Rr=mn-yr,Mr-=xr,yr=Jt.createRadialGradient(yr,xr,0,yr,xr,Math.sqrt(Rr*Rr+Mr*Mr))):yr=Jt.createLinearGradient(yr,xr,mn,Mr);for(let Dn=0,Zr=Xr.length;Dn<Zr;Dn++)xr=Xr[Dn],yr.addColorStop(xr.stop,it(xr.color));this.Xa=yr,this.ja=null}switch(Ir){case sr:Jt.strokeStyle=yr,Jt.lineWidth=this.Ib,Jt.lineCap=this.Ha,Jt.lineJoin=this.Ia,Jt.stroke(cr);break;case nr:Jt.fillStyle=yr,Jt.fill(cr,Cr)}}});const _r=new Set;let or=null,$r=[],Jr=0,kn=0;var fs=rt.CanvasRenderer=Nt.extend("Renderer",{__construct:function(Jt){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=Jt.getContext("2d"),this.Ua=Jt,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const Jt=this.S.length-6;if(6>Jt)throw"restore() called without matching save().";this.S.splice(Jt),this.H.push(this.C.restore.bind(this.C))},transform:function(Jt,cr,Cr,Ir,yr,Rr){const xr=this.S,Mr=xr.length-6;xr.splice(Mr,6,xr[Mr]*Jt+xr[Mr+2]*cr,xr[Mr+1]*Jt+xr[Mr+3]*cr,xr[Mr]*Cr+xr[Mr+2]*Ir,xr[Mr+1]*Cr+xr[Mr+3]*Ir,xr[Mr]*yr+xr[Mr+2]*Rr+xr[Mr+4],xr[Mr+1]*yr+xr[Mr+3]*Rr+xr[Mr+5]),this.H.push(this.C.transform.bind(this.C,Jt,cr,Cr,Ir,yr,Rr))},rotate:function(Jt){const cr=Math.sin(Jt);Jt=Math.cos(Jt),this.transform(Jt,cr,-cr,Jt,0,0)},_drawPath:function(Jt,cr){this.H.push(cr.draw.bind(cr,this.C,Jt.T,Jt.Va===ur?"evenodd":"nonzero"))},_drawRiveImage:function(Jt,cr,Cr){var Ir=Jt.Fb;if(Ir){var yr=this.C,Rr=tt(cr);this.H.push(function(){yr.globalCompositeOperation=Rr,yr.globalAlpha=Cr,yr.drawImage(Ir,0,0),yr.globalAlpha=1})}},_getMatrix:function(Jt){const cr=this.S,Cr=cr.length-6;for(let Ir=0;6>Ir;++Ir)Jt[Ir]=cr[Cr+Ir]},_drawImageMesh:function(Jt,cr,Cr,Ir,yr,Rr,xr,Mr,mn,Xr){var Dn=this.C.canvas.width,Zr=this.C.canvas.height;const Oo=mn-xr,No=Xr-Mr;xr=Math.max(xr,0),Mr=Math.max(Mr,0),mn=Math.min(mn,Dn),Xr=Math.min(Xr,Zr);const no=mn-xr,io=Xr-Mr;if(console.assert(no<=Math.min(Oo,Dn)),console.assert(io<=Math.min(No,Zr)),!(0>=no||0>=io)){mn=no<Oo||io<No,Dn=Xr=1;var ds=Math.ceil(no*Xr),ps=Math.ceil(io*Dn);Zr=ct.hc(),ds>Zr&&(Xr*=Zr/ds,ds=Zr),ps>Zr&&(Dn*=Zr/ps,ps=Zr),or||(or=new rt.DynamicRectanizer(Zr),or.reset(512,512)),Zr=or.addRect(ds,ps),0>Zr&&(ft(),_r.add(this),Zr=or.addRect(ds,ps),console.assert(0<=Zr));var Bo=Zr&65535,jo=Zr>>16;$r.push({ha:this.S.slice(this.S.length-6),image:Jt,Ya:Bo,Za:jo,ic:xr,jc:Mr,Ac:ds,jb:ps,Ba:Xr,Ca:Dn,Ta:new Float32Array(Ir),Db:new Float32Array(yr),indices:new Uint16Array(Rr),mc:mn,wb:Jt.Ka<<1|(mn?1:0)}),Jr+=Ir.length,kn+=Rr.length;var ks=this.C,zo=tt(cr);this.H.push(function(){ks.save(),ks.resetTransform(),ks.globalCompositeOperation=zo,ks.globalAlpha=Cr;const $o=ct.canvas();$o&&ks.drawImage($o,Bo,jo,ds,ps,xr,Mr,no,io),ks.restore()})}},_clipPath:function(Jt){this.H.push(this.C.clip.bind(this.C,Jt.T,Jt.Va===ur?"evenodd":"nonzero"))},clear:function(){_r.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Ua.width,this.Ua.height))},flush:function(){},translate:function(Jt,cr){this.transform(1,0,0,1,Jt,cr)}});rt.makeRenderer=function(Jt){const cr=new fs(Jt),Cr=cr.C;return new Proxy(cr,{get(Ir,yr){if(typeof Ir[yr]=="function")return function(...Rr){return Ir[yr].apply(Ir,Rr)};if(typeof Cr[yr]=="function"){if(-1<ot.indexOf(yr))throw Error("RiveException: Method call to '"+yr+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Rr){cr.H.push(Cr[yr].bind(Cr,...Rr))}}return Ir[yr]},set(Ir,yr,Rr){if(yr in Cr)return cr.H.push(()=>{Cr[yr]=Rr}),!0}})},rt.decodeImage=function(Jt,cr){new rr({la:cr}).decode(Jt)},rt.renderFactory={makeRenderPaint:function(){return new gr},makeRenderPath:function(){return new er},makeRenderImage:function(){let Jt=Mn;return new rr({xa:()=>{Jt.total++},la:()=>{if(Jt.loaded++,Jt.loaded===Jt.total){const cr=Jt.ready;cr&&(cr(),Jt.ready=null)}}})}};let wr=rt.load,Mn=null;rt.load=function(Jt,cr,Cr=!0){const Ir=new rt.FallbackFileAssetLoader;return cr!==void 0&&Ir.addLoader(cr),Cr&&(cr=new rt.CDNFileAssetLoader,Ir.addLoader(cr)),new Promise(function(yr){let Rr=null;Mn={total:0,loaded:0,ready:function(){yr(Rr)}},Rr=wr(Jt,Ir),Mn.total==0&&yr(Rr)})},Tt=new gt,rt.requestAnimationFrame=Tt.requestAnimationFrame.bind(Tt),rt.cancelAnimationFrame=Tt.cancelAnimationFrame.bind(Tt),rt.enableFPSCounter=Tt.Rb.bind(Tt),rt.disableFPSCounter=Tt.Ob,Tt.ob=ft,rt.resolveAnimationFrame=ft,rt.cleanup=function(){or&&or.delete()}};var At=Object.assign({},rt),yt="./this.program",pt=typeof window=="object",_t=typeof importScripts=="function",St="",xt,It;(pt||_t)&&(_t?St=self.location.href:typeof document<"u"&&document.currentScript&&(St=document.currentScript.src),nt&&(St=nt),St.indexOf("blob:")!==0?St=St.substr(0,St.replace(/[?#].*/,"").lastIndexOf("/")+1):St="",_t&&(It=tt=>{var it=new XMLHttpRequest;return it.open("GET",tt,!1),it.responseType="arraybuffer",it.send(null),new Uint8Array(it.response)}),xt=(tt,it,ft)=>{var Tt=new XMLHttpRequest;Tt.open("GET",tt,!0),Tt.responseType="arraybuffer",Tt.onload=()=>{Tt.status==200||Tt.status==0&&Tt.response?it(Tt.response):ft()},Tt.onerror=ft,Tt.send(null)});var wt=rt.print||console.log.bind(console),Wt=rt.printErr||console.error.bind(console);Object.assign(rt,At),At=null,rt.thisProgram&&(yt=rt.thisProgram);var Ut;rt.wasmBinary&&(Ut=rt.wasmBinary),rt.noExitRuntime,typeof WebAssembly!="object"&&pr("no native wasm support detected");var Ct,kt,dt=!1,vt,Ft,Lt,Yt,Qt,tr,Mt,mt;function Rt(){var tt=Ct.buffer;rt.HEAP8=vt=new Int8Array(tt),rt.HEAP16=Lt=new Int16Array(tt),rt.HEAP32=Qt=new Int32Array(tt),rt.HEAPU8=Ft=new Uint8Array(tt),rt.HEAPU16=Yt=new Uint16Array(tt),rt.HEAPU32=tr=new Uint32Array(tt),rt.HEAPF32=Mt=new Float32Array(tt),rt.HEAPF64=mt=new Float64Array(tt)}var Ot,Gt=[],Kt=[],Xt=[];function ar(){var tt=rt.preRun.shift();Gt.unshift(tt)}var hr=0,Zt=null;function pr(tt){throw rt.onAbort&&rt.onAbort(tt),tt="Aborted("+tt+")",Wt(tt),dt=!0,tt=new WebAssembly.RuntimeError(tt+". Build with -sASSERTIONS for more info."),ut(tt),tt}function br(tt){return tt.startsWith("data:application/octet-stream;base64,")}var Tr;if(Tr="canvas_advanced.wasm",!br(Tr)){var Sr=Tr;Tr=rt.locateFile?rt.locateFile(Sr,St):St+Sr}function zr(tt){if(tt==Tr&&Ut)return new Uint8Array(Ut);if(It)return It(tt);throw"both async and sync fetching of the wasm failed"}function Or(tt){if(!Ut&&(pt||_t)){if(typeof fetch=="function"&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then(it=>{if(!it.ok)throw"failed to load wasm binary file at '"+tt+"'";return it.arrayBuffer()}).catch(()=>zr(tt));if(xt)return new Promise((it,ft)=>{xt(tt,Tt=>it(new Uint8Array(Tt)),ft)})}return Promise.resolve().then(()=>zr(tt))}function Dr(tt,it,ft){return Or(tt).then(Tt=>WebAssembly.instantiate(Tt,it)).then(Tt=>Tt).then(ft,Tt=>{Wt("failed to asynchronously prepare wasm: "+Tt),pr(Tt)})}function Br(tt,it){var ft=Tr;return Ut||typeof WebAssembly.instantiateStreaming!="function"||br(ft)||ft.startsWith("file://")||typeof fetch!="function"?Dr(ft,tt,it):fetch(ft,{credentials:"same-origin"}).then(Tt=>WebAssembly.instantiateStreaming(Tt,tt).then(it,function(Vt){return Wt("wasm streaming compile failed: "+Vt),Wt("falling back to ArrayBuffer instantiation"),Dr(ft,tt,it)}))}var Pr,Er,kr={437756:(tt,it,ft,Tt,Vt)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=tt,window.h.I.capture=it,window.h.I.La=ft,window.h.ga={},window.h.ga.stopped=Tt,window.h.ga.xb=Vt;let Dt=window.h;Dt.D=[],Dt.yc=function(Nt){for(var zt=0;zt<Dt.D.length;++zt)if(Dt.D[zt]==null)return Dt.D[zt]=Nt,zt;return Dt.D.push(Nt),Dt.D.length-1},Dt.Cb=function(Nt){for(Dt.D[Nt]=null;0<Dt.D.length&&Dt.D[Dt.D.length-1]==null;)Dt.D.pop()},Dt.Sc=function(Nt){for(var zt=0;zt<Dt.D.length;++zt)if(Dt.D[zt]==Nt)return Dt.Cb(zt)},Dt.ra=function(Nt){return Dt.D[Nt]},Dt.Bb=["touchend","click"],Dt.unlock=function(){for(var Nt=0;Nt<Dt.D.length;++Nt){var zt=Dt.D[Nt];zt!=null&&zt.J!=null&&zt.state===Dt.ga.xb&&zt.J.resume().then(()=>{hs(zt.pb)},qt=>{console.error("Failed to resume audiocontext",qt)})}Dt.Bb.map(function(qt){document.removeEventListener(qt,Dt.unlock,!0)})},Dt.Bb.map(function(Nt){document.addEventListener(Nt,Dt.unlock,!0)})}return window.h.Aa+=1,1},439934:()=>{typeof window.h<"u"&&(--window.h.Aa,window.h.Aa===0&&delete window.h)},440098:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,440202:()=>{try{var tt=new(window.AudioContext||window.webkitAudioContext),it=tt.sampleRate;return tt.close(),it}catch{return 0}},440373:(tt,it,ft,Tt,Vt,Dt)=>{if(typeof window.h>"u")return-1;var Nt={},zt={};return tt==window.h.I.ya&&ft!=0&&(zt.sampleRate=ft),Nt.J=new(window.AudioContext||window.webkitAudioContext)(zt),Nt.J.suspend(),Nt.state=window.h.ga.stopped,ft=0,tt!=window.h.I.ya&&(ft=it),Nt.Z=Nt.J.createScriptProcessor(Tt,ft,it),Nt.Z.onaudioprocess=function(qt){if((Nt.sa==null||Nt.sa.length==0)&&(Nt.sa=new Float32Array(Mt.buffer,Vt,Tt*it)),tt==window.h.I.capture||tt==window.h.I.La){for(var $t=0;$t<it;$t+=1)for(var nr=qt.inputBuffer.getChannelData($t),sr=Nt.sa,ur=0;ur<Tt;ur+=1)sr[ur*it+$t]=nr[ur];Vs(Dt,Tt,Vt)}if(tt==window.h.I.ya||tt==window.h.I.La)for(Mo(Dt,Tt,Vt),$t=0;$t<qt.outputBuffer.numberOfChannels;++$t)for(nr=qt.outputBuffer.getChannelData($t),sr=Nt.sa,ur=0;ur<Tt;ur+=1)nr[ur]=sr[ur*it+$t];else for($t=0;$t<qt.outputBuffer.numberOfChannels;++$t)qt.outputBuffer.getChannelData($t).fill(0)},tt!=window.h.I.capture&&tt!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(qt){Nt.Da=Nt.J.createMediaStreamSource(qt),Nt.Da.connect(Nt.Z),Nt.Z.connect(Nt.J.destination)}).catch(function(qt){console.log("Failed to get user media: "+qt)}),tt==window.h.I.ya&&Nt.Z.connect(Nt.J.destination),Nt.pb=Dt,window.h.yc(Nt)},443250:tt=>window.h.ra(tt).J.sampleRate,443323:tt=>{tt=window.h.ra(tt),tt.Z!==void 0&&(tt.Z.onaudioprocess=function(){},tt.Z.disconnect(),tt.Z=void 0),tt.Da!==void 0&&(tt.Da.disconnect(),tt.Da=void 0),tt.J.close(),tt.J=void 0,tt.pb=void 0},443723:tt=>{window.h.Cb(tt)},443773:tt=>{tt=window.h.ra(tt),tt.J.resume(),tt.state=window.h.ga.xb},443912:tt=>{tt=window.h.ra(tt),tt.J.suspend(),tt.state=window.h.ga.stopped}},dr=tt=>{for(;0<tt.length;)tt.shift()(rt)},vr=(tt,it)=>{for(var ft=0,Tt=tt.length-1;0<=Tt;Tt--){var Vt=tt[Tt];Vt==="."?tt.splice(Tt,1):Vt===".."?(tt.splice(Tt,1),ft++):ft&&(tt.splice(Tt,1),ft--)}if(it)for(;ft;ft--)tt.unshift("..");return tt},Vr=tt=>{var it=tt.charAt(0)==="/",ft=tt.substr(-1)==="/";return(tt=vr(tt.split("/").filter(Tt=>!!Tt),!it).join("/"))||it||(tt="."),tt&&ft&&(tt+="/"),(it?"/":"")+tt},gn=tt=>{var it=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(tt).slice(1);return tt=it[0],it=it[1],!tt&&!it?".":(it&&(it=it.substr(0,it.length-1)),tt+it)},An=tt=>{if(tt==="/")return"/";tt=Vr(tt),tt=tt.replace(/\/$/,"");var it=tt.lastIndexOf("/");return it===-1?tt:tt.substr(it+1)},Vo=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return tt=>crypto.getRandomValues(tt);pr("initRandomDevice")},Kn=tt=>(Kn=Vo())(tt);function ts(){for(var tt="",it=!1,ft=arguments.length-1;-1<=ft&&!it;ft--){if(it=0<=ft?arguments[ft]:"/",typeof it!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!it)return"";tt=it+"/"+tt,it=it.charAt(0)==="/"}return tt=vr(tt.split("/").filter(Tt=>!!Tt),!it).join("/"),(it?"/":"")+tt||"."}var Ms=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,cn=(tt,it,ft)=>{var Tt=it+ft;for(ft=it;tt[ft]&&!(ft>=Tt);)++ft;if(16<ft-it&&tt.buffer&&Ms)return Ms.decode(tt.subarray(it,ft));for(Tt="";it<ft;){var Vt=tt[it++];if(Vt&128){var Dt=tt[it++]&63;if((Vt&224)==192)Tt+=String.fromCharCode((Vt&31)<<6|Dt);else{var Nt=tt[it++]&63;Vt=(Vt&240)==224?(Vt&15)<<12|Dt<<6|Nt:(Vt&7)<<18|Dt<<12|Nt<<6|tt[it++]&63,65536>Vt?Tt+=String.fromCharCode(Vt):(Vt-=65536,Tt+=String.fromCharCode(55296|Vt>>10,56320|Vt&1023))}}else Tt+=String.fromCharCode(Vt)}return Tt},Ds=[],so=tt=>{for(var it=0,ft=0;ft<tt.length;++ft){var Tt=tt.charCodeAt(ft);127>=Tt?it++:2047>=Tt?it+=2:55296<=Tt&&57343>=Tt?(it+=4,++ft):it+=3}return it},gs=(tt,it,ft,Tt)=>{if(!(0<Tt))return 0;var Vt=ft;Tt=ft+Tt-1;for(var Dt=0;Dt<tt.length;++Dt){var Nt=tt.charCodeAt(Dt);if(55296<=Nt&&57343>=Nt){var zt=tt.charCodeAt(++Dt);Nt=65536+((Nt&1023)<<10)|zt&1023}if(127>=Nt){if(ft>=Tt)break;it[ft++]=Nt}else{if(2047>=Nt){if(ft+1>=Tt)break;it[ft++]=192|Nt>>6}else{if(65535>=Nt){if(ft+2>=Tt)break;it[ft++]=224|Nt>>12}else{if(ft+3>=Tt)break;it[ft++]=240|Nt>>18,it[ft++]=128|Nt>>12&63}it[ft++]=128|Nt>>6&63}it[ft++]=128|Nt&63}}return it[ft]=0,ft-Vt};function Fs(tt,it){var ft=Array(so(tt)+1);return tt=gs(tt,ft,0,ft.length),it&&(ft.length=tt),ft}var Ls=[];function qn(tt,it){Ls[tt]={input:[],F:[],V:it},_s(tt,Os)}var Os={open:function(tt){var it=Ls[tt.node.za];if(!it)throw new lr(43);tt.s=it,tt.seekable=!1},close:function(tt){tt.s.V.qa(tt.s)},qa:function(tt){tt.s.V.qa(tt.s)},read:function(tt,it,ft,Tt){if(!tt.s||!tt.s.V.ib)throw new lr(60);for(var Vt=0,Dt=0;Dt<Tt;Dt++){try{var Nt=tt.s.V.ib(tt.s)}catch{throw new lr(29)}if(Nt===void 0&&Vt===0)throw new lr(6);if(Nt==null)break;Vt++,it[ft+Dt]=Nt}return Vt&&(tt.node.timestamp=Date.now()),Vt},write:function(tt,it,ft,Tt){if(!tt.s||!tt.s.V.Oa)throw new lr(60);try{for(var Vt=0;Vt<Tt;Vt++)tt.s.V.Oa(tt.s,it[ft+Vt])}catch{throw new lr(29)}return Tt&&(tt.node.timestamp=Date.now()),Vt}},Ns={ib:function(){e:{if(!Ds.length){var tt=null;if(typeof window<"u"&&typeof window.prompt=="function"?(tt=window.prompt("Input: "),tt!==null&&(tt+=`
`)):typeof readline=="function"&&(tt=readline(),tt!==null&&(tt+=`
`)),!tt){tt=null;break e}Ds=Fs(tt,!0)}tt=Ds.shift()}return tt},Oa:function(tt,it){it===null||it===10?(wt(cn(tt.F,0)),tt.F=[]):it!=0&&tt.F.push(it)},qa:function(tt){tt.F&&0<tt.F.length&&(wt(cn(tt.F,0)),tt.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Fn={Oa:function(tt,it){it===null||it===10?(Wt(cn(tt.F,0)),tt.F=[]):it!=0&&tt.F.push(it)},qa:function(tt){tt.F&&0<tt.F.length&&(Wt(cn(tt.F,0)),tt.F=[])}};function Bs(tt,it){var ft=tt.j?tt.j.length:0;ft>=it||(it=Math.max(it,ft*(1048576>ft?2:1.125)>>>0),ft!=0&&(it=Math.max(it,256)),ft=tt.j,tt.j=new Uint8Array(it),0<tt.v&&tt.j.set(ft.subarray(0,tt.v),0))}var mr={O:null,U(){return mr.createNode(null,"/",16895,0)},createNode(tt,it,ft,Tt){if((ft&61440)===24576||(ft&61440)===4096)throw new lr(63);return mr.O||(mr.O={dir:{node:{Y:mr.l.Y,P:mr.l.P,ka:mr.l.ka,va:mr.l.va,ub:mr.l.ub,Ab:mr.l.Ab,vb:mr.l.vb,sb:mr.l.sb,Ea:mr.l.Ea},stream:{ba:mr.m.ba}},file:{node:{Y:mr.l.Y,P:mr.l.P},stream:{ba:mr.m.ba,read:mr.m.read,write:mr.m.write,pa:mr.m.pa,lb:mr.m.lb,nb:mr.m.nb}},link:{node:{Y:mr.l.Y,P:mr.l.P,ma:mr.l.ma},stream:{}},$a:{node:{Y:mr.l.Y,P:mr.l.P},stream:Us}}),ft=zs(tt,it,ft,Tt),(ft.mode&61440)===16384?(ft.l=mr.O.dir.node,ft.m=mr.O.dir.stream,ft.j={}):(ft.mode&61440)===32768?(ft.l=mr.O.file.node,ft.m=mr.O.file.stream,ft.v=0,ft.j=null):(ft.mode&61440)===40960?(ft.l=mr.O.link.node,ft.m=mr.O.link.stream):(ft.mode&61440)===8192&&(ft.l=mr.O.$a.node,ft.m=mr.O.$a.stream),ft.timestamp=Date.now(),tt&&(tt.j[it]=ft,tt.timestamp=ft.timestamp),ft},Kc(tt){return tt.j?tt.j.subarray?tt.j.subarray(0,tt.v):new Uint8Array(tt.j):new Uint8Array(0)},l:{Y(tt){var it={};return it.Jc=(tt.mode&61440)===8192?tt.id:1,it.Mc=tt.id,it.mode=tt.mode,it.Oc=1,it.uid=0,it.Lc=0,it.za=tt.za,(tt.mode&61440)===16384?it.size=4096:(tt.mode&61440)===32768?it.size=tt.v:(tt.mode&61440)===40960?it.size=tt.link.length:it.size=0,it.Bc=new Date(tt.timestamp),it.Nc=new Date(tt.timestamp),it.Ic=new Date(tt.timestamp),it.Jb=4096,it.Cc=Math.ceil(it.size/it.Jb),it},P(tt,it){if(it.mode!==void 0&&(tt.mode=it.mode),it.timestamp!==void 0&&(tt.timestamp=it.timestamp),it.size!==void 0&&(it=it.size,tt.v!=it))if(it==0)tt.j=null,tt.v=0;else{var ft=tt.j;tt.j=new Uint8Array(it),ft&&tt.j.set(ft.subarray(0,Math.min(it,tt.v))),tt.v=it}},ka(){throw $s[44]},va(tt,it,ft,Tt){return mr.createNode(tt,it,ft,Tt)},ub(tt,it,ft){if((tt.mode&61440)===16384){try{var Tt=On(it,ft)}catch{}if(Tt)for(var Vt in Tt.j)throw new lr(55)}delete tt.parent.j[tt.name],tt.parent.timestamp=Date.now(),tt.name=ft,it.j[ft]=tt,it.timestamp=tt.parent.timestamp,tt.parent=it},Ab(tt,it){delete tt.j[it],tt.timestamp=Date.now()},vb(tt,it){var ft=On(tt,it),Tt;for(Tt in ft.j)throw new lr(55);delete tt.j[it],tt.timestamp=Date.now()},sb(tt){var it=[".",".."],ft;for(ft in tt.j)tt.j.hasOwnProperty(ft)&&it.push(ft);return it},Ea(tt,it,ft){return tt=mr.createNode(tt,it,41471,0),tt.link=ft,tt},ma(tt){if((tt.mode&61440)!==40960)throw new lr(28);return tt.link}},m:{read(tt,it,ft,Tt,Vt){var Dt=tt.node.j;if(Vt>=tt.node.v)return 0;if(tt=Math.min(tt.node.v-Vt,Tt),8<tt&&Dt.subarray)it.set(Dt.subarray(Vt,Vt+tt),ft);else for(Tt=0;Tt<tt;Tt++)it[ft+Tt]=Dt[Vt+Tt];return tt},write(tt,it,ft,Tt,Vt,Dt){if(it.buffer===vt.buffer&&(Dt=!1),!Tt)return 0;if(tt=tt.node,tt.timestamp=Date.now(),it.subarray&&(!tt.j||tt.j.subarray)){if(Dt)return tt.j=it.subarray(ft,ft+Tt),tt.v=Tt;if(tt.v===0&&Vt===0)return tt.j=it.slice(ft,ft+Tt),tt.v=Tt;if(Vt+Tt<=tt.v)return tt.j.set(it.subarray(ft,ft+Tt),Vt),Tt}if(Bs(tt,Vt+Tt),tt.j.subarray&&it.subarray)tt.j.set(it.subarray(ft,ft+Tt),Vt);else for(Dt=0;Dt<Tt;Dt++)tt.j[Vt+Dt]=it[ft+Dt];return tt.v=Math.max(tt.v,Vt+Tt),Tt},ba(tt,it,ft){if(ft===1?it+=tt.position:ft===2&&(tt.node.mode&61440)===32768&&(it+=tt.node.v),0>it)throw new lr(28);return it},pa(tt,it,ft){Bs(tt.node,it+ft),tt.node.v=Math.max(tt.node.v,it+ft)},lb(tt,it,ft,Tt,Vt){if((tt.node.mode&61440)!==32768)throw new lr(43);if(tt=tt.node.j,Vt&2||tt.buffer!==vt.buffer){if((0<ft||ft+it<tt.length)&&(tt.subarray?tt=tt.subarray(ft,ft+it):tt=Array.prototype.slice.call(tt,ft,ft+it)),ft=!0,pr(),it=void 0,!it)throw new lr(48);vt.set(tt,it)}else ft=!1,it=tt.byteOffset;return{o:it,M:ft}},nb(tt,it,ft,Tt){return mr.m.write(tt,it,0,Tt,ft,!1),0}}};function oo(tt,it){var ft=0;return tt&&(ft|=365),it&&(ft|=146),ft}var Ln=null,js={},Wr=[],ao=1,vn=null,Yn=!0,lr=null,$s={},on=(tt,it={})=>{if(tt=ts(tt),!tt)return{path:"",node:null};if(it=Object.assign({gb:!0,Qa:0},it),8<it.Qa)throw new lr(32);tt=tt.split("/").filter(Nt=>!!Nt);for(var ft=Ln,Tt="/",Vt=0;Vt<tt.length;Vt++){var Dt=Vt===tt.length-1;if(Dt&&it.parent)break;if(ft=On(ft,tt[Vt]),Tt=Vr(Tt+"/"+tt[Vt]),ft.wa&&(!Dt||Dt&&it.gb)&&(ft=ft.wa.root),!Dt||it.fb){for(Dt=0;(ft.mode&61440)===40960;)if(ft=Hs(Tt),Tt=ts(gn(Tt),ft),ft=on(Tt,{Qa:it.Qa+1}).node,40<Dt++)throw new lr(32)}}return{path:Tt,node:ft}},lo=tt=>{for(var it;;){if(tt===tt.parent)return tt=tt.U.mb,it?tt[tt.length-1]!=="/"?`${tt}/${it}`:tt+it:tt;it=it?`${tt.name}/${it}`:tt.name,tt=tt.parent}},uo=(tt,it)=>{for(var ft=0,Tt=0;Tt<it.length;Tt++)ft=(ft<<5)-ft+it.charCodeAt(Tt)|0;return(tt+ft>>>0)%vn.length},On=(tt,it)=>{var ft;if(ft=(ft=Nn(tt,"x"))?ft:tt.l.ka?0:2)throw new lr(ft,tt);for(ft=vn[uo(tt.id,it)];ft;ft=ft.lc){var Tt=ft.name;if(ft.parent.id===tt.id&&Tt===it)return ft}return tt.l.ka(tt,it)},zs=(tt,it,ft,Tt)=>(tt=new Kr(tt,it,ft,Tt),it=uo(tt.parent.id,tt.name),tt.lc=vn[it],vn[it]=tt),vs=tt=>{var it=["r","w","rw"][tt&3];return tt&512&&(it+="w"),it},Nn=(tt,it)=>{if(Yn)return 0;if(!it.includes("r")||tt.mode&292){if(it.includes("w")&&!(tt.mode&146)||it.includes("x")&&!(tt.mode&73))return 2}else return 2;return 0},yn=(tt,it)=>{try{return On(tt,it),20}catch{}return Nn(tt,"wx")},co=()=>{for(var tt=0;4096>=tt;tt++)if(!Wr[tt])return tt;throw new lr(33)},_n=tt=>{if(tt=Wr[tt],!tt)throw new lr(8);return tt},ys=(tt,it=-1)=>(jn||(jn=function(){this.h={}},jn.prototype={},Object.defineProperties(jn.prototype,{object:{get(){return this.node},set(ft){this.node=ft}},flags:{get(){return this.h.flags},set(ft){this.h.flags=ft}},position:{get(){return this.h.position},set(ft){this.h.position=ft}}})),tt=Object.assign(new jn,tt),it==-1&&(it=co()),tt.X=it,Wr[it]=tt),Us={open:tt=>{tt.m=js[tt.node.za].m,tt.m.open&&tt.m.open(tt)},ba:()=>{throw new lr(70)}},_s=(tt,it)=>{js[tt]={m:it}},Gs=(tt,it)=>{var ft=it==="/",Tt=!it;if(ft&&Ln)throw new lr(10);if(!ft&&!Tt){var Vt=on(it,{gb:!1});if(it=Vt.path,Vt=Vt.node,Vt.wa)throw new lr(10);if((Vt.mode&61440)!==16384)throw new lr(54)}it={type:tt,Qc:{},mb:it,kc:[]},tt=tt.U(it),tt.U=it,it.root=tt,ft?Ln=tt:Vt&&(Vt.wa=it,Vt.U&&Vt.U.kc.push(it))},un=(tt,it,ft)=>{var Tt=on(tt,{parent:!0}).node;if(tt=An(tt),!tt||tt==="."||tt==="..")throw new lr(28);var Vt=yn(Tt,tt);if(Vt)throw new lr(Vt);if(!Tt.l.va)throw new lr(63);return Tt.l.va(Tt,tt,it,ft)},Bn=(tt,it,ft)=>{typeof ft>"u"&&(ft=it,it=438),un(tt,it|8192,ft)},Es=(tt,it)=>{if(!ts(tt))throw new lr(44);var ft=on(it,{parent:!0}).node;if(!ft)throw new lr(44);it=An(it);var Tt=yn(ft,it);if(Tt)throw new lr(Tt);if(!ft.l.Ea)throw new lr(63);ft.l.Ea(ft,it,tt)},Hs=tt=>{if(tt=on(tt).node,!tt)throw new lr(44);if(!tt.l.ma)throw new lr(28);return ts(lo(tt.parent),tt.l.ma(tt))},Sn=(tt,it,ft)=>{if(tt==="")throw new lr(44);if(typeof it=="string"){var Tt={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[it];if(typeof Tt>"u")throw Error(`Unknown file open mode: ${it}`);it=Tt}if(ft=it&64?(typeof ft>"u"?438:ft)&4095|32768:0,typeof tt=="object")var Vt=tt;else{tt=Vr(tt);try{Vt=on(tt,{fb:!(it&131072)}).node}catch{}}if(Tt=!1,it&64)if(Vt){if(it&128)throw new lr(20)}else Vt=un(tt,ft,0),Tt=!0;if(!Vt)throw new lr(44);if((Vt.mode&61440)===8192&&(it&=-513),it&65536&&(Vt.mode&61440)!==16384)throw new lr(54);if(!Tt&&(ft=Vt?(Vt.mode&61440)===40960?32:(Vt.mode&61440)===16384&&(vs(it)!=="r"||it&512)?31:Nn(Vt,vs(it)):44))throw new lr(ft);if(it&512&&!Tt){if(ft=Vt,ft=typeof ft=="string"?on(ft,{fb:!0}).node:ft,!ft.l.P)throw new lr(63);if((ft.mode&61440)===16384)throw new lr(31);if((ft.mode&61440)!==32768)throw new lr(28);if(Tt=Nn(ft,"w"))throw new lr(Tt);ft.l.P(ft,{size:0,timestamp:Date.now()})}return it&=-131713,Vt=ys({node:Vt,path:lo(Vt),flags:it,seekable:!0,position:0,m:Vt.m,zc:[],error:!1}),Vt.m.open&&Vt.m.open(Vt),!rt.logReadFiles||it&1||(Qn||(Qn={}),tt in Qn||(Qn[tt]=1)),Vt},wn=(tt,it,ft)=>{if(tt.X===null)throw new lr(8);if(!tt.seekable||!tt.m.ba)throw new lr(70);if(ft!=0&&ft!=1&&ft!=2)throw new lr(28);tt.position=tt.m.ba(tt,it,ft),tt.zc=[]},Ts=()=>{lr||(lr=function(tt,it){this.name="ErrnoError",this.node=it,this.pc=function(ft){this.aa=ft},this.pc(tt),this.message="FS error"},lr.prototype=Error(),lr.prototype.constructor=lr,[44].forEach(tt=>{$s[tt]=new lr(tt),$s[tt].stack="<generic error, no stack>"}))},ho,Xn=(tt,it,ft)=>{tt=Vr("/dev/"+tt);var Tt=oo(!!it,!!ft);Ps||(Ps=64);var Vt=Ps++<<8|0;_s(Vt,{open:Dt=>{Dt.seekable=!1},close:()=>{ft&&ft.buffer&&ft.buffer.length&&ft(10)},read:(Dt,Nt,zt,qt)=>{for(var $t=0,nr=0;nr<qt;nr++){try{var sr=it()}catch{throw new lr(29)}if(sr===void 0&&$t===0)throw new lr(6);if(sr==null)break;$t++,Nt[zt+nr]=sr}return $t&&(Dt.node.timestamp=Date.now()),$t},write:(Dt,Nt,zt,qt)=>{for(var $t=0;$t<qt;$t++)try{ft(Nt[zt+$t])}catch{throw new lr(29)}return qt&&(Dt.node.timestamp=Date.now()),$t}}),Bn(tt,Tt,Vt)},Ps,Cn={},jn,Qn,Zn=void 0;function hn(){return Zn+=4,Qt[Zn-4>>2]}function fo(tt){if(tt===void 0)return"_unknown";tt=tt.replace(/[^a-zA-Z0-9_]/g,"$");var it=tt.charCodeAt(0);return 48<=it&&57>=it?`_${tt}`:tt}function As(tt,it){return tt=fo(tt),{[tt]:function(){return it.apply(this,arguments)}}[tt]}function Ws(){this.M=[void 0],this.hb=[]}var tn=new Ws,Jn=void 0;function fr(tt){throw new Jn(tt)}var Ur=tt=>(tt||fr("Cannot use deleted val. handle = "+tt),tn.get(tt).value),rn=tt=>{switch(tt){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return tn.pa({tb:1,value:tt})}};function rs(tt){var it=Error,ft=As(tt,function(Tt){this.name=tt,this.message=Tt,Tt=Error(Tt).stack,Tt!==void 0&&(this.stack=this.toString()+`
`+Tt.replace(/^Error(:[^\n]*)?\n/,""))});return ft.prototype=Object.create(it.prototype),ft.prototype.constructor=ft,ft.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},ft}var Ks=void 0,Lr=void 0;function Nr(tt){for(var it="";Ft[tt];)it+=Lr[Ft[tt++]];return it}var En=[];function $n(){for(;En.length;){var tt=En.pop();tt.g.fa=!1,tt.delete()}}var ns=void 0,fn={};function qs(tt,it){for(it===void 0&&fr("ptr should not be undefined");tt.A;)it=tt.na(it),tt=tt.A;return it}var zn={};function po(tt){tt=Fo(tt);var it=Nr(tt);return en(tt),it}function is(tt,it){var ft=zn[tt];return ft===void 0&&fr(it+" has unknown type "+po(tt)),ft}function In(){}var dn=!1;function Ys(tt){--tt.count.value,tt.count.value===0&&(tt.G?tt.L.W(tt.G):tt.u.i.W(tt.o))}function Xs(tt,it,ft){return it===ft?tt:ft.A===void 0?null:(tt=Xs(tt,it,ft.A),tt===null?null:ft.Pb(tt))}var Qs={};function _i(tt,it){return it=qs(tt,it),fn[it]}var mo=void 0;function Ss(tt){throw new mo(tt)}function ws(tt,it){return it.u&&it.o||Ss("makeClassHandle requires ptr and ptrType"),!!it.L!=!!it.G&&Ss("Both smartPtrType and smartPtr must be specified"),it.count={value:1},nn(Object.create(tt,{g:{value:it}}))}function nn(tt){return typeof FinalizationRegistry>"u"?(nn=it=>it,tt):(dn=new FinalizationRegistry(it=>{Ys(it.g)}),nn=it=>{var ft=it.g;return ft.G&&dn.register(it,{g:ft},it),it},In=it=>{dn.unregister(it)},nn(tt))}var Cs={};function ss(tt){for(;tt.length;){var it=tt.pop();tt.pop()(it)}}function Rn(tt){return this.fromWireType(Qt[tt>>2])}var Tn={},os={};function qr(tt,it,ft){function Tt(zt){zt=ft(zt),zt.length!==tt.length&&Ss("Mismatched type converter count");for(var qt=0;qt<tt.length;++qt)an(tt[qt],zt[qt])}tt.forEach(function(zt){os[zt]=it});var Vt=Array(it.length),Dt=[],Nt=0;it.forEach((zt,qt)=>{zn.hasOwnProperty(zt)?Vt[qt]=zn[zt]:(Dt.push(zt),Tn.hasOwnProperty(zt)||(Tn[zt]=[]),Tn[zt].push(()=>{Vt[qt]=zn[zt],++Nt,Nt===Dt.length&&Tt(Vt)}))}),Dt.length===0&&Tt(Vt)}function xn(tt){switch(tt){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${tt}`)}}function go(tt,it,ft={}){var Tt=it.name;if(tt||fr(`type "${Tt}" must have a positive integer typeid pointer`),zn.hasOwnProperty(tt)){if(ft.$b)return;fr(`Cannot register type '${Tt}' twice`)}zn[tt]=it,delete os[tt],Tn.hasOwnProperty(tt)&&(it=Tn[tt],delete Tn[tt],it.forEach(Vt=>Vt()))}function an(tt,it,ft={}){if(!("argPackAdvance"in it))throw new TypeError("registerType registeredInstance requires argPackAdvance");go(tt,it,ft)}function jr(tt){fr(tt.g.u.i.name+" instance already deleted")}function bn(){}function Zs(tt,it,ft){if(tt[it].B===void 0){var Tt=tt[it];tt[it]=function(){return tt[it].B.hasOwnProperty(arguments.length)||fr(`Function '${ft}' called with an invalid number of arguments (${arguments.length}) - expects one of (${tt[it].B})!`),tt[it].B[arguments.length].apply(this,arguments)},tt[it].B=[],tt[it].B[Tt.ea]=Tt}}function Is(tt,it,ft){rt.hasOwnProperty(tt)?((ft===void 0||rt[tt].B!==void 0&&rt[tt].B[ft]!==void 0)&&fr(`Cannot register public name '${tt}' twice`),Zs(rt,tt,tt),rt.hasOwnProperty(ft)&&fr(`Cannot register multiple overloads of a function with the same number of arguments (${ft})!`),rt[tt].B[ft]=it):(rt[tt]=it,ft!==void 0&&(rt[tt].Pc=ft))}function vo(tt,it,ft,Tt,Vt,Dt,Nt,zt){this.name=tt,this.constructor=it,this.N=ft,this.W=Tt,this.A=Vt,this.Ub=Dt,this.na=Nt,this.Pb=zt,this.qb=[]}function as(tt,it,ft){for(;it!==ft;)it.na||fr(`Expected null or instance of ${ft.name}, got an instance of ${it.name}`),tt=it.na(tt),it=it.A;return tt}function Rs(tt,it){return it===null?(this.Na&&fr(`null is not a valid ${this.name}`),0):(it.g||fr(`Cannot pass "${us(it)}" as a ${this.name}`),it.g.o||fr(`Cannot pass deleted object as a pointer of type ${this.name}`),as(it.g.o,it.g.u.i,this.i))}function yo(tt,it){if(it===null){if(this.Na&&fr(`null is not a valid ${this.name}`),this.ua){var ft=this.Pa();return tt!==null&&tt.push(this.W,ft),ft}return 0}if(it.g||fr(`Cannot pass "${us(it)}" as a ${this.name}`),it.g.o||fr(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&it.g.u.ta&&fr(`Cannot convert argument of type ${it.g.L?it.g.L.name:it.g.u.name} to parameter type ${this.name}`),ft=as(it.g.o,it.g.u.i,this.i),this.ua)switch(it.g.G===void 0&&fr("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:it.g.L===this?ft=it.g.G:fr(`Cannot convert argument of type ${it.g.L?it.g.L.name:it.g.u.name} to parameter type ${this.name}`);break;case 1:ft=it.g.G;break;case 2:if(it.g.L===this)ft=it.g.G;else{var Tt=it.clone();ft=this.oc(ft,rn(function(){Tt.delete()})),tt!==null&&tt.push(this.W,ft)}break;default:fr("Unsupporting sharing policy")}return ft}function Pn(tt,it){return it===null?(this.Na&&fr(`null is not a valid ${this.name}`),0):(it.g||fr(`Cannot pass "${us(it)}" as a ${this.name}`),it.g.o||fr(`Cannot pass deleted object as a pointer of type ${this.name}`),it.g.u.ta&&fr(`Cannot convert argument of type ${it.g.u.name} to parameter type ${this.name}`),as(it.g.o,it.g.u.i,this.i))}function pn(tt,it,ft,Tt){this.name=tt,this.i=it,this.Na=ft,this.ta=Tt,this.ua=!1,this.W=this.oc=this.Pa=this.rb=this.tc=this.nc=void 0,it.A!==void 0?this.toWireType=yo:(this.toWireType=Tt?Rs:Pn,this.K=null)}function _o(tt,it,ft){rt.hasOwnProperty(tt)||Ss("Replacing nonexistant public symbol"),rt[tt].B!==void 0&&ft!==void 0?rt[tt].B[ft]=it:(rt[tt]=it,rt[tt].ea=ft)}var Vn=[],Js=tt=>{var it=Vn[tt];return it||(tt>=Vn.length&&(Vn.length=tt+1),Vn[tt]=it=Ot.get(tt)),it},eo=(tt,it)=>{var ft=[];return function(){if(ft.length=0,Object.assign(ft,arguments),tt.includes("j")){var Tt=rt["dynCall_"+tt];Tt=ft&&ft.length?Tt.apply(null,[it].concat(ft)):Tt.call(null,it)}else Tt=Js(it).apply(null,ft);return Tt}};function Gr(tt,it){tt=Nr(tt);var ft=tt.includes("j")?eo(tt,it):Js(it);return typeof ft!="function"&&fr(`unknown function pointer with signature ${tt}: ${it}`),ft}var to=void 0;function ln(tt,it){function ft(Dt){Vt[Dt]||zn[Dt]||(os[Dt]?os[Dt].forEach(ft):(Tt.push(Dt),Vt[Dt]=!0))}var Tt=[],Vt={};throw it.forEach(ft),new to(`${tt}: `+Tt.map(po).join([", "]))}function xs(tt,it,ft,Tt,Vt){var Dt=it.length;2>Dt&&fr("argTypes array size mismatch! Must at least get return value and 'this' types!");var Nt=it[1]!==null&&ft!==null,zt=!1;for(ft=1;ft<it.length;++ft)if(it[ft]!==null&&it[ft].K===void 0){zt=!0;break}var qt=it[0].name!=="void",$t=Dt-2,nr=Array($t),sr=[],ur=[];return function(){if(arguments.length!==$t&&fr(`function ${tt} called with ${arguments.length} arguments, expected ${$t} args!`),ur.length=0,sr.length=Nt?2:1,sr[0]=Vt,Nt){var Bt=it[1].toWireType(ur,this);sr[1]=Bt}for(var rr=0;rr<$t;++rr)nr[rr]=it[rr+2].toWireType(ur,arguments[rr]),sr.push(nr[rr]);if(rr=Tt.apply(null,sr),zt)ss(ur);else for(var er=Nt?1:2;er<it.length;er++){var gr=er===1?Bt:nr[er-2];it[er].K!==null&&it[er].K(gr)}return Bt=qt?it[0].fromWireType(rr):void 0,Bt}}function ls(tt,it){for(var ft=[],Tt=0;Tt<tt;Tt++)ft.push(tr[it+4*Tt>>2]);return ft}function es(tt,it,ft){return tt instanceof Object||fr(`${ft} with invalid "this": ${tt}`),tt instanceof it.i.constructor||fr(`${ft} incompatible with "this" of type ${tt.constructor.name}`),tt.g.o||fr(`cannot call emscripten binding method ${ft} on deleted object`),as(tt.g.o,tt.g.u.i,it.i)}function bs(tt){tt>=tn.h&&--tn.get(tt).tb===0&&tn.Zb(tt)}function Eo(tt,it,ft){switch(it){case 0:return function(Tt){return this.fromWireType((ft?vt:Ft)[Tt])};case 1:return function(Tt){return this.fromWireType((ft?Lt:Yt)[Tt>>1])};case 2:return function(Tt){return this.fromWireType((ft?Qt:tr)[Tt>>2])};default:throw new TypeError("Unknown integer type: "+tt)}}function us(tt){if(tt===null)return"null";var it=typeof tt;return it==="object"||it==="array"||it==="function"?tt.toString():""+tt}function ro(tt,it){switch(it){case 2:return function(ft){return this.fromWireType(Mt[ft>>2])};case 3:return function(ft){return this.fromWireType(mt[ft>>3])};default:throw new TypeError("Unknown float type: "+tt)}}function To(tt,it,ft){switch(it){case 0:return ft?function(Tt){return vt[Tt]}:function(Tt){return Ft[Tt]};case 1:return ft?function(Tt){return Lt[Tt>>1]}:function(Tt){return Yt[Tt>>1]};case 2:return ft?function(Tt){return Qt[Tt>>2]}:function(Tt){return tr[Tt>>2]};default:throw new TypeError("Unknown integer type: "+tt)}}var cs=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Po=(tt,it)=>{for(var ft=tt>>1,Tt=ft+it/2;!(ft>=Tt)&&Yt[ft];)++ft;if(ft<<=1,32<ft-tt&&cs)return cs.decode(Ft.subarray(tt,ft));for(ft="",Tt=0;!(Tt>=it/2);++Tt){var Vt=Lt[tt+2*Tt>>1];if(Vt==0)break;ft+=String.fromCharCode(Vt)}return ft},Ao=(tt,it,ft)=>{if(ft===void 0&&(ft=2147483647),2>ft)return 0;ft-=2;var Tt=it;ft=ft<2*tt.length?ft/2:tt.length;for(var Vt=0;Vt<ft;++Vt)Lt[it>>1]=tt.charCodeAt(Vt),it+=2;return Lt[it>>1]=0,it-Tt},Un=tt=>2*tt.length,So=(tt,it)=>{for(var ft=0,Tt="";!(ft>=it/4);){var Vt=Qt[tt+4*ft>>2];if(Vt==0)break;++ft,65536<=Vt?(Vt-=65536,Tt+=String.fromCharCode(55296|Vt>>10,56320|Vt&1023)):Tt+=String.fromCharCode(Vt)}return Tt},wo=(tt,it,ft)=>{if(ft===void 0&&(ft=2147483647),4>ft)return 0;var Tt=it;ft=Tt+ft-4;for(var Vt=0;Vt<tt.length;++Vt){var Dt=tt.charCodeAt(Vt);if(55296<=Dt&&57343>=Dt){var Nt=tt.charCodeAt(++Vt);Dt=65536+((Dt&1023)<<10)|Nt&1023}if(Qt[it>>2]=Dt,it+=4,it+4>ft)break}return Qt[it>>2]=0,it-Tt},Co=tt=>{for(var it=0,ft=0;ft<tt.length;++ft){var Tt=tt.charCodeAt(ft);55296<=Tt&&57343>=Tt&&++ft,it+=4}return it},Io={};function Gn(tt){var it=Io[tt];return it===void 0?Nr(tt):it}var Qr=[];function Ro(tt){var it=Qr.length;return Qr.push(tt),it}function xo(tt,it){for(var ft=Array(tt),Tt=0;Tt<tt;++Tt)ft[Tt]=is(tr[it+4*Tt>>2],"parameter "+Tt);return ft}var Hn=[],j=[],ht={},Et=()=>{if(!bt){var tt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:yt||"./this.program"},it;for(it in ht)ht[it]===void 0?delete tt[it]:tt[it]=ht[it];var ft=[];for(it in tt)ft.push(`${it}=${tt[it]}`);bt=ft}return bt},bt,jt=tt=>tt%4===0&&(tt%100!==0||tt%400===0),Ht=[31,29,31,30,31,30,31,31,30,31,30,31],ir=[31,28,31,30,31,30,31,31,30,31,30,31],Fr=(tt,it,ft,Tt)=>{function Vt(Bt,rr,er){for(Bt=typeof Bt=="number"?Bt.toString():Bt||"";Bt.length<rr;)Bt=er[0]+Bt;return Bt}function Dt(Bt,rr){return Vt(Bt,rr,"0")}function Nt(Bt,rr){function er(_r){return 0>_r?-1:0<_r?1:0}var gr;return(gr=er(Bt.getFullYear()-rr.getFullYear()))===0&&(gr=er(Bt.getMonth()-rr.getMonth()))===0&&(gr=er(Bt.getDate()-rr.getDate())),gr}function zt(Bt){switch(Bt.getDay()){case 0:return new Date(Bt.getFullYear()-1,11,29);case 1:return Bt;case 2:return new Date(Bt.getFullYear(),0,3);case 3:return new Date(Bt.getFullYear(),0,2);case 4:return new Date(Bt.getFullYear(),0,1);case 5:return new Date(Bt.getFullYear()-1,11,31);case 6:return new Date(Bt.getFullYear()-1,11,30)}}function qt(Bt){var rr=Bt.ca;for(Bt=new Date(new Date(Bt.da+1900,0,1).getTime());0<rr;){var er=Bt.getMonth(),gr=(jt(Bt.getFullYear())?Ht:ir)[er];if(rr>gr-Bt.getDate())rr-=gr-Bt.getDate()+1,Bt.setDate(1),11>er?Bt.setMonth(er+1):(Bt.setMonth(0),Bt.setFullYear(Bt.getFullYear()+1));else{Bt.setDate(Bt.getDate()+rr);break}}return er=new Date(Bt.getFullYear()+1,0,4),rr=zt(new Date(Bt.getFullYear(),0,4)),er=zt(er),0>=Nt(rr,Bt)?0>=Nt(er,Bt)?Bt.getFullYear()+1:Bt.getFullYear():Bt.getFullYear()-1}var $t=Qt[Tt+40>>2];Tt={wc:Qt[Tt>>2],vc:Qt[Tt+4>>2],Fa:Qt[Tt+8>>2],Sa:Qt[Tt+12>>2],Ga:Qt[Tt+16>>2],da:Qt[Tt+20>>2],R:Qt[Tt+24>>2],ca:Qt[Tt+28>>2],Rc:Qt[Tt+32>>2],uc:Qt[Tt+36>>2],xc:$t&&$t?cn(Ft,$t):""},ft=ft?cn(Ft,ft):"",$t={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var nr in $t)ft=ft.replace(new RegExp(nr,"g"),$t[nr]);var sr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ur="January February March April May June July August September October November December".split(" ");$t={"%a":Bt=>sr[Bt.R].substring(0,3),"%A":Bt=>sr[Bt.R],"%b":Bt=>ur[Bt.Ga].substring(0,3),"%B":Bt=>ur[Bt.Ga],"%C":Bt=>Dt((Bt.da+1900)/100|0,2),"%d":Bt=>Dt(Bt.Sa,2),"%e":Bt=>Vt(Bt.Sa,2," "),"%g":Bt=>qt(Bt).toString().substring(2),"%G":Bt=>qt(Bt),"%H":Bt=>Dt(Bt.Fa,2),"%I":Bt=>(Bt=Bt.Fa,Bt==0?Bt=12:12<Bt&&(Bt-=12),Dt(Bt,2)),"%j":Bt=>{for(var rr=0,er=0;er<=Bt.Ga-1;rr+=(jt(Bt.da+1900)?Ht:ir)[er++]);return Dt(Bt.Sa+rr,3)},"%m":Bt=>Dt(Bt.Ga+1,2),"%M":Bt=>Dt(Bt.vc,2),"%n":()=>`
`,"%p":Bt=>0<=Bt.Fa&&12>Bt.Fa?"AM":"PM","%S":Bt=>Dt(Bt.wc,2),"%t":()=>"	","%u":Bt=>Bt.R||7,"%U":Bt=>Dt(Math.floor((Bt.ca+7-Bt.R)/7),2),"%V":Bt=>{var rr=Math.floor((Bt.ca+7-(Bt.R+6)%7)/7);if(2>=(Bt.R+371-Bt.ca-2)%7&&rr++,rr)rr==53&&(er=(Bt.R+371-Bt.ca)%7,er==4||er==3&&jt(Bt.da)||(rr=1));else{rr=52;var er=(Bt.R+7-Bt.ca-1)%7;(er==4||er==5&&jt(Bt.da%400-1))&&rr++}return Dt(rr,2)},"%w":Bt=>Bt.R,"%W":Bt=>Dt(Math.floor((Bt.ca+7-(Bt.R+6)%7)/7),2),"%y":Bt=>(Bt.da+1900).toString().substring(2),"%Y":Bt=>Bt.da+1900,"%z":Bt=>{Bt=Bt.uc;var rr=0<=Bt;return Bt=Math.abs(Bt)/60,(rr?"+":"-")+("0000"+(Bt/60*100+Bt%60)).slice(-4)},"%Z":Bt=>Bt.xc,"%%":()=>"%"},ft=ft.replace(/%%/g,"\0\0");for(nr in $t)ft.includes(nr)&&(ft=ft.replace(new RegExp(nr,"g"),$t[nr](Tt)));return ft=ft.replace(/\0\0/g,"%"),nr=Fs(ft,!1),nr.length>it?0:(vt.set(nr,tt),nr.length-1)};function Kr(tt,it,ft,Tt){tt||(tt=this),this.parent=tt,this.U=tt.U,this.wa=null,this.id=ao++,this.name=it,this.mode=ft,this.l={},this.m={},this.za=Tt}Object.defineProperties(Kr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(tt){tt?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(tt){tt?this.mode|=146:this.mode&=-147}}}),Ts(),vn=Array(4096),Gs(mr,"/"),un("/tmp",16895,0),un("/home",16895,0),un("/home/web_user",16895,0),(()=>{un("/dev",16895,0),_s(259,{read:()=>0,write:(Tt,Vt,Dt,Nt)=>Nt}),Bn("/dev/null",259),qn(1280,Ns),qn(1536,Fn),Bn("/dev/tty",1280),Bn("/dev/tty1",1536);var tt=new Uint8Array(1024),it=0,ft=()=>(it===0&&(it=Kn(tt).byteLength),tt[--it]);Xn("random",ft),Xn("urandom",ft),un("/dev/shm",16895,0),un("/dev/shm/tmp",16895,0)})(),(()=>{un("/proc",16895,0);var tt=un("/proc/self",16895,0);un("/proc/self/fd",16895,0),Gs({U:()=>{var it=zs(tt,"fd",16895,73);return it.l={ka:(ft,Tt)=>{var Vt=_n(+Tt);return ft={parent:null,U:{mb:"fake"},l:{ma:()=>Vt.path}},ft.parent=ft}},it}},"/proc/self/fd")})(),Object.assign(Ws.prototype,{get(tt){return this.M[tt]},has(tt){return this.M[tt]!==void 0},pa(tt){var it=this.hb.pop()||this.M.length;return this.M[it]=tt,it},Zb(tt){this.M[tt]=void 0,this.hb.push(tt)}}),Jn=rt.BindingError=class extends Error{constructor(tt){super(tt),this.name="BindingError"}},tn.M.push({value:void 0},{value:null},{value:!0},{value:!1}),tn.h=tn.M.length,rt.count_emval_handles=function(){for(var tt=0,it=tn.h;it<tn.M.length;++it)tn.M[it]!==void 0&&++tt;return tt},Ks=rt.PureVirtualError=rs("PureVirtualError");for(var Ar=Array(256),Hr=0;256>Hr;++Hr)Ar[Hr]=String.fromCharCode(Hr);Lr=Ar,rt.getInheritedInstanceCount=function(){return Object.keys(fn).length},rt.getLiveInheritedInstances=function(){var tt=[],it;for(it in fn)fn.hasOwnProperty(it)&&tt.push(fn[it]);return tt},rt.flushPendingDeletes=$n,rt.setDelayFunction=function(tt){ns=tt,En.length&&ns&&ns($n)},mo=rt.InternalError=class extends Error{constructor(tt){super(tt),this.name="InternalError"}},bn.prototype.isAliasOf=function(tt){if(!(this instanceof bn&&tt instanceof bn))return!1;var it=this.g.u.i,ft=this.g.o,Tt=tt.g.u.i;for(tt=tt.g.o;it.A;)ft=it.na(ft),it=it.A;for(;Tt.A;)tt=Tt.na(tt),Tt=Tt.A;return it===Tt&&ft===tt},bn.prototype.clone=function(){if(this.g.o||jr(this),this.g.ia)return this.g.count.value+=1,this;var tt=nn,it=Object,ft=it.create,Tt=Object.getPrototypeOf(this),Vt=this.g;return tt=tt(ft.call(it,Tt,{g:{value:{count:Vt.count,fa:Vt.fa,ia:Vt.ia,o:Vt.o,u:Vt.u,G:Vt.G,L:Vt.L}}})),tt.g.count.value+=1,tt.g.fa=!1,tt},bn.prototype.delete=function(){this.g.o||jr(this),this.g.fa&&!this.g.ia&&fr("Object already scheduled for deletion"),In(this),Ys(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},bn.prototype.isDeleted=function(){return!this.g.o},bn.prototype.deleteLater=function(){return this.g.o||jr(this),this.g.fa&&!this.g.ia&&fr("Object already scheduled for deletion"),En.push(this),En.length===1&&ns&&ns($n),this.g.fa=!0,this},pn.prototype.Vb=function(tt){return this.rb&&(tt=this.rb(tt)),tt},pn.prototype.ab=function(tt){this.W&&this.W(tt)},pn.prototype.argPackAdvance=8,pn.prototype.readValueFromPointer=Rn,pn.prototype.deleteObject=function(tt){tt!==null&&tt.delete()},pn.prototype.fromWireType=function(tt){function it(){return this.ua?ws(this.i.N,{u:this.nc,o:ft,L:this,G:tt}):ws(this.i.N,{u:this,o:tt})}var ft=this.Vb(tt);if(!ft)return this.ab(tt),null;var Tt=_i(this.i,ft);if(Tt!==void 0)return Tt.g.count.value===0?(Tt.g.o=ft,Tt.g.G=tt,Tt.clone()):(Tt=Tt.clone(),this.ab(tt),Tt);if(Tt=this.i.Ub(ft),Tt=Qs[Tt],!Tt)return it.call(this);Tt=this.ta?Tt.Kb:Tt.pointerType;var Vt=Xs(ft,this.i,Tt.i);return Vt===null?it.call(this):this.ua?ws(Tt.i.N,{u:Tt,o:Vt,L:this,G:tt}):ws(Tt.i.N,{u:Tt,o:Vt})},to=rt.UnboundTypeError=rs("UnboundTypeError");var Yr={__syscall_fcntl64:function(tt,it,ft){Zn=ft;try{var Tt=_n(tt);switch(it){case 0:var Vt=hn();return 0>Vt?-28:ys(Tt,Vt).X;case 1:case 2:return 0;case 3:return Tt.flags;case 4:return Vt=hn(),Tt.flags|=Vt,0;case 5:return Vt=hn(),Lt[Vt+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Qt[Do()>>2]=28,-1;default:return-28}}catch(Dt){if(typeof Cn>"u"||Dt.name!=="ErrnoError")throw Dt;return-Dt.aa}},__syscall_ioctl:function(tt,it,ft){Zn=ft;try{var Tt=_n(tt);switch(it){case 21509:return Tt.s?0:-59;case 21505:if(!Tt.s)return-59;if(Tt.s.V.bc){it=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var Vt=hn();Qt[Vt>>2]=25856,Qt[Vt+4>>2]=5,Qt[Vt+8>>2]=191,Qt[Vt+12>>2]=35387;for(var Dt=0;32>Dt;Dt++)vt[Vt+Dt+17>>0]=it[Dt]||0}return 0;case 21510:case 21511:case 21512:return Tt.s?0:-59;case 21506:case 21507:case 21508:if(!Tt.s)return-59;if(Tt.s.V.cc)for(Vt=hn(),it=[],Dt=0;32>Dt;Dt++)it.push(vt[Vt+Dt+17>>0]);return 0;case 21519:return Tt.s?(Vt=hn(),Qt[Vt>>2]=0):-59;case 21520:return Tt.s?-28:-59;case 21531:if(Vt=hn(),!Tt.m.ac)throw new lr(59);return Tt.m.ac(Tt,it,Vt);case 21523:return Tt.s?(Tt.s.V.dc&&(Dt=[24,80],Vt=hn(),Lt[Vt>>1]=Dt[0],Lt[Vt+2>>1]=Dt[1]),0):-59;case 21524:return Tt.s?0:-59;case 21515:return Tt.s?0:-59;default:return-28}}catch(Nt){if(typeof Cn>"u"||Nt.name!=="ErrnoError")throw Nt;return-Nt.aa}},__syscall_openat:function(tt,it,ft,Tt){Zn=Tt;try{it=it?cn(Ft,it):"";var Vt=it;if(Vt.charAt(0)==="/")it=Vt;else{var Dt=tt===-100?"/":_n(tt).path;if(Vt.length==0)throw new lr(44);it=Vr(Dt+"/"+Vt)}var Nt=Tt?hn():0;return Sn(it,ft,Nt).X}catch(zt){if(typeof Cn>"u"||zt.name!=="ErrnoError")throw zt;return-zt.aa}},_embind_create_inheriting_constructor:function(tt,it,ft){tt=Nr(tt),it=is(it,"wrapper"),ft=Ur(ft);var Tt=[].slice,Vt=it.i,Dt=Vt.N,Nt=Vt.A.N,zt=Vt.A.constructor;tt=As(tt,function(){Vt.A.qb.forEach((function($t){if(this[$t]===Nt[$t])throw new Ks(`Pure virtual function ${$t} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:Dt}),this.__construct.apply(this,Tt.call(arguments))}),Dt.__construct=function(){this===Dt&&fr("Pass correct 'this' to __construct");var $t=zt.implement.apply(void 0,[this].concat(Tt.call(arguments)));In($t);var nr=$t.g;$t.notifyOnDestruction(),nr.ia=!0,Object.defineProperties(this,{g:{value:nr}}),nn(this),$t=nr.o,$t=qs(Vt,$t),fn.hasOwnProperty($t)?fr(`Tried to register registered instance: ${$t}`):fn[$t]=this},Dt.__destruct=function(){this===Dt&&fr("Pass correct 'this' to __destruct"),In(this);var $t=this.g.o;$t=qs(Vt,$t),fn.hasOwnProperty($t)?delete fn[$t]:fr(`Tried to unregister unregistered instance: ${$t}`)},tt.prototype=Object.create(Dt);for(var qt in ft)tt.prototype[qt]=ft[qt];return rn(tt)},_embind_finalize_value_object:function(tt){var it=Cs[tt];delete Cs[tt];var ft=it.Pa,Tt=it.W,Vt=it.eb,Dt=Vt.map(Nt=>Nt.Yb).concat(Vt.map(Nt=>Nt.rc));qr([tt],Dt,Nt=>{var zt={};return Vt.forEach((qt,$t)=>{var nr=Nt[$t],sr=qt.Wb,ur=qt.Xb,Bt=Nt[$t+Vt.length],rr=qt.qc,er=qt.sc;zt[qt.Sb]={read:gr=>nr.fromWireType(sr(ur,gr)),write:(gr,_r)=>{var or=[];rr(er,gr,Bt.toWireType(or,_r)),ss(or)}}}),[{name:it.name,fromWireType:function(qt){var $t={},nr;for(nr in zt)$t[nr]=zt[nr].read(qt);return Tt(qt),$t},toWireType:function(qt,$t){for(var nr in zt)if(!(nr in $t))throw new TypeError(`Missing field: "${nr}"`);var sr=ft();for(nr in zt)zt[nr].write(sr,$t[nr]);return qt!==null&&qt.push(Tt,sr),sr},argPackAdvance:8,readValueFromPointer:Rn,K:Tt}]})},_embind_register_bigint:function(){},_embind_register_bool:function(tt,it,ft,Tt,Vt){var Dt=xn(ft);it=Nr(it),an(tt,{name:it,fromWireType:function(Nt){return!!Nt},toWireType:function(Nt,zt){return zt?Tt:Vt},argPackAdvance:8,readValueFromPointer:function(Nt){if(ft===1)var zt=vt;else if(ft===2)zt=Lt;else if(ft===4)zt=Qt;else throw new TypeError("Unknown boolean type size: "+it);return this.fromWireType(zt[Nt>>Dt])},K:null})},_embind_register_class:function(tt,it,ft,Tt,Vt,Dt,Nt,zt,qt,$t,nr,sr,ur){nr=Nr(nr),Dt=Gr(Vt,Dt),zt&&(zt=Gr(Nt,zt)),$t&&($t=Gr(qt,$t)),ur=Gr(sr,ur);var Bt=fo(nr);Is(Bt,function(){ln(`Cannot construct ${nr} due to unbound types`,[Tt])}),qr([tt,it,ft],Tt?[Tt]:[],function(rr){if(rr=rr[0],Tt)var er=rr.i,gr=er.N;else gr=bn.prototype;rr=As(Bt,function(){if(Object.getPrototypeOf(this)!==_r)throw new Jn("Use 'new' to construct "+nr);if(or.$===void 0)throw new Jn(nr+" has no accessible constructor");var Jr=or.$[arguments.length];if(Jr===void 0)throw new Jn(`Tried to invoke ctor of ${nr} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(or.$).toString()}) parameters instead!`);return Jr.apply(this,arguments)});var _r=Object.create(gr,{constructor:{value:rr}});rr.prototype=_r;var or=new vo(nr,rr,_r,ur,er,Dt,zt,$t);or.A&&(or.A.oa===void 0&&(or.A.oa=[]),or.A.oa.push(or)),er=new pn(nr,or,!0,!1),gr=new pn(nr+"*",or,!1,!1);var $r=new pn(nr+" const*",or,!1,!0);return Qs[tt]={pointerType:gr,Kb:$r},_o(Bt,rr),[er,gr,$r]})},_embind_register_class_class_function:function(tt,it,ft,Tt,Vt,Dt,Nt){var zt=ls(ft,Tt);it=Nr(it),Dt=Gr(Vt,Dt),qr([],[tt],function(qt){function $t(){ln(`Cannot call ${nr} due to unbound types`,zt)}qt=qt[0];var nr=`${qt.name}.${it}`;it.startsWith("@@")&&(it=Symbol[it.substring(2)]);var sr=qt.i.constructor;return sr[it]===void 0?($t.ea=ft-1,sr[it]=$t):(Zs(sr,it,nr),sr[it].B[ft-1]=$t),qr([],zt,function(ur){if(ur=xs(nr,[ur[0],null].concat(ur.slice(1)),null,Dt,Nt),sr[it].B===void 0?(ur.ea=ft-1,sr[it]=ur):sr[it].B[ft-1]=ur,qt.i.oa)for(const Bt of qt.i.oa)Bt.constructor.hasOwnProperty(it)||(Bt.constructor[it]=ur);return[]}),[]})},_embind_register_class_class_property:function(tt,it,ft,Tt,Vt,Dt,Nt,zt){it=Nr(it),Dt=Gr(Vt,Dt),qr([],[tt],function(qt){qt=qt[0];var $t=`${qt.name}.${it}`,nr={get(){ln(`Cannot access ${$t} due to unbound types`,[ft])},enumerable:!0,configurable:!0};return nr.set=zt?()=>{ln(`Cannot access ${$t} due to unbound types`,[ft])}:()=>{fr(`${$t} is a read-only property`)},Object.defineProperty(qt.i.constructor,it,nr),qr([],[ft],function(sr){sr=sr[0];var ur={get(){return sr.fromWireType(Dt(Tt))},enumerable:!0};return zt&&(zt=Gr(Nt,zt),ur.set=Bt=>{var rr=[];zt(Tt,sr.toWireType(rr,Bt)),ss(rr)}),Object.defineProperty(qt.i.constructor,it,ur),[]}),[]})},_embind_register_class_constructor:function(tt,it,ft,Tt,Vt,Dt){var Nt=ls(it,ft);Vt=Gr(Tt,Vt),qr([],[tt],function(zt){zt=zt[0];var qt=`constructor ${zt.name}`;if(zt.i.$===void 0&&(zt.i.$=[]),zt.i.$[it-1]!==void 0)throw new Jn(`Cannot register multiple constructors with identical number of parameters (${it-1}) for class '${zt.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return zt.i.$[it-1]=()=>{ln(`Cannot construct ${zt.name} due to unbound types`,Nt)},qr([],Nt,function($t){return $t.splice(1,0,null),zt.i.$[it-1]=xs(qt,$t,null,Vt,Dt),[]}),[]})},_embind_register_class_function:function(tt,it,ft,Tt,Vt,Dt,Nt,zt){var qt=ls(ft,Tt);it=Nr(it),Dt=Gr(Vt,Dt),qr([],[tt],function($t){function nr(){ln(`Cannot call ${sr} due to unbound types`,qt)}$t=$t[0];var sr=`${$t.name}.${it}`;it.startsWith("@@")&&(it=Symbol[it.substring(2)]),zt&&$t.i.qb.push(it);var ur=$t.i.N,Bt=ur[it];return Bt===void 0||Bt.B===void 0&&Bt.className!==$t.name&&Bt.ea===ft-2?(nr.ea=ft-2,nr.className=$t.name,ur[it]=nr):(Zs(ur,it,sr),ur[it].B[ft-2]=nr),qr([],qt,function(rr){return rr=xs(sr,rr,$t,Dt,Nt),ur[it].B===void 0?(rr.ea=ft-2,ur[it]=rr):ur[it].B[ft-2]=rr,[]}),[]})},_embind_register_class_property:function(tt,it,ft,Tt,Vt,Dt,Nt,zt,qt,$t){it=Nr(it),Vt=Gr(Tt,Vt),qr([],[tt],function(nr){nr=nr[0];var sr=`${nr.name}.${it}`,ur={get(){ln(`Cannot access ${sr} due to unbound types`,[ft,Nt])},enumerable:!0,configurable:!0};return ur.set=qt?()=>{ln(`Cannot access ${sr} due to unbound types`,[ft,Nt])}:()=>{fr(sr+" is a read-only property")},Object.defineProperty(nr.i.N,it,ur),qr([],qt?[ft,Nt]:[ft],function(Bt){var rr=Bt[0],er={get(){var _r=es(this,nr,sr+" getter");return rr.fromWireType(Vt(Dt,_r))},enumerable:!0};if(qt){qt=Gr(zt,qt);var gr=Bt[1];er.set=function(_r){var or=es(this,nr,sr+" setter"),$r=[];qt($t,or,gr.toWireType($r,_r)),ss($r)}}return Object.defineProperty(nr.i.N,it,er),[]}),[]})},_embind_register_emval:function(tt,it){it=Nr(it),an(tt,{name:it,fromWireType:function(ft){var Tt=Ur(ft);return bs(ft),Tt},toWireType:function(ft,Tt){return rn(Tt)},argPackAdvance:8,readValueFromPointer:Rn,K:null})},_embind_register_enum:function(tt,it,ft,Tt){function Vt(){}ft=xn(ft),it=Nr(it),Vt.values={},an(tt,{name:it,constructor:Vt,fromWireType:function(Dt){return this.constructor.values[Dt]},toWireType:function(Dt,Nt){return Nt.value},argPackAdvance:8,readValueFromPointer:Eo(it,ft,Tt),K:null}),Is(it,Vt)},_embind_register_enum_value:function(tt,it,ft){var Tt=is(tt,"enum");it=Nr(it),tt=Tt.constructor,Tt=Object.create(Tt.constructor.prototype,{value:{value:ft},constructor:{value:As(`${Tt.name}_${it}`,function(){})}}),tt.values[ft]=Tt,tt[it]=Tt},_embind_register_float:function(tt,it,ft){ft=xn(ft),it=Nr(it),an(tt,{name:it,fromWireType:function(Tt){return Tt},toWireType:function(Tt,Vt){return Vt},argPackAdvance:8,readValueFromPointer:ro(it,ft),K:null})},_embind_register_function:function(tt,it,ft,Tt,Vt,Dt){var Nt=ls(it,ft);tt=Nr(tt),Vt=Gr(Tt,Vt),Is(tt,function(){ln(`Cannot call ${tt} due to unbound types`,Nt)},it-1),qr([],Nt,function(zt){return _o(tt,xs(tt,[zt[0],null].concat(zt.slice(1)),null,Vt,Dt),it-1),[]})},_embind_register_integer:function(tt,it,ft,Tt,Vt){it=Nr(it),Vt===-1&&(Vt=4294967295),Vt=xn(ft);var Dt=zt=>zt;if(Tt===0){var Nt=32-8*ft;Dt=zt=>zt<<Nt>>>Nt}ft=it.includes("unsigned")?function(zt,qt){return qt>>>0}:function(zt,qt){return qt},an(tt,{name:it,fromWireType:Dt,toWireType:ft,argPackAdvance:8,readValueFromPointer:To(it,Vt,Tt!==0),K:null})},_embind_register_memory_view:function(tt,it,ft){function Tt(Dt){Dt>>=2;var Nt=tr;return new Vt(Nt.buffer,Nt[Dt+1],Nt[Dt])}var Vt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][it];ft=Nr(ft),an(tt,{name:ft,fromWireType:Tt,argPackAdvance:8,readValueFromPointer:Tt},{$b:!0})},_embind_register_std_string:function(tt,it){it=Nr(it);var ft=it==="std::string";an(tt,{name:it,fromWireType:function(Tt){var Vt=tr[Tt>>2],Dt=Tt+4;if(ft)for(var Nt=Dt,zt=0;zt<=Vt;++zt){var qt=Dt+zt;if(zt==Vt||Ft[qt]==0){if(Nt=Nt?cn(Ft,Nt,qt-Nt):"",$t===void 0)var $t=Nt;else $t+="\0",$t+=Nt;Nt=qt+1}}else{for($t=Array(Vt),zt=0;zt<Vt;++zt)$t[zt]=String.fromCharCode(Ft[Dt+zt]);$t=$t.join("")}return en(Tt),$t},toWireType:function(Tt,Vt){Vt instanceof ArrayBuffer&&(Vt=new Uint8Array(Vt));var Dt=typeof Vt=="string";Dt||Vt instanceof Uint8Array||Vt instanceof Uint8ClampedArray||Vt instanceof Int8Array||fr("Cannot pass non-string to std::string");var Nt=ft&&Dt?so(Vt):Vt.length,zt=sn(4+Nt+1),qt=zt+4;if(tr[zt>>2]=Nt,ft&&Dt)gs(Vt,Ft,qt,Nt+1);else if(Dt)for(Dt=0;Dt<Nt;++Dt){var $t=Vt.charCodeAt(Dt);255<$t&&(en(qt),fr("String has UTF-16 code units that do not fit in 8 bits")),Ft[qt+Dt]=$t}else for(Dt=0;Dt<Nt;++Dt)Ft[qt+Dt]=Vt[Dt];return Tt!==null&&Tt.push(en,zt),zt},argPackAdvance:8,readValueFromPointer:Rn,K:function(Tt){en(Tt)}})},_embind_register_std_wstring:function(tt,it,ft){if(ft=Nr(ft),it===2)var Tt=Po,Vt=Ao,Dt=Un,Nt=()=>Yt,zt=1;else it===4&&(Tt=So,Vt=wo,Dt=Co,Nt=()=>tr,zt=2);an(tt,{name:ft,fromWireType:function(qt){for(var $t=tr[qt>>2],nr=Nt(),sr,ur=qt+4,Bt=0;Bt<=$t;++Bt){var rr=qt+4+Bt*it;(Bt==$t||nr[rr>>zt]==0)&&(ur=Tt(ur,rr-ur),sr===void 0?sr=ur:(sr+="\0",sr+=ur),ur=rr+it)}return en(qt),sr},toWireType:function(qt,$t){typeof $t!="string"&&fr(`Cannot pass non-string to C++ string type ${ft}`);var nr=Dt($t),sr=sn(4+nr+it);return tr[sr>>2]=nr>>zt,Vt($t,sr+4,nr+it),qt!==null&&qt.push(en,sr),sr},argPackAdvance:8,readValueFromPointer:Rn,K:function(qt){en(qt)}})},_embind_register_value_object:function(tt,it,ft,Tt,Vt,Dt){Cs[tt]={name:Nr(it),Pa:Gr(ft,Tt),W:Gr(Vt,Dt),eb:[]}},_embind_register_value_object_field:function(tt,it,ft,Tt,Vt,Dt,Nt,zt,qt,$t){Cs[tt].eb.push({Sb:Nr(it),Yb:ft,Wb:Gr(Tt,Vt),Xb:Dt,rc:Nt,qc:Gr(zt,qt),sc:$t})},_embind_register_void:function(tt,it){it=Nr(it),an(tt,{fc:!0,name:it,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(tt,it,ft){tt=Ur(tt),it=is(it,"emval::as");var Tt=[],Vt=rn(Tt);return tr[ft>>2]=Vt,it.toWireType(Tt,tt)},_emval_call_method:function(tt,it,ft,Tt,Vt){tt=Qr[tt],it=Ur(it),ft=Gn(ft);var Dt=[];return tr[Tt>>2]=rn(Dt),tt(it,ft,Dt,Vt)},_emval_call_void_method:function(tt,it,ft,Tt){tt=Qr[tt],it=Ur(it),ft=Gn(ft),tt(it,ft,null,Tt)},_emval_decref:bs,_emval_get_method_caller:function(tt,it){var ft=xo(tt,it),Tt=ft[0];it=Tt.name+"_$"+ft.slice(1).map(function(Nt){return Nt.name}).join("_")+"$";var Vt=Hn[it];if(Vt!==void 0)return Vt;var Dt=Array(tt-1);return Vt=Ro((Nt,zt,qt,$t)=>{for(var nr=0,sr=0;sr<tt-1;++sr)Dt[sr]=ft[sr+1].readValueFromPointer($t+nr),nr+=ft[sr+1].argPackAdvance;for(Nt=Nt[zt].apply(Nt,Dt),sr=0;sr<tt-1;++sr)ft[sr+1].Nb&&ft[sr+1].Nb(Dt[sr]);if(!Tt.fc)return Tt.toWireType(qt,Nt)}),Hn[it]=Vt},_emval_get_module_property:function(tt){return tt=Gn(tt),rn(rt[tt])},_emval_get_property:function(tt,it){return tt=Ur(tt),it=Ur(it),rn(tt[it])},_emval_incref:function(tt){4<tt&&(tn.get(tt).tb+=1)},_emval_new_cstring:function(tt){return rn(Gn(tt))},_emval_new_object:function(){return rn({})},_emval_run_destructors:function(tt){var it=Ur(tt);ss(it),bs(tt)},_emval_set_property:function(tt,it,ft){tt=Ur(tt),it=Ur(it),ft=Ur(ft),tt[it]=ft},_emval_take_value:function(tt,it){return tt=is(tt,"_emval_take_value"),tt=tt.readValueFromPointer(it),rn(tt)},abort:()=>{pr("")},emscripten_asm_const_int:(tt,it,ft)=>{j.length=0;var Tt;for(ft>>=2;Tt=Ft[it++];)ft+=Tt!=105&ft,j.push(Tt==105?Qt[ft]:mt[ft++>>1]),++ft;return kr[tt].apply(null,j)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(tt,it,ft)=>Ft.copyWithin(tt,it,it+ft),emscripten_resize_heap:tt=>{var it=Ft.length;if(tt>>>=0,2147483648<tt)return!1;for(var ft=1;4>=ft;ft*=2){var Tt=it*(1+.2/ft);Tt=Math.min(Tt,tt+100663296);var Vt=Math;Tt=Math.max(tt,Tt);e:{Vt=Vt.min.call(Vt,2147483648,Tt+(65536-Tt%65536)%65536)-Ct.buffer.byteLength+65535>>>16;try{Ct.grow(Vt),Rt();var Dt=1;break e}catch{}Dt=void 0}if(Dt)return!0}return!1},environ_get:(tt,it)=>{var ft=0;return Et().forEach(function(Tt,Vt){var Dt=it+ft;for(Vt=tr[tt+4*Vt>>2]=Dt,Dt=0;Dt<Tt.length;++Dt)vt[Vt++>>0]=Tt.charCodeAt(Dt);vt[Vt>>0]=0,ft+=Tt.length+1}),0},environ_sizes_get:(tt,it)=>{var ft=Et();tr[tt>>2]=ft.length;var Tt=0;return ft.forEach(function(Vt){Tt+=Vt.length+1}),tr[it>>2]=Tt,0},fd_close:function(tt){try{var it=_n(tt);if(it.X===null)throw new lr(8);it.Ma&&(it.Ma=null);try{it.m.close&&it.m.close(it)}catch(ft){throw ft}finally{Wr[it.X]=null}return it.X=null,0}catch(ft){if(typeof Cn>"u"||ft.name!=="ErrnoError")throw ft;return ft.aa}},fd_read:function(tt,it,ft,Tt){try{e:{var Vt=_n(tt);tt=it;for(var Dt,Nt=it=0;Nt<ft;Nt++){var zt=tr[tt>>2],qt=tr[tt+4>>2];tt+=8;var $t=Vt,nr=zt,sr=qt,ur=Dt,Bt=vt;if(0>sr||0>ur)throw new lr(28);if($t.X===null)throw new lr(8);if(($t.flags&2097155)===1)throw new lr(8);if(($t.node.mode&61440)===16384)throw new lr(31);if(!$t.m.read)throw new lr(28);var rr=typeof ur<"u";if(!rr)ur=$t.position;else if(!$t.seekable)throw new lr(70);var er=$t.m.read($t,Bt,nr,sr,ur);rr||($t.position+=er);var gr=er;if(0>gr){var _r=-1;break e}if(it+=gr,gr<qt)break;typeof Dt<"u"&&(Dt+=gr)}_r=it}return tr[Tt>>2]=_r,0}catch(or){if(typeof Cn>"u"||or.name!=="ErrnoError")throw or;return or.aa}},fd_seek:function(tt,it,ft,Tt,Vt){it=ft+2097152>>>0<4194305-!!it?(it>>>0)+4294967296*ft:NaN;try{if(isNaN(it))return 61;var Dt=_n(tt);return wn(Dt,it,Tt),Er=[Dt.position>>>0,(Pr=Dt.position,1<=+Math.abs(Pr)?0<Pr?+Math.floor(Pr/4294967296)>>>0:~~+Math.ceil((Pr-+(~~Pr>>>0))/4294967296)>>>0:0)],Qt[Vt>>2]=Er[0],Qt[Vt+4>>2]=Er[1],Dt.Ma&&it===0&&Tt===0&&(Dt.Ma=null),0}catch(Nt){if(typeof Cn>"u"||Nt.name!=="ErrnoError")throw Nt;return Nt.aa}},fd_write:function(tt,it,ft,Tt){try{e:{var Vt=_n(tt);tt=it;for(var Dt,Nt=it=0;Nt<ft;Nt++){var zt=tr[tt>>2],qt=tr[tt+4>>2];tt+=8;var $t=Vt,nr=zt,sr=qt,ur=Dt,Bt=vt;if(0>sr||0>ur)throw new lr(28);if($t.X===null)throw new lr(8);if(!($t.flags&2097155))throw new lr(8);if(($t.node.mode&61440)===16384)throw new lr(31);if(!$t.m.write)throw new lr(28);$t.seekable&&$t.flags&1024&&wn($t,0,2);var rr=typeof ur<"u";if(!rr)ur=$t.position;else if(!$t.seekable)throw new lr(70);var er=$t.m.write($t,Bt,nr,sr,ur,void 0);rr||($t.position+=er);var gr=er;if(0>gr){var _r=-1;break e}it+=gr,typeof Dt<"u"&&(Dt+=gr)}_r=it}return tr[Tt>>2]=_r,0}catch(or){if(typeof Cn>"u"||or.name!=="ErrnoError")throw or;return or.aa}},strftime_l:(tt,it,ft,Tt)=>Fr(tt,it,ft,Tt)};(function(){function tt(ft){if(kt=ft=ft.exports,Ct=kt.memory,Rt(),Ot=kt.__indirect_function_table,Kt.unshift(kt.__wasm_call_ctors),hr--,rt.monitorRunDependencies&&rt.monitorRunDependencies(hr),hr==0&&Zt){var Tt=Zt;Zt=null,Tt()}return ft}var it={env:Yr,wasi_snapshot_preview1:Yr};if(hr++,rt.monitorRunDependencies&&rt.monitorRunDependencies(hr),rt.instantiateWasm)try{return rt.instantiateWasm(it,tt)}catch(ft){Wt("Module.instantiateWasm callback failed with error: "+ft),ut(ft)}return Br(it,function(ft){tt(ft.instance)}).catch(ut),{}})();var en=tt=>(en=kt.free)(tt),sn=tt=>(sn=kt.malloc)(tt),hs=rt._ma_device__on_notification_unlocked=tt=>(hs=rt._ma_device__on_notification_unlocked=kt.ma_device__on_notification_unlocked)(tt);rt._ma_malloc_emscripten=(tt,it)=>(rt._ma_malloc_emscripten=kt.ma_malloc_emscripten)(tt,it),rt._ma_free_emscripten=(tt,it)=>(rt._ma_free_emscripten=kt.ma_free_emscripten)(tt,it);var Vs=rt._ma_device_process_pcm_frames_capture__webaudio=(tt,it,ft)=>(Vs=rt._ma_device_process_pcm_frames_capture__webaudio=kt.ma_device_process_pcm_frames_capture__webaudio)(tt,it,ft),Mo=rt._ma_device_process_pcm_frames_playback__webaudio=(tt,it,ft)=>(Mo=rt._ma_device_process_pcm_frames_playback__webaudio=kt.ma_device_process_pcm_frames_playback__webaudio)(tt,it,ft),Do=()=>(Do=kt.__errno_location)(),Fo=tt=>(Fo=kt.__getTypeName)(tt);rt.__embind_initialize_bindings=()=>(rt.__embind_initialize_bindings=kt._embind_initialize_bindings)(),rt.dynCall_iiji=(tt,it,ft,Tt,Vt)=>(rt.dynCall_iiji=kt.dynCall_iiji)(tt,it,ft,Tt,Vt),rt.dynCall_jiji=(tt,it,ft,Tt,Vt)=>(rt.dynCall_jiji=kt.dynCall_jiji)(tt,it,ft,Tt,Vt),rt.dynCall_iiiji=(tt,it,ft,Tt,Vt,Dt)=>(rt.dynCall_iiiji=kt.dynCall_iiiji)(tt,it,ft,Tt,Vt,Dt),rt.dynCall_iij=(tt,it,ft,Tt)=>(rt.dynCall_iij=kt.dynCall_iij)(tt,it,ft,Tt),rt.dynCall_jii=(tt,it,ft)=>(rt.dynCall_jii=kt.dynCall_jii)(tt,it,ft),rt.dynCall_viijii=(tt,it,ft,Tt,Vt,Dt,Nt)=>(rt.dynCall_viijii=kt.dynCall_viijii)(tt,it,ft,Tt,Vt,Dt,Nt),rt.dynCall_iiiiij=(tt,it,ft,Tt,Vt,Dt,Nt)=>(rt.dynCall_iiiiij=kt.dynCall_iiiiij)(tt,it,ft,Tt,Vt,Dt,Nt),rt.dynCall_iiiiijj=(tt,it,ft,Tt,Vt,Dt,Nt,zt,qt)=>(rt.dynCall_iiiiijj=kt.dynCall_iiiiijj)(tt,it,ft,Tt,Vt,Dt,Nt,zt,qt),rt.dynCall_iiiiiijj=(tt,it,ft,Tt,Vt,Dt,Nt,zt,qt,$t)=>(rt.dynCall_iiiiiijj=kt.dynCall_iiiiiijj)(tt,it,ft,Tt,Vt,Dt,Nt,zt,qt,$t);var bo;Zt=function tt(){bo||Lo(),bo||(Zt=tt)};function Lo(){function tt(){if(!bo&&(bo=!0,rt.calledRun=!0,!dt)){if(rt.noFSInit||ho||(ho=!0,Ts(),rt.stdin=rt.stdin,rt.stdout=rt.stdout,rt.stderr=rt.stderr,rt.stdin?Xn("stdin",rt.stdin):Es("/dev/tty","/dev/stdin"),rt.stdout?Xn("stdout",null,rt.stdout):Es("/dev/tty","/dev/stdout"),rt.stderr?Xn("stderr",null,rt.stderr):Es("/dev/tty1","/dev/stderr"),Sn("/dev/stdin",0),Sn("/dev/stdout",1),Sn("/dev/stderr",1)),Yn=!1,dr(Kt),lt(rt),rt.onRuntimeInitialized&&rt.onRuntimeInitialized(),rt.postRun)for(typeof rt.postRun=="function"&&(rt.postRun=[rt.postRun]);rt.postRun.length;){var it=rt.postRun.shift();Xt.unshift(it)}dr(Xt)}}if(!(0<hr)){if(rt.preRun)for(typeof rt.preRun=="function"&&(rt.preRun=[rt.preRun]);rt.preRun.length;)ar();dr(Gt),0<hr||(rt.setStatus?(rt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){rt.setStatus("")},1),tt()},1)):tt())}}if(rt.preInit)for(typeof rt.preInit=="function"&&(rt.preInit=[rt.preInit]);0<rt.preInit.length;)rt.preInit.pop()();return Lo(),et.ready}})();const $=_},h=>{h.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.21.5","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(h,d,g)=>{g.r(d),g.d(d,{Animation:()=>_.Animation});var _=g(4)},(h,d,g)=>{g.r(d),g.d(d,{Animation:()=>_});var _=function(){function $(nt,et,rt,lt){this.animation=nt,this.artboard=et,this.playing=lt,this.loopCount=0,this.scrubTo=null,this.instance=new rt.LinearAnimationInstance(nt,et)}return Object.defineProperty($.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"time",{get:function(){return this.instance.time},set:function(nt){this.instance.time=nt},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),$.prototype.advance=function(nt){this.scrubTo===null?this.instance.advance(nt):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},$.prototype.apply=function(nt){this.instance.apply(nt)},$.prototype.cleanup=function(){this.instance.delete()},$}()},(h,d,g)=>{g.r(d),g.d(d,{BLANK_URL:()=>$.BLANK_URL,registerTouchInteractions:()=>_.registerTouchInteractions,sanitizeUrl:()=>$.sanitizeUrl});var _=g(6),$=g(7)},(h,d,g)=>{g.r(d),g.d(d,{registerTouchInteractions:()=>nt});var _=void 0,$=function(et,rt){var lt,ut;return["touchstart","touchmove"].indexOf(et.type)>-1&&(!((lt=et.touches)===null||lt===void 0)&&lt.length)?(rt||et.preventDefault(),{clientX:et.touches[0].clientX,clientY:et.touches[0].clientY}):et.type==="touchend"&&(!((ut=et.changedTouches)===null||ut===void 0)&&ut.length)?{clientX:et.changedTouches[0].clientX,clientY:et.changedTouches[0].clientY}:{clientX:et.clientX,clientY:et.clientY}},nt=function(et){var rt=et.canvas,lt=et.artboard,ut=et.stateMachines,gt=ut===void 0?[]:ut,at=et.renderer,st=et.rive,ot=et.fit,ct=et.alignment,Pt=et.isTouchScrollEnabled,At=Pt===void 0?!1:Pt;if(!rt||!gt.length||!at||!st||!lt||typeof window>"u")return null;var yt=null,pt=!1,_t=function(xt){if(pt&&xt instanceof MouseEvent){xt.type=="mouseup"&&(pt=!1);return}pt=At&&xt.type==="touchend"&&yt==="touchstart",yt=xt.type;var It=xt.currentTarget.getBoundingClientRect(),wt=$(xt,At),Wt=wt.clientX,Ut=wt.clientY;if(!(!Wt&&!Ut)){var Ct=Wt-It.left,kt=Ut-It.top,dt=st.computeAlignment(ot,ct,{minX:0,minY:0,maxX:It.width,maxY:It.height},lt.bounds),vt=new st.Mat2D;dt.invert(vt);var Ft=new st.Vec2D(Ct,kt),Lt=st.mapXY(vt,Ft),Yt=Lt.x(),Qt=Lt.y();switch(Lt.delete(),vt.delete(),Ft.delete(),dt.delete(),xt.type){case"mouseout":for(var tr=0,Mt=gt;tr<Mt.length;tr++){var mt=Mt[tr];mt.pointerMove(Yt<0?Yt-1e4:Yt+1e4,Qt<0?Qt-1e4:Qt+1e4)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Rt=0,Ot=gt;Rt<Ot.length;Rt++){var mt=Ot[Rt];mt.pointerMove(Yt,Qt)}break}case"touchstart":case"mousedown":{for(var Gt=0,Kt=gt;Gt<Kt.length;Gt++){var mt=Kt[Gt];mt.pointerDown(Yt,Qt)}break}case"touchend":case"mouseup":{for(var Xt=0,ar=gt;Xt<ar.length;Xt++){var mt=ar[Xt];mt.pointerUp(Yt,Qt)}break}}}},St=_t.bind(_);return rt.addEventListener("mouseover",St),rt.addEventListener("mouseout",St),rt.addEventListener("mousemove",St),rt.addEventListener("mousedown",St),rt.addEventListener("mouseup",St),rt.addEventListener("touchmove",St,{passive:At}),rt.addEventListener("touchstart",St,{passive:At}),rt.addEventListener("touchend",St),function(){rt.removeEventListener("mouseover",St),rt.removeEventListener("mouseout",St),rt.removeEventListener("mousemove",St),rt.removeEventListener("mousedown",St),rt.removeEventListener("mouseup",St),rt.removeEventListener("touchmove",St),rt.removeEventListener("touchstart",St),rt.removeEventListener("touchend",St)}}},(h,d,g)=>{g.r(d),g.d(d,{BLANK_URL:()=>ut,sanitizeUrl:()=>st});var _=/^([^\w]*)(javascript|data|vbscript)/im,$=/&#(\w+)(^\w|;)?/g,nt=/&(newline|tab);/gi,et=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,rt=/^.+(:|&colon;)/gim,lt=[".","/"],ut="about:blank";function gt(ot){return lt.indexOf(ot[0])>-1}function at(ot){var ct=ot.replace(et,"");return ct.replace($,function(Pt,At){return String.fromCharCode(At)})}function st(ot){if(!ot)return ut;var ct=at(ot).replace(nt,"").replace(et,"").trim();if(!ct)return ut;if(gt(ct))return ct;var Pt=ct.match(rt);if(!Pt)return ct;var At=Pt[0];return _.test(At)?ut:ct}}],o={};function a(h){var d=o[h];if(d!==void 0)return d.exports;var g=o[h]={exports:{}};return s[h](g,g.exports,a),g.exports}a.d=(h,d)=>{for(var g in d)a.o(d,g)&&!a.o(h,g)&&Object.defineProperty(h,g,{enumerable:!0,get:d[g]})},a.o=(h,d)=>Object.prototype.hasOwnProperty.call(h,d),a.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var c={};return(()=>{a.r(c),a.d(c,{Alignment:()=>lt,EventType:()=>At,Fit:()=>rt,Layout:()=>ut,LoopType:()=>yt,Rive:()=>dt,RiveEventType:()=>ot,RiveFile:()=>kt,RuntimeLoader:()=>gt,StateMachineInput:()=>st,StateMachineInputType:()=>at,Testing:()=>Lt,decodeAudio:()=>Yt,decodeFont:()=>tr,decodeImage:()=>Qt});var h=a(1),d=a(2),g=a(3),_=a(5),$=function(){var Mt=function(mt,Rt){return Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,Gt){Ot.__proto__=Gt}||function(Ot,Gt){for(var Kt in Gt)Object.prototype.hasOwnProperty.call(Gt,Kt)&&(Ot[Kt]=Gt[Kt])},Mt(mt,Rt)};return function(mt,Rt){if(typeof Rt!="function"&&Rt!==null)throw new TypeError("Class extends value "+String(Rt)+" is not a constructor or null");Mt(mt,Rt);function Ot(){this.constructor=mt}mt.prototype=Rt===null?Object.create(Rt):(Ot.prototype=Rt.prototype,new Ot)}}(),nt=function(Mt,mt,Rt,Ot){function Gt(Kt){return Kt instanceof Rt?Kt:new Rt(function(Xt){Xt(Kt)})}return new(Rt||(Rt=Promise))(function(Kt,Xt){function ar(pr){try{Zt(Ot.next(pr))}catch(br){Xt(br)}}function hr(pr){try{Zt(Ot.throw(pr))}catch(br){Xt(br)}}function Zt(pr){pr.done?Kt(pr.value):Gt(pr.value).then(ar,hr)}Zt((Ot=Ot.apply(Mt,mt||[])).next())})},et=function(Mt,mt){var Rt={label:0,sent:function(){if(Kt[0]&1)throw Kt[1];return Kt[1]},trys:[],ops:[]},Ot,Gt,Kt,Xt;return Xt={next:ar(0),throw:ar(1),return:ar(2)},typeof Symbol=="function"&&(Xt[Symbol.iterator]=function(){return this}),Xt;function ar(Zt){return function(pr){return hr([Zt,pr])}}function hr(Zt){if(Ot)throw new TypeError("Generator is already executing.");for(;Xt&&(Xt=0,Zt[0]&&(Rt=0)),Rt;)try{if(Ot=1,Gt&&(Kt=Zt[0]&2?Gt.return:Zt[0]?Gt.throw||((Kt=Gt.return)&&Kt.call(Gt),0):Gt.next)&&!(Kt=Kt.call(Gt,Zt[1])).done)return Kt;switch(Gt=0,Kt&&(Zt=[Zt[0]&2,Kt.value]),Zt[0]){case 0:case 1:Kt=Zt;break;case 4:return Rt.label++,{value:Zt[1],done:!1};case 5:Rt.label++,Gt=Zt[1],Zt=[0];continue;case 7:Zt=Rt.ops.pop(),Rt.trys.pop();continue;default:if(Kt=Rt.trys,!(Kt=Kt.length>0&&Kt[Kt.length-1])&&(Zt[0]===6||Zt[0]===2)){Rt=0;continue}if(Zt[0]===3&&(!Kt||Zt[1]>Kt[0]&&Zt[1]<Kt[3])){Rt.label=Zt[1];break}if(Zt[0]===6&&Rt.label<Kt[1]){Rt.label=Kt[1],Kt=Zt;break}if(Kt&&Rt.label<Kt[2]){Rt.label=Kt[2],Rt.ops.push(Zt);break}Kt[2]&&Rt.ops.pop(),Rt.trys.pop();continue}Zt=mt.call(Mt,Rt)}catch(pr){Zt=[6,pr],Gt=0}finally{Ot=Kt=0}if(Zt[0]&5)throw Zt[1];return{value:Zt[0]?Zt[1]:void 0,done:!0}}},rt;(function(Mt){Mt.Cover="cover",Mt.Contain="contain",Mt.Fill="fill",Mt.FitWidth="fitWidth",Mt.FitHeight="fitHeight",Mt.None="none",Mt.ScaleDown="scaleDown"})(rt||(rt={}));var lt;(function(Mt){Mt.Center="center",Mt.TopLeft="topLeft",Mt.TopCenter="topCenter",Mt.TopRight="topRight",Mt.CenterLeft="centerLeft",Mt.CenterRight="centerRight",Mt.BottomLeft="bottomLeft",Mt.BottomCenter="bottomCenter",Mt.BottomRight="bottomRight"})(lt||(lt={}));var ut=function(){function Mt(mt){var Rt,Ot,Gt,Kt,Xt,ar;this.fit=(Rt=mt==null?void 0:mt.fit)!==null&&Rt!==void 0?Rt:rt.Contain,this.alignment=(Ot=mt==null?void 0:mt.alignment)!==null&&Ot!==void 0?Ot:lt.Center,this.minX=(Gt=mt==null?void 0:mt.minX)!==null&&Gt!==void 0?Gt:0,this.minY=(Kt=mt==null?void 0:mt.minY)!==null&&Kt!==void 0?Kt:0,this.maxX=(Xt=mt==null?void 0:mt.maxX)!==null&&Xt!==void 0?Xt:0,this.maxY=(ar=mt==null?void 0:mt.maxY)!==null&&ar!==void 0?ar:0}return Mt.new=function(mt){var Rt=mt.fit,Ot=mt.alignment,Gt=mt.minX,Kt=mt.minY,Xt=mt.maxX,ar=mt.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new Mt({fit:Rt,alignment:Ot,minX:Gt,minY:Kt,maxX:Xt,maxY:ar})},Mt.prototype.copyWith=function(mt){var Rt=mt.fit,Ot=mt.alignment,Gt=mt.minX,Kt=mt.minY,Xt=mt.maxX,ar=mt.maxY;return new Mt({fit:Rt??this.fit,alignment:Ot??this.alignment,minX:Gt??this.minX,minY:Kt??this.minY,maxX:Xt??this.maxX,maxY:ar??this.maxY})},Mt.prototype.runtimeFit=function(mt){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var Rt;return this.fit===rt.Cover?Rt=mt.Fit.cover:this.fit===rt.Contain?Rt=mt.Fit.contain:this.fit===rt.Fill?Rt=mt.Fit.fill:this.fit===rt.FitWidth?Rt=mt.Fit.fitWidth:this.fit===rt.FitHeight?Rt=mt.Fit.fitHeight:this.fit===rt.ScaleDown?Rt=mt.Fit.scaleDown:Rt=mt.Fit.none,this.cachedRuntimeFit=Rt,Rt},Mt.prototype.runtimeAlignment=function(mt){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var Rt;return this.alignment===lt.TopLeft?Rt=mt.Alignment.topLeft:this.alignment===lt.TopCenter?Rt=mt.Alignment.topCenter:this.alignment===lt.TopRight?Rt=mt.Alignment.topRight:this.alignment===lt.CenterLeft?Rt=mt.Alignment.centerLeft:this.alignment===lt.CenterRight?Rt=mt.Alignment.centerRight:this.alignment===lt.BottomLeft?Rt=mt.Alignment.bottomLeft:this.alignment===lt.BottomCenter?Rt=mt.Alignment.bottomCenter:this.alignment===lt.BottomRight?Rt=mt.Alignment.bottomRight:Rt=mt.Alignment.center,this.cachedRuntimeAlignment=Rt,Rt},Mt}(),gt=function(){function Mt(){}return Mt.loadRuntime=function(){h.default({locateFile:function(){return Mt.wasmURL}}).then(function(mt){var Rt;for(Mt.runtime=mt;Mt.callBackQueue.length>0;)(Rt=Mt.callBackQueue.shift())===null||Rt===void 0||Rt(Mt.runtime)}).catch(function(){var mt="https://cdn.jsdelivr.net/npm/".concat(d.name,"@").concat(d.version,"/rive_fallback.wasm");Mt.wasmURL.toLowerCase()!==mt?(console.warn("Failed to load WASM from ".concat(Mt.wasmURL,", trying jsdelivr as a backup")),Mt.setWasmUrl(mt),Mt.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or 	        you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call 	        RuntimeLoader.loadRuntime() again")})},Mt.getInstance=function(mt){Mt.isLoading||(Mt.isLoading=!0,Mt.loadRuntime()),Mt.runtime?mt(Mt.runtime):Mt.callBackQueue.push(mt)},Mt.awaitInstance=function(){return new Promise(function(mt){return Mt.getInstance(function(Rt){return mt(Rt)})})},Mt.setWasmUrl=function(mt){Mt.wasmURL=mt},Mt.isLoading=!1,Mt.callBackQueue=[],Mt.wasmURL="https://unpkg.com/".concat(d.name,"@").concat(d.version,"/rive.wasm"),Mt}(),at;(function(Mt){Mt[Mt.Number=56]="Number",Mt[Mt.Trigger=58]="Trigger",Mt[Mt.Boolean=59]="Boolean"})(at||(at={}));var st=function(){function Mt(mt,Rt){this.type=mt,this.runtimeInput=Rt}return Object.defineProperty(Mt.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(mt){this.runtimeInput.value=mt},enumerable:!1,configurable:!0}),Mt.prototype.fire=function(){this.type===at.Trigger&&this.runtimeInput.fire()},Mt}(),ot;(function(Mt){Mt[Mt.General=128]="General",Mt[Mt.OpenUrl=131]="OpenUrl"})(ot||(ot={}));var ct=function(){function Mt(mt,Rt,Ot,Gt){this.stateMachine=mt,this.playing=Ot,this.artboard=Gt,this.inputs=[],this.instance=new Rt.StateMachineInstance(mt,Gt),this.initInputs(Rt)}return Object.defineProperty(Mt.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"statesChanged",{get:function(){for(var mt=[],Rt=0;Rt<this.instance.stateChangedCount();Rt++)mt.push(this.instance.stateChangedNameByIndex(Rt));return mt},enumerable:!1,configurable:!0}),Mt.prototype.advance=function(mt){this.instance.advance(mt)},Mt.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},Mt.prototype.reportedEventAt=function(mt){return this.instance.reportedEventAt(mt)},Mt.prototype.initInputs=function(mt){for(var Rt=0;Rt<this.instance.inputCount();Rt++){var Ot=this.instance.input(Rt);this.inputs.push(this.mapRuntimeInput(Ot,mt))}},Mt.prototype.mapRuntimeInput=function(mt,Rt){if(mt.type===Rt.SMIInput.bool)return new st(at.Boolean,mt.asBool());if(mt.type===Rt.SMIInput.number)return new st(at.Number,mt.asNumber());if(mt.type===Rt.SMIInput.trigger)return new st(at.Trigger,mt.asTrigger())},Mt.prototype.cleanup=function(){this.instance.delete()},Mt}(),Pt=function(){function Mt(mt,Rt,Ot,Gt,Kt){Gt===void 0&&(Gt=[]),Kt===void 0&&(Kt=[]),this.runtime=mt,this.artboard=Rt,this.eventManager=Ot,this.animations=Gt,this.stateMachines=Kt}return Mt.prototype.add=function(mt,Rt,Ot){if(Ot===void 0&&(Ot=!0),mt=Ft(mt),mt.length===0)this.animations.forEach(function(Sr){return Sr.playing=Rt}),this.stateMachines.forEach(function(Sr){return Sr.playing=Rt});else for(var Gt=this.animations.map(function(Sr){return Sr.name}),Kt=this.stateMachines.map(function(Sr){return Sr.name}),Xt=0;Xt<mt.length;Xt++){var ar=Gt.indexOf(mt[Xt]),hr=Kt.indexOf(mt[Xt]);if(ar>=0||hr>=0)ar>=0?this.animations[ar].playing=Rt:this.stateMachines[hr].playing=Rt;else{var Zt=this.artboard.animationByName(mt[Xt]);if(Zt){var pr=new g.Animation(Zt,this.artboard,this.runtime,Rt);pr.advance(0),pr.apply(1),this.animations.push(pr)}else{var br=this.artboard.stateMachineByName(mt[Xt]);if(br){var Tr=new ct(br,this.runtime,Rt,this.artboard);this.stateMachines.push(Tr)}}}}return Ot&&(Rt?this.eventManager.fire({type:At.Play,data:this.playing}):this.eventManager.fire({type:At.Pause,data:this.paused})),Rt?this.playing:this.paused},Mt.prototype.initLinearAnimations=function(mt,Rt){for(var Ot=this.animations.map(function(hr){return hr.name}),Gt=0;Gt<mt.length;Gt++){var Kt=Ot.indexOf(mt[Gt]);if(Kt>=0)this.animations[Kt].playing=Rt;else{var Xt=this.artboard.animationByName(mt[Gt]);if(Xt){var ar=new g.Animation(Xt,this.artboard,this.runtime,Rt);ar.advance(0),ar.apply(1),this.animations.push(ar)}}}},Mt.prototype.initStateMachines=function(mt,Rt){for(var Ot=this.stateMachines.map(function(hr){return hr.name}),Gt=0;Gt<mt.length;Gt++){var Kt=Ot.indexOf(mt[Gt]);if(Kt>=0)this.stateMachines[Kt].playing=Rt;else{var Xt=this.artboard.stateMachineByName(mt[Gt]);if(Xt){var ar=new ct(Xt,this.runtime,Rt,this.artboard);this.stateMachines.push(ar)}else this.initLinearAnimations([mt[Gt]],Rt)}}},Mt.prototype.play=function(mt){return this.add(mt,!0)},Mt.prototype.pause=function(mt){return this.add(mt,!1)},Mt.prototype.scrub=function(mt,Rt){var Ot=this.animations.filter(function(Gt){return mt.includes(Gt.name)});return Ot.forEach(function(Gt){return Gt.scrubTo=Rt}),Ot.map(function(Gt){return Gt.name})},Object.defineProperty(Mt.prototype,"playing",{get:function(){return this.animations.filter(function(mt){return mt.playing}).map(function(mt){return mt.name}).concat(this.stateMachines.filter(function(mt){return mt.playing}).map(function(mt){return mt.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"paused",{get:function(){return this.animations.filter(function(mt){return!mt.playing}).map(function(mt){return mt.name}).concat(this.stateMachines.filter(function(mt){return!mt.playing}).map(function(mt){return mt.name}))},enumerable:!1,configurable:!0}),Mt.prototype.stop=function(mt){var Rt=this;mt=Ft(mt);var Ot=[];if(mt.length===0)Ot=this.animations.map(function(Xt){return Xt.name}).concat(this.stateMachines.map(function(Xt){return Xt.name})),this.animations.forEach(function(Xt){return Xt.cleanup()}),this.stateMachines.forEach(function(Xt){return Xt.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var Gt=this.animations.filter(function(Xt){return mt.includes(Xt.name)});Gt.forEach(function(Xt){Xt.cleanup(),Rt.animations.splice(Rt.animations.indexOf(Xt),1)});var Kt=this.stateMachines.filter(function(Xt){return mt.includes(Xt.name)});Kt.forEach(function(Xt){Xt.cleanup(),Rt.stateMachines.splice(Rt.stateMachines.indexOf(Xt),1)}),Ot=Gt.map(function(Xt){return Xt.name}).concat(Kt.map(function(Xt){return Xt.name}))}return this.eventManager.fire({type:At.Stop,data:Ot}),Ot},Object.defineProperty(Mt.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(mt,Rt){return mt||Rt.playing},!1)||this.stateMachines.reduce(function(mt,Rt){return mt||Rt.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),Mt.prototype.atLeastOne=function(mt,Rt){Rt===void 0&&(Rt=!0);var Ot;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([Ot=this.artboard.animationByIndex(0).name],mt,Rt):this.artboard.stateMachineCount()>0&&this.add([Ot=this.artboard.stateMachineByIndex(0).name],mt,Rt)),Ot},Mt.prototype.handleLooping=function(){for(var mt=0,Rt=this.animations.filter(function(Gt){return Gt.playing});mt<Rt.length;mt++){var Ot=Rt[mt];Ot.loopValue===0&&Ot.loopCount?(Ot.loopCount=0,this.stop(Ot.name)):Ot.loopValue===1&&Ot.loopCount?(this.eventManager.fire({type:At.Loop,data:{animation:Ot.name,type:yt.Loop}}),Ot.loopCount=0):Ot.loopValue===2&&Ot.loopCount>1&&(this.eventManager.fire({type:At.Loop,data:{animation:Ot.name,type:yt.PingPong}}),Ot.loopCount=0)}},Mt.prototype.handleStateChanges=function(){for(var mt=[],Rt=0,Ot=this.stateMachines.filter(function(Kt){return Kt.playing});Rt<Ot.length;Rt++){var Gt=Ot[Rt];mt.push.apply(mt,Gt.statesChanged)}mt.length>0&&this.eventManager.fire({type:At.StateChange,data:mt})},Mt.prototype.handleAdvancing=function(mt){this.eventManager.fire({type:At.Advance,data:mt})},Mt}(),At;(function(Mt){Mt.Load="load",Mt.LoadError="loaderror",Mt.Play="play",Mt.Pause="pause",Mt.Stop="stop",Mt.Loop="loop",Mt.Draw="draw",Mt.Advance="advance",Mt.StateChange="statechange",Mt.RiveEvent="riveevent",Mt.AudioStatusChange="audiostatuschange"})(At||(At={}));var yt;(function(Mt){Mt.OneShot="oneshot",Mt.Loop="loop",Mt.PingPong="pingpong"})(yt||(yt={}));var pt=function(){function Mt(mt){mt===void 0&&(mt=[]),this.listeners=mt}return Mt.prototype.getListeners=function(mt){return this.listeners.filter(function(Rt){return Rt.type===mt})},Mt.prototype.add=function(mt){this.listeners.includes(mt)||this.listeners.push(mt)},Mt.prototype.remove=function(mt){for(var Rt=0;Rt<this.listeners.length;Rt++){var Ot=this.listeners[Rt];if(Ot.type===mt.type&&Ot.callback===mt.callback){this.listeners.splice(Rt,1);break}}},Mt.prototype.removeAll=function(mt){var Rt=this;mt?this.listeners.filter(function(Ot){return Ot.type===mt}).forEach(function(Ot){return Rt.remove(Ot)}):this.listeners.splice(0,this.listeners.length)},Mt.prototype.fire=function(mt){var Rt=this.getListeners(mt.type);Rt.forEach(function(Ot){return Ot.callback(mt)})},Mt}(),_t=function(){function Mt(mt){this.eventManager=mt,this.queue=[]}return Mt.prototype.add=function(mt){this.queue.push(mt)},Mt.prototype.process=function(){for(;this.queue.length>0;){var mt=this.queue.shift();mt!=null&&mt.action&&mt.action(),mt!=null&&mt.event&&this.eventManager.fire(mt.event)}},Mt}(),St;(function(Mt){Mt[Mt.AVAILABLE=0]="AVAILABLE",Mt[Mt.UNAVAILABLE=1]="UNAVAILABLE"})(St||(St={}));var xt=function(Mt){$(mt,Mt);function mt(){var Rt=Mt!==null&&Mt.apply(this,arguments)||this;return Rt._started=!1,Rt._enabled=!1,Rt._status=St.UNAVAILABLE,Rt}return mt.prototype.delay=function(Rt){return nt(this,void 0,void 0,function(){return et(this,function(Ot){return[2,new Promise(function(Gt){return setTimeout(Gt,Rt)})]})})},mt.prototype.timeout=function(){return nt(this,void 0,void 0,function(){return et(this,function(Rt){return[2,new Promise(function(Ot,Gt){return setTimeout(Gt,50)})]})})},mt.prototype.reportToListeners=function(){this.fire({type:At.AudioStatusChange}),this.removeAll()},mt.prototype.enableAudio=function(){return nt(this,void 0,void 0,function(){return et(this,function(Rt){return this._enabled||(this._enabled=!0,this._status=St.AVAILABLE,this.reportToListeners()),[2]})})},mt.prototype.testAudio=function(){return nt(this,void 0,void 0,function(){return et(this,function(Rt){switch(Rt.label){case 0:if(!(this._status===St.UNAVAILABLE&&this._audioContext!==null))return[3,4];Rt.label=1;case 1:return Rt.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return Rt.sent(),this.enableAudio(),[3,4];case 3:return Rt.sent(),[3,4];case 4:return[2]}})})},mt.prototype._establishAudio=function(){return nt(this,void 0,void 0,function(){return et(this,function(Rt){switch(Rt.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),Rt.label=2;case 2:return this._status!==St.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return Rt.sent(),[4,this.delay(1e3)];case 4:return Rt.sent(),[3,2];case 5:return[2]}})})},mt.prototype.listenForUserAction=function(){var Rt=this,Ot=function(){return nt(Rt,void 0,void 0,function(){return et(this,function(Gt){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",Ot,{once:!0})},mt.prototype.establishAudio=function(){return nt(this,void 0,void 0,function(){return et(this,function(Rt){return this._establishAudio(),[2]})})},Object.defineProperty(mt.prototype,"systemVolume",{get:function(){return this._status===St.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(mt.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),mt}(pt),It=new xt,wt=function(){function Mt(){}return Mt.prototype.observe=function(){},Mt.prototype.unobserve=function(){},Mt.prototype.disconnect=function(){},Mt}(),Wt=globalThis.ResizeObserver||wt,Ut=function(){function Mt(){var mt=this;this._elementsMap=new Map,this._onObservedEntry=function(Rt){var Ot=mt._elementsMap.get(Rt.target);Ot!==null?Ot.onResize(Rt.target.clientWidth==0||Rt.target.clientHeight==0):mt._resizeObserver.unobserve(Rt.target)},this._onObserved=function(Rt){Rt.forEach(mt._onObservedEntry)},this._resizeObserver=new Wt(this._onObserved)}return Mt.prototype.add=function(mt,Rt){var Ot={onResize:Rt,element:mt};return this._elementsMap.set(mt,Ot),this._resizeObserver.observe(mt),Ot},Mt.prototype.remove=function(mt){this._resizeObserver.unobserve(mt.element),this._elementsMap.delete(mt.element)},Mt}(),Ct=new Ut,kt=function(){function Mt(mt){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.src=mt.src,this.buffer=mt.buffer,mt.assetLoader&&(this.assetLoader=mt.assetLoader),this.enableRiveAssetCDN=typeof mt.enableRiveAssetCDN=="boolean"?mt.enableRiveAssetCDN:!0,this.eventManager=new pt,mt.onLoad&&this.on(At.Load,mt.onLoad),mt.onLoadError&&this.on(At.LoadError,mt.onLoadError)}return Mt.prototype.initData=function(){return nt(this,void 0,void 0,function(){var mt,Rt,Ot;return et(this,function(Gt){switch(Gt.label){case 0:return this.src?(mt=this,[4,vt(this.src)]):[3,2];case 1:mt.buffer=Gt.sent(),Gt.label=2;case 2:return this.assetLoader&&(Rt=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),Ot=this,[4,this.runtime.load(new Uint8Array(this.buffer),Rt,this.enableRiveAssetCDN)];case 3:if(Ot.file=Gt.sent(),this.file!==null)this.eventManager.fire({type:At.Load,data:this});else throw this.eventManager.fire({type:At.LoadError,data:null}),new Error(Mt.fileLoadErrorMessage);return[2]}})})},Mt.prototype.init=function(){return nt(this,void 0,void 0,function(){var mt;return et(this,function(Rt){switch(Rt.label){case 0:if(!this.src&&!this.buffer)throw new Error(Mt.missingErrorMessage);return mt=this,[4,gt.awaitInstance()];case 1:return mt.runtime=Rt.sent(),[4,this.initData()];case 2:return Rt.sent(),[2]}})})},Mt.prototype.on=function(mt,Rt){this.eventManager.add({type:mt,callback:Rt})},Mt.prototype.off=function(mt,Rt){this.eventManager.remove({type:mt,callback:Rt})},Mt.prototype.cleanup=function(){var mt;this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),(mt=this.file)===null||mt===void 0||mt.delete())},Mt.prototype.removeAllRiveEventListeners=function(mt){this.eventManager.removeAll(mt)},Mt.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},Mt.missingErrorMessage="Rive source file or data buffer required",Mt.fileLoadErrorMessage="The file failed to load",Mt}(),dt=function(){function Mt(mt){var Rt=this,Ot;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._hasZeroSize=!1,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(Gt){Rt._hasZeroSize=Gt,(!Rt._layout.maxX||!Rt._layout.maxY)&&Rt.resizeToCanvas()},this.renderSecondTimer=0,this.canvas=mt.canvas,mt.canvas.constructor===HTMLCanvasElement&&(this._observed=Ct.add(this.canvas,this.onCanvasResize)),this.src=mt.src,this.buffer=mt.buffer,this.riveFile=mt.riveFile,this.layout=(Ot=mt.layout)!==null&&Ot!==void 0?Ot:new ut,this.shouldDisableRiveListeners=!!mt.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!mt.isTouchScrollEnabled,this.automaticallyHandleEvents=!!mt.automaticallyHandleEvents,this.enableRiveAssetCDN=mt.enableRiveAssetCDN===void 0?!0:mt.enableRiveAssetCDN,this.eventManager=new pt,mt.onLoad&&this.on(At.Load,mt.onLoad),mt.onLoadError&&this.on(At.LoadError,mt.onLoadError),mt.onPlay&&this.on(At.Play,mt.onPlay),mt.onPause&&this.on(At.Pause,mt.onPause),mt.onStop&&this.on(At.Stop,mt.onStop),mt.onLoop&&this.on(At.Loop,mt.onLoop),mt.onStateChange&&this.on(At.StateChange,mt.onStateChange),mt.onAdvance&&this.on(At.Advance,mt.onAdvance),mt.onload&&!mt.onLoad&&this.on(At.Load,mt.onload),mt.onloaderror&&!mt.onLoadError&&this.on(At.LoadError,mt.onloaderror),mt.onplay&&!mt.onPlay&&this.on(At.Play,mt.onplay),mt.onpause&&!mt.onPause&&this.on(At.Pause,mt.onpause),mt.onstop&&!mt.onStop&&this.on(At.Stop,mt.onstop),mt.onloop&&!mt.onLoop&&this.on(At.Loop,mt.onloop),mt.onstatechange&&!mt.onStateChange&&this.on(At.StateChange,mt.onstatechange),mt.assetLoader&&(this.assetLoader=mt.assetLoader),this.taskQueue=new _t(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:mt.autoplay,animations:mt.animations,stateMachines:mt.stateMachines,artboard:mt.artboard,useOffscreenRenderer:mt.useOffscreenRenderer})}return Mt.new=function(mt){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new Mt(mt)},Mt.prototype.onSystemAudioChanged=function(){this.volume=this._volume},Mt.prototype.init=function(mt){var Rt=this,Ot=mt.src,Gt=mt.buffer,Kt=mt.riveFile,Xt=mt.animations,ar=mt.stateMachines,hr=mt.artboard,Zt=mt.autoplay,pr=Zt===void 0?!1:Zt,br=mt.useOffscreenRenderer,Tr=br===void 0?!1:br;if(this.src=Ot,this.buffer=Gt,this.riveFile=Kt,!this.src&&!this.buffer&&!this.riveFile)throw new Error(Mt.missingErrorMessage);var Sr=Ft(Xt),zr=Ft(ar);this.loaded=!1,this.readyForPlaying=!1,gt.awaitInstance().then(function(Or){Rt.runtime=Or,Rt.renderer=Rt.runtime.makeRenderer(Rt.canvas,Tr),Rt.canvas.width||Rt.canvas.height||Rt.resizeDrawingSurfaceToCanvas(),Rt.initData(hr,Sr,zr,pr).then(function(){return Rt.setupRiveListeners()}).catch(function(Dr){console.error(Dr)})}).catch(function(Or){console.error(Or)})},Mt.prototype.setupRiveListeners=function(mt){var Rt=this;if(!this.shouldDisableRiveListeners){var Ot=(this.animator.stateMachines||[]).filter(function(Kt){return Kt.playing&&Rt.runtime.hasListeners(Kt.instance)}).map(function(Kt){return Kt.instance}),Gt=this.isTouchScrollEnabled;mt&&"isTouchScrollEnabled"in mt&&(Gt=mt.isTouchScrollEnabled),this.eventCleanup=(0,_.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:Ot,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:Gt})}},Mt.prototype.removeRiveListeners=function(){this.eventCleanup&&this.eventCleanup()},Mt.prototype.initializeAudio=function(){var mt=this,Rt;It.status==St.UNAVAILABLE&&!((Rt=this.artboard)===null||Rt===void 0)&&Rt.hasAudio&&(It.add({type:At.AudioStatusChange,callback:function(){return mt.onSystemAudioChanged()}}),It.establishAudio())},Mt.prototype.initData=function(mt,Rt,Ot,Gt){var Kt;return nt(this,void 0,void 0,function(){var Xt;return et(this,function(ar){switch(ar.label){case 0:return ar.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(this.riveFile=new kt({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),[4,this.riveFile.init()]);case 1:ar.sent(),ar.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(mt,Rt,Ot,Gt),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:At.Load,data:(Kt=this.src)!==null&&Kt!==void 0?Kt:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()];case 3:return ar.sent(),Xt="Problem loading file; may be corrupt!",console.warn(Xt),this.eventManager.fire({type:At.LoadError,data:Xt}),[2,Promise.reject(Xt)];case 4:return[2]}})})},Mt.prototype.initArtboard=function(mt,Rt,Ot,Gt){if(this.file){var Kt=mt?this.file.artboardByName(mt):this.file.defaultArtboard();if(!Kt){var Xt="Invalid artboard name or no default artboard";console.warn(Xt),this.eventManager.fire({type:At.LoadError,data:Xt});return}if(this.artboard=Kt,Kt.volume=this._volume*It.systemVolume,this.artboard.animationCount()<1){var Xt="Artboard has no animations";throw this.eventManager.fire({type:At.LoadError,data:Xt}),Xt}this.animator=new Pt(this.runtime,this.artboard,this.eventManager);var ar;Rt.length>0||Ot.length>0?(ar=Rt.concat(Ot),this.animator.initLinearAnimations(Rt,Gt),this.animator.initStateMachines(Ot,Gt)):ar=[this.animator.atLeastOne(Gt,!1)],this.taskQueue.add({event:{type:Gt?At.Play:At.Pause,data:ar}})}},Mt.prototype.drawFrame=function(){this.startRendering()},Mt.prototype.draw=function(mt,Rt){this.frameRequestId=null;var Ot=performance.now();this.lastRenderTime||(this.lastRenderTime=mt),this.renderSecondTimer+=mt-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,Rt==null||Rt());var Gt=(mt-this.lastRenderTime)/1e3;this.lastRenderTime=mt;for(var Kt=this.animator.animations.filter(function(Vr){return Vr.playing||Vr.needsScrub}).sort(function(Vr){return Vr.needsScrub?-1:1}),Xt=0,ar=Kt;Xt<ar.length;Xt++){var hr=ar[Xt];hr.advance(Gt),hr.instance.didLoop&&(hr.loopCount+=1),hr.apply(1)}for(var Zt=this.animator.stateMachines.filter(function(Vr){return Vr.playing}),pr=0,br=Zt;pr<br.length;pr++){var Tr=br[pr],Sr=Tr.reportedEventCount();if(Sr)for(var zr=0;zr<Sr;zr++){var Or=Tr.reportedEventAt(zr);if(Or)if(Or.type===ot.OpenUrl){if(this.eventManager.fire({type:At.RiveEvent,data:Or}),this.automaticallyHandleEvents){var Dr=document.createElement("a"),Br=Or,Pr=Br.url,Er=Br.target,kr=(0,_.sanitizeUrl)(Pr);Pr&&Dr.setAttribute("href",kr),Er&&Dr.setAttribute("target",Er),kr&&kr!==_.BLANK_URL&&Dr.click()}}else this.eventManager.fire({type:At.RiveEvent,data:Or})}Tr.advance(Gt)}this.artboard.advance(Gt);var dr=this.renderer;dr.clear(),dr.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(dr),dr.restore(),dr.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(Gt),this.frameCount++;var vr=performance.now();for(this.frameTimes.push(vr),this.durations.push(vr-Ot);this.frameTimes[0]<=vr-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},Mt.prototype.alignRenderer=function(){var mt=this,Rt=mt.renderer,Ot=mt.runtime,Gt=mt._layout,Kt=mt.artboard;Rt.align(Gt.runtimeFit(Ot),Gt.runtimeAlignment(Ot),{minX:Gt.minX,minY:Gt.minY,maxX:Gt.maxX,maxY:Gt.maxY},Kt.bounds)},Object.defineProperty(Mt.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(mt,Rt){return mt+Rt},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),Mt.prototype.cleanup=function(){var mt;this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Ct.remove(this._observed),(mt=this.riveFile)===null||mt===void 0||mt.cleanup(),this.riveFile=null,this.file=null},Mt.prototype.deleteRiveRenderer=function(){var mt;(mt=this.renderer)===null||mt===void 0||mt.delete(),this.renderer=null},Mt.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},Mt.prototype.retrieveTextRun=function(mt){var Rt;if(!mt){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var Ot=this.artboard.textRun(mt);if(!Ot){console.warn("Could not access a text run with name '".concat(mt,"' in the '").concat((Rt=this.artboard)===null||Rt===void 0?void 0:Rt.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return Ot},Mt.prototype.getTextRunValue=function(mt){var Rt=this.retrieveTextRun(mt);return Rt?Rt.text:void 0},Mt.prototype.setTextRunValue=function(mt,Rt){var Ot=this.retrieveTextRun(mt);Ot&&(Ot.text=Rt)},Mt.prototype.play=function(mt,Rt){var Ot=this;if(mt=Ft(mt),!this.readyForPlaying){this.taskQueue.add({action:function(){return Ot.play(mt,Rt)}});return}this.animator.play(mt),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},Mt.prototype.pause=function(mt){var Rt=this;if(mt=Ft(mt),!this.readyForPlaying){this.taskQueue.add({action:function(){return Rt.pause(mt)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(mt)},Mt.prototype.scrub=function(mt,Rt){var Ot=this;if(mt=Ft(mt),!this.readyForPlaying){this.taskQueue.add({action:function(){return Ot.scrub(mt,Rt)}});return}this.animator.scrub(mt,Rt||0),this.drawFrame()},Mt.prototype.stop=function(mt){var Rt=this;if(mt=Ft(mt),!this.readyForPlaying){this.taskQueue.add({action:function(){return Rt.stop(mt)}});return}this.animator.stop(mt),this.eventCleanup&&this.eventCleanup()},Mt.prototype.reset=function(mt){var Rt,Ot=mt==null?void 0:mt.artboard,Gt=Ft(mt==null?void 0:mt.animations),Kt=Ft(mt==null?void 0:mt.stateMachines),Xt=(Rt=mt==null?void 0:mt.autoplay)!==null&&Rt!==void 0?Rt:!1;this.cleanupInstances(),this.initArtboard(Ot,Gt,Kt,Xt),this.taskQueue.process()},Mt.prototype.load=function(mt){this.file=null,this.stop(),this.init(mt)},Object.defineProperty(Mt.prototype,"layout",{get:function(){return this._layout},set:function(mt){this._layout=mt,(!mt.maxX||!mt.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),Mt.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},Mt.prototype.resizeDrawingSurfaceToCanvas=function(mt){if(this.canvas instanceof HTMLCanvasElement&&window){var Rt=this.canvas.getBoundingClientRect(),Ot=Rt.width,Gt=Rt.height,Kt=mt||window.devicePixelRatio||1;this.canvas.width=Kt*Ot,this.canvas.height=Kt*Gt,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(Mt.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var mt=[],Rt=0;Rt<this.artboard.animationCount();Rt++)mt.push(this.artboard.animationByIndex(Rt).name);return mt},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var mt=[],Rt=0;Rt<this.artboard.stateMachineCount();Rt++)mt.push(this.artboard.stateMachineByIndex(Rt).name);return mt},enumerable:!1,configurable:!0}),Mt.prototype.stateMachineInputs=function(mt){if(this.loaded){var Rt=this.animator.stateMachines.find(function(Ot){return Ot.name===mt});return Rt==null?void 0:Rt.inputs}},Mt.prototype.retrieveInputAtPath=function(mt,Rt){if(!mt){console.warn("No input name provided for path '".concat(Rt,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(mt,"', at path: '").concat(Rt,"', but the Artboard is null"));return}var Ot=this.artboard.inputByPath(mt,Rt);if(!Ot){console.warn("Could not access an input with name: '".concat(mt,"', at path:'").concat(Rt,"'"));return}return Ot},Mt.prototype.setBooleanStateAtPath=function(mt,Rt,Ot){var Gt=this.retrieveInputAtPath(mt,Ot);Gt&&(Gt.type===at.Boolean?Gt.asBool().value=Rt:console.warn("Input with name: '".concat(mt,"', at path:'").concat(Ot,"' is not a boolean")))},Mt.prototype.setNumberStateAtPath=function(mt,Rt,Ot){var Gt=this.retrieveInputAtPath(mt,Ot);Gt&&(Gt.type===at.Number?Gt.asNumber().value=Rt:console.warn("Input with name: '".concat(mt,"', at path:'").concat(Ot,"' is not a number")))},Mt.prototype.fireStateAtPath=function(mt,Rt){var Ot=this.retrieveInputAtPath(mt,Rt);Ot&&(Ot.type===at.Trigger?Ot.asTrigger().fire():console.warn("Input with name: '".concat(mt,"', at path:'").concat(Rt,"' is not a trigger")))},Mt.prototype.retrieveTextAtPath=function(mt,Rt){if(!mt){console.warn("No text name provided for path '".concat(Rt,"'"));return}if(!Rt){console.warn("No path provided for text '".concat(mt,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(mt,"', at path: '").concat(Rt,"', but the Artboard is null"));return}var Ot=this.artboard.textByPath(mt,Rt);if(!Ot){console.warn("Could not access text with name: '".concat(mt,"', at path:'").concat(Rt,"'"));return}return Ot},Mt.prototype.getTextRunValueAtPath=function(mt,Rt){var Ot=this.retrieveTextAtPath(mt,Rt);if(!Ot){console.warn("Could not get text with name: '".concat(mt,"', at path:'").concat(Rt,"'"));return}return Ot.text},Mt.prototype.setTextRunValueAtPath=function(mt,Rt,Ot){var Gt=this.retrieveTextAtPath(mt,Ot);if(!Gt){console.warn("Could not set text with name: '".concat(mt,"', at path:'").concat(Ot,"'"));return}Gt.text=Rt},Object.defineProperty(Mt.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(mt){return mt.playing}).map(function(mt){return mt.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(mt){return mt.playing}).map(function(mt){return mt.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(mt){return!mt.playing}).map(function(mt){return mt.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(mt){return!mt.playing}).map(function(mt){return mt.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),Mt.prototype.on=function(mt,Rt){this.eventManager.add({type:mt,callback:Rt})},Mt.prototype.off=function(mt,Rt){this.eventManager.remove({type:mt,callback:Rt})},Mt.prototype.unsubscribe=function(mt,Rt){console.warn("This function is deprecated: please use `off()` instead."),this.off(mt,Rt)},Mt.prototype.removeAllRiveEventListeners=function(mt){this.eventManager.removeAll(mt)},Mt.prototype.unsubscribeAll=function(mt){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(mt)},Mt.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},Mt.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},Mt.prototype.enableFPSCounter=function(mt){this.runtime.enableFPSCounter(mt)},Mt.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(Mt.prototype,"contents",{get:function(){if(this.loaded){for(var mt={artboards:[]},Rt=0;Rt<this.file.artboardCount();Rt++){for(var Ot=this.file.artboardByIndex(Rt),Gt={name:Ot.name,animations:[],stateMachines:[]},Kt=0;Kt<Ot.animationCount();Kt++){var Xt=Ot.animationByIndex(Kt);Gt.animations.push(Xt.name)}for(var ar=0;ar<Ot.stateMachineCount();ar++){for(var hr=Ot.stateMachineByIndex(ar),Zt=hr.name,pr=new this.runtime.StateMachineInstance(hr,Ot),br=[],Tr=0;Tr<pr.inputCount();Tr++){var Sr=pr.input(Tr);br.push({name:Sr.name,type:Sr.type})}Gt.stateMachines.push({name:Zt,inputs:br})}mt.artboards.push(Gt)}return mt}},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(mt){this._volume=mt,this.artboard&&(this.artboard.volume=mt*It.systemVolume)},enumerable:!1,configurable:!0}),Mt.missingErrorMessage="Rive source file or data buffer required",Mt}(),vt=function(Mt){return nt(void 0,void 0,void 0,function(){var mt,Rt,Ot;return et(this,function(Gt){switch(Gt.label){case 0:return mt=new Request(Mt),[4,fetch(mt)];case 1:return Rt=Gt.sent(),[4,Rt.arrayBuffer()];case 2:return Ot=Gt.sent(),[2,Ot]}})})},Ft=function(Mt){return typeof Mt=="string"?[Mt]:Mt instanceof Array?Mt:[]},Lt={EventManager:pt,TaskQueueManager:_t},Yt=function(Mt){return new Promise(function(mt){return gt.getInstance(function(Rt){Rt.decodeAudio(Mt,mt)})})},Qt=function(Mt){return new Promise(function(mt){return gt.getInstance(function(Rt){Rt.decodeImage(Mt,mt)})})},tr=function(Mt){return new Promise(function(mt){return gt.getInstance(function(Rt){Rt.decodeFont(Mt,mt)})})}})(),c})())})(rive);var riveExports=rive.exports;(function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=reactExports,s=riveExports;function o(_t){return _t&&typeof _t=="object"&&"default"in _t?_t:{default:_t}}var a=o(e),c=function(){return c=Object.assign||function(_t){for(var St,xt=1,It=arguments.length;xt<It;xt++)for(var wt in St=arguments[xt])Object.prototype.hasOwnProperty.call(St,wt)&&(_t[wt]=St[wt]);return _t},c.apply(this,arguments)};function h(_t,St){var xt={};for(var It in _t)Object.prototype.hasOwnProperty.call(_t,It)&&St.indexOf(It)<0&&(xt[It]=_t[It]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function"){var wt=0;for(It=Object.getOwnPropertySymbols(_t);wt<It.length;wt++)St.indexOf(It[wt])<0&&Object.prototype.propertyIsEnumerable.call(_t,It[wt])&&(xt[It[wt]]=_t[It[wt]])}return xt}function d(_t,St,xt,It){return new(xt||(xt=Promise))(function(wt,Wt){function Ut(dt){try{kt(It.next(dt))}catch(vt){Wt(vt)}}function Ct(dt){try{kt(It.throw(dt))}catch(vt){Wt(vt)}}function kt(dt){var vt;dt.done?wt(dt.value):(vt=dt.value,vt instanceof xt?vt:new xt(function(Ft){Ft(vt)})).then(Ut,Ct)}kt((It=It.apply(_t,[])).next())})}function g(_t,St){var xt,It,wt,Wt={label:0,sent:function(){if(1&wt[0])throw wt[1];return wt[1]},trys:[],ops:[]},Ut=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Ut.next=Ct(0),Ut.throw=Ct(1),Ut.return=Ct(2),typeof Symbol=="function"&&(Ut[Symbol.iterator]=function(){return this}),Ut;function Ct(kt){return function(dt){return function(vt){if(xt)throw new TypeError("Generator is already executing.");for(;Ut&&(Ut=0,vt[0]&&(Wt=0)),Wt;)try{if(xt=1,It&&(wt=2&vt[0]?It.return:vt[0]?It.throw||((wt=It.return)&&wt.call(It),0):It.next)&&!(wt=wt.call(It,vt[1])).done)return wt;switch(It=0,wt&&(vt=[2&vt[0],wt.value]),vt[0]){case 0:case 1:wt=vt;break;case 4:return Wt.label++,{value:vt[1],done:!1};case 5:Wt.label++,It=vt[1],vt=[0];continue;case 7:vt=Wt.ops.pop(),Wt.trys.pop();continue;default:if(wt=Wt.trys,!((wt=wt.length>0&&wt[wt.length-1])||vt[0]!==6&&vt[0]!==2)){Wt=0;continue}if(vt[0]===3&&(!wt||vt[1]>wt[0]&&vt[1]<wt[3])){Wt.label=vt[1];break}if(vt[0]===6&&Wt.label<wt[1]){Wt.label=wt[1],wt=vt;break}if(wt&&Wt.label<wt[2]){Wt.label=wt[2],Wt.ops.push(vt);break}wt[2]&&Wt.ops.pop(),Wt.trys.pop();continue}vt=St.call(_t,Wt)}catch(Ft){vt=[6,Ft],It=0}finally{xt=wt=0}if(5&vt[0])throw vt[1];return{value:vt[0]?vt[1]:void 0,done:!0}}([kt,dt])}}}function _(){var _t=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,_t),3)}typeof SuppressedError=="function"&&SuppressedError;var $=function(){function _t(){}return _t.prototype.observe=function(){},_t.prototype.unobserve=function(){},_t.prototype.disconnect=function(){},_t}(),nt=globalThis.ResizeObserver||$,et=globalThis.ResizeObserver!==void 0,rt=!et;function lt(_t,St){St===void 0&&(St=!0);var xt=e.useState({width:0,height:0}),It=xt[0],wt=xt[1];e.useEffect(function(){if(typeof window<"u"&&St){var dt=function(){wt({width:window.innerWidth,height:window.innerHeight})};return rt&&(dt(),window.addEventListener("resize",dt)),function(){return window.removeEventListener("resize",dt)}}},[]);var Wt,Ut,Ct,kt=e.useRef(new nt((Wt=function(dt){et&&wt({width:dt[dt.length-1].contentRect.width,height:dt[dt.length-1].contentRect.height})},Ut=0,Ct=0,function(){for(var dt=this,vt=[],Ft=0;Ft<arguments.length;Ft++)vt[Ft]=arguments[Ft];clearTimeout(Ct),Ct=window.setTimeout(function(){return Wt.apply(dt,vt)},Ut)})));return e.useEffect(function(){var dt=kt.current;if(St){var vt=_t.current;return _t.current&&et&&dt.observe(_t.current),function(){dt.disconnect(),vt&&et&&dt.unobserve(vt)}}dt.disconnect()},[_t,kt]),It}var ut={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function gt(_t){return Object.assign({},ut,_t)}function at(_t){var St=_t.riveLoaded,xt=St!==void 0&&St,It=_t.canvasElem,wt=_t.containerRef,Wt=_t.options,Ut=Wt===void 0?{}:Wt,Ct=_t.onCanvasHasResized,kt=_t.artboardBounds,dt=gt(Ut),vt=e.useState({height:0,width:0}),Ft=vt[0],Lt=Ft.height,Yt=Ft.width,Qt=vt[1],tr=e.useState({height:0,width:0}),Mt=tr[0],mt=Mt.height,Rt=Mt.width,Ot=tr[1],Gt=e.useState(!0),Kt=Gt[0],Xt=Gt[1],ar=dt.fitCanvasToArtboardHeight,hr=dt.shouldResizeCanvasToContainer,Zt=dt.useDevicePixelRatio,pr=dt.customDevicePixelRatio,br=lt(wt,hr),Tr=function(Br){var Pr=Br||_(),Er=e.useState(Pr),kr=Er[0],dr=Er[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var vr=function(){var gn=Br||_();dr(gn)},Vr=window.matchMedia("screen and (resolution: ".concat(kr,"dppx)"));return Vr.hasOwnProperty("addEventListener")?Vr.addEventListener("change",vr):Vr.addListener(vr),function(){Vr.hasOwnProperty("removeEventListener")?Vr.removeEventListener("change",vr):Vr.removeListener(vr)}}},[kr,Br]),kr}(pr),Sr=kt??{},zr=Sr.maxX,Or=Sr.maxY,Dr=e.useCallback(function(){var Br,Pr,Er,kr,dr=(Pr=(Br=wt.current)===null||Br===void 0?void 0:Br.clientWidth)!==null&&Pr!==void 0?Pr:0,vr=(kr=(Er=wt.current)===null||Er===void 0?void 0:Er.clientHeight)!==null&&kr!==void 0?kr:0;return ar&&kt?{width:dr,height:dr*(kt.maxY/kt.maxX)}:{width:dr,height:vr}},[wt,ar,zr,Or]);e.useEffect(function(){if(hr&&wt.current&&xt){var Br=Dr(),Pr=Br.width,Er=Br.height,kr=!1;if(It){var dr=Pr!==Yt||Er!==Lt;if(dt.fitCanvasToArtboardHeight&&dr&&(wt.current.style.height=Er+"px",kr=!0),dt.useDevicePixelRatio){if(dr||Pr*Tr!==Rt||Er*Tr!==mt){var vr=Tr*Pr,Vr=Tr*Er;It.width=vr,It.height=Vr,It.style.width=Pr+"px",It.style.height=Er+"px",Ot({width:vr,height:Vr}),kr=!0}}else dr&&(It.width=Pr,It.height=Er,Ot({width:Pr,height:Er}),kr=!0);Qt({width:Pr,height:Er})}Ct&&(Kt||kr)&&Ct&&Ct(),Kt&&Xt(!1)}},[It,wt,br,Tr,Dr,Kt,Xt,mt,Rt,Lt,Yt,Ct,hr,ar,Zt,xt]),e.useEffect(function(){Ot({width:0,height:0})},[It])}var st,ot=function(){function _t(){}return _t.prototype.observe=function(){},_t.prototype.unobserve=function(){},_t.prototype.disconnect=function(){},_t}(),ct=globalThis.IntersectionObserver||ot,Pt=function(){function _t(){var St=this;this.elementsMap=new Map,this.onObserved=function(xt){xt.forEach(function(It){var wt=St.elementsMap.get(It.target);wt&&wt(It)})},this.observer=new ct(this.onObserved)}return _t.prototype.registerCallback=function(St,xt){this.observer.observe(St),this.elementsMap.set(St,xt)},_t.prototype.removeCallback=function(St){this.observer.unobserve(St),this.elementsMap.delete(St)},_t}(),At=function(){return st||(st=new Pt),st};function yt(_t){var St=_t.setContainerRef,xt=_t.setCanvasRef,It=_t.className,wt=It===void 0?"":It,Wt=_t.style,Ut=_t.children,Ct=h(_t,["setContainerRef","setCanvasRef","className","style","children"]),kt=c({width:"100%",height:"100%"},Wt);return a.default.createElement("div",c({ref:St,className:wt},!wt&&{style:kt}),a.default.createElement("canvas",c({ref:xt,style:{verticalAlign:"top",width:0,height:0}},Ct),Ut))}function pt(_t,St){St===void 0&&(St={});var xt=e.useState(null),It=xt[0],wt=xt[1],Wt=e.useRef(null),Ut=e.useState(null),Ct=Ut[0],kt=Ut[1],dt=!!_t,vt=gt(St),Ft=e.useCallback(function(){Ct&&(Ct.startRendering(),Ct.resizeToCanvas())},[Ct]);at({riveLoaded:!!Ct,canvasElem:It,containerRef:Wt,options:vt,onCanvasHasResized:Ft,artboardBounds:Ct==null?void 0:Ct.bounds});var Lt=e.useCallback(function(Ot){Ot===null&&It&&(It.height=0,It.width=0),wt(Ot)},[]);e.useEffect(function(){if(It&&_t&&Ct==null){var Ot=vt.useOffscreenRenderer,Gt=new s.Rive(c(c({useOffscreenRenderer:Ot},_t),{canvas:It}));Gt.on(s.EventType.Load,function(){It?kt(Gt):Gt.cleanup()})}},[It,dt,Ct]);var Yt=e.useCallback(function(Ot){Wt.current=Ot},[]),Qt={observe:e.useCallback(function(Ot,Gt){At().registerCallback(Ot,Gt)},[]),unobserve:e.useCallback(function(Ot){At().removeCallback(Ot)},[])},tr=Qt.observe,Mt=Qt.unobserve;e.useEffect(function(){var Ot,Gt=!1,Kt=function(){if(It&&Gt){var Xt=It.getBoundingClientRect();Xt.width>0&&Xt.height>0&&Xt.top<(window.innerHeight||document.documentElement.clientHeight)&&Xt.bottom>0&&Xt.left<(window.innerWidth||document.documentElement.clientWidth)&&Xt.right>0&&(Ct==null||Ct.startRendering(),Gt=!1)}};return It&&vt.shouldUseIntersectionObserver!==!1&&tr(It,function(Xt){Xt.isIntersecting?Ct&&Ct.startRendering():Ct&&Ct.stopRendering(),Gt=!Xt.isIntersecting,clearTimeout(Ot),Xt.isIntersecting||Xt.boundingClientRect.width!==0||(Ot=setTimeout(Kt,10))}),function(){It&&Mt(It)}},[tr,Mt,Ct,It,vt.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){Ct&&(Ct.cleanup(),kt(null))}},[Ct,It]);var mt=_t==null?void 0:_t.animations;e.useEffect(function(){Ct&&mt&&(Ct.isPlaying?(Ct.stop(Ct.animationNames),Ct.play(mt)):Ct.isPaused&&(Ct.stop(Ct.animationNames),Ct.pause(mt)))},[mt,Ct]);var Rt=e.useCallback(function(Ot){return a.default.createElement(yt,c({setContainerRef:Yt,setCanvasRef:Lt},Ot))},[Lt,Yt]);return{canvas:It,container:Wt.current,setCanvasRef:Lt,setContainerRef:Yt,rive:Ct,RiveComponent:Rt}}i.default=function(_t){var St=_t.src,xt=_t.artboard,It=_t.animations,wt=_t.stateMachines,Wt=_t.layout,Ut=_t.useOffscreenRenderer,Ct=Ut===void 0||Ut,kt=_t.shouldDisableRiveListeners,dt=kt!==void 0&&kt,vt=_t.shouldResizeCanvasToContainer,Ft=vt===void 0||vt,Lt=_t.automaticallyHandleEvents,Yt=Lt!==void 0&&Lt,Qt=_t.children,tr=h(_t,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),Mt=pt({src:St,artboard:xt,animations:It,layout:Wt,stateMachines:wt,autoplay:!0,shouldDisableRiveListeners:dt,automaticallyHandleEvents:Yt},{useOffscreenRenderer:Ct,shouldResizeCanvasToContainer:Ft}).RiveComponent;return a.default.createElement(Mt,c({},tr),Qt)},i.useResizeCanvas=at,i.useRive=pt,i.useRiveFile=function(_t){var St=this,xt=e.useState(null),It=xt[0],wt=xt[1],Wt=e.useState("idle"),Ut=Wt[0],Ct=Wt[1];return e.useEffect(function(){var kt=null;return d(St,void 0,void 0,function(){return g(this,function(dt){try{Ct("loading"),(kt=new s.RiveFile(_t)).init(),kt.on(s.EventType.Load,function(){kt==null||kt.getInstance(),wt(kt),Ct("success")}),kt.on(s.EventType.LoadError,function(){Ct("failed")}),wt(kt)}catch(vt){console.error(vt),Ct("failed")}return[2]})}),function(){kt==null||kt.cleanup()}},[_t.src,_t.buffer]),{riveFile:It,status:Ut}},i.useStateMachineInput=function(_t,St,xt,It){var wt=e.useState(null),Wt=wt[0],Ut=wt[1];return e.useEffect(function(){function Ct(){if(_t&&St&&xt||Ut(null),_t&&St&&xt){var kt=_t.stateMachineInputs(St);if(kt){var dt=kt.find(function(vt){return vt.name===xt});It!==void 0&&dt&&(dt.value=It),Ut(dt||null)}}else Ut(null)}Ct(),_t&&_t.on(s.EventType.Load,function(){Ct()})},[_t]),Wt},Object.keys(s).forEach(function(_t){_t==="default"||i.hasOwnProperty(_t)||Object.defineProperty(i,_t,{enumerable:!0,get:function(){return s[_t]}})})})(dist);const Rive=getDefaultExportFromCjs(dist);export{AnimatePresence as A,BrowserRouter as B,CopyToClipboard$1 as C,ForwardRef$5 as F,HelmetProvider as H,Link as L,Navigate as N,React as R,Routes as a,Route as b,client as c,ForwardRef$1 as d,ForwardRef$2 as e,NavLink as f,ForwardRef$4 as g,ForwardRef as h,initializeApp as i,jsxRuntimeExports as j,getFirestore as k,lottie as l,motion as m,useNavigate as n,ForwardRef$3 as o,doc as p,getDoc as q,reactExports as r,Helmet as s,ForwardRef$6 as t,useLocation as u,dist as v,Rive as w};
